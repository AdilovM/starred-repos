import{a as U,b as v,c as w}from"./chunk-GFM7MGSV.js";import"./chunk-HGLKSJXE.js";import"./chunk-76HOP7CX.js";import{c as M,f as S}from"./chunk-JVL6PN7W.js";import{a as k}from"./chunk-KCN7NYIH.js";import"./chunk-YG5VU5UW.js";import"./chunk-CWNFCDZO.js";import{a as P}from"./chunk-IHTWZOQH.js";import"./chunk-OFY5O3WH.js";import"./chunk-ECKCXZDJ.js";import"./chunk-5AD3ZUGZ.js";import"./chunk-2OWL4LTV.js";import"./chunk-62V4AEVH.js";import"./chunk-WDJIMBUZ.js";import"./chunk-ZK4YBVUK.js";import"./chunk-URMVBSCF.js";import"./chunk-CEAYBKHZ.js";import{a as f}from"./chunk-RZQ4QVPP.js";import"./chunk-M3VXQ3H4.js";import{a as B}from"./chunk-UJ4RDOBF.js";import{a as l}from"./chunk-EWS3NXQH.js";import{c as h,d as C,g as r,h as m,i as F}from"./chunk-AQDAG4C2.js";import"./chunk-TT3E6PQD.js";import"./chunk-WNVFIGRJ.js";import"./chunk-BYK2LYTJ.js";import"./chunk-SOUDSSPT.js";import"./chunk-YN3ICWDL.js";import"./chunk-JXNVBN57.js";import"./chunk-4JRWSVEX.js";import"./chunk-FJD4SS3V.js";import"./chunk-TKNWVBCA.js";import"./chunk-V454E5QD.js";import"./chunk-4DDSFSZM.js";import{a as y}from"./chunk-M5TAP4VX.js";import"./chunk-X4YGTLGV.js";import"./chunk-BBW4QHNN.js";import{d as b}from"./chunk-CL7MNENB.js";import"./chunk-5ZVMZG6E.js";import"./chunk-33HWVBTX.js";import{a as n,b as u,f as j,i as z}from"./chunk-ORNWO27Z.js";var o=j(z());var A=({match:{params:{orgId:L}}})=>{let p={organisation:L},[d,a]=(0,o.useState)({}),[E,s]=(0,o.useState)(!1),{data:Q,loading:i}=y(M,{variables:p}),[q,{loading:x}]=f(S,{onCompleted:()=>{s(!1),a({type:"success",message:"Your card has been updated."})},onError:t=>{a({type:"error",message:P(t)})}}),D=t=>{q({variables:u(n({},p),{billingInfo:t})})},T=()=>s(!1),I=()=>a({}),{organisation:g}=Q||{},{name:N,subscription:O,billingInfo:c}=g||{},{customer:Y}=O||{},{card:e}=Y||{},$=g?e?E:!0:!1;return o.default.createElement(U,null,o.default.createElement(B,{id:"organisations.payment.title",breadcrumbs:[N]}),o.default.createElement(h,null,o.default.createElement(C,null,d.type&&o.default.createElement(k,n({p:0,pb:4,duration:0,onDismiss:I},d))||null,i?o.default.createElement(o.default.Fragment,null,o.default.createElement(l,{mb:2})):o.default.createElement(F,{id:`organisations.payment.${e?"existing":"add"}`}),i&&o.default.createElement(r,null,o.default.createElement(m,{span:2},o.default.createElement(l,{height:64,width:"100%"})))||($?o.default.createElement(b,{id:"organisations.payment.actions.save"},t=>o.default.createElement(w,n({onCancel:e?T:null,onUpdate:D,loading:i,saving:x,action:t},c||{}))):o.default.createElement(r,null,o.default.createElement(m,{span:2},o.default.createElement(v,n(n({onUpdate:()=>s(!0)},c),e))))))))},no=A;export{no as default};
//# sourceMappingURL=Payment-T6FZJQVW.js.map
