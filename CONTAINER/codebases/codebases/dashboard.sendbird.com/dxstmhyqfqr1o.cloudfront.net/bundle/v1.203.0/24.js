(window.webpackJsonp=window.webpackJsonp||[]).push([[24,3],{"0/fP":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("vOnD"),i=n("JsuU"),o=n("nKUr");const r=a.default.div.withConfig({displayName:"authenticationBadge__Container",componentId:"wqj9bx-0"})(["padding:2px 6px;display:inline-flex;flex-direction:row;align-items:center;justify-content:center;border-radius:4px;background-color:",";font-size:12px;font-weight:500;line-height:16px;color:",";> svg{margin-right:5px;}& + &{margin-left:8px;}"],Object(i.cssVariables)("neutral-1"),Object(i.cssVariables)("neutral-6")),s=Object(a.default)(({children:e,className:t})=>Object(o.jsxs)(r,{className:t,children:[Object(o.jsx)("svg",{viewBox:"0 0 6 6",width:"6",height:"6",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("circle",{cx:"50%",cy:"50%",r:"3",fill:Object(i.cssVariables)("green-5")})}),e]})).withConfig({displayName:"authenticationBadge__AuthenticationBadge",componentId:"wqj9bx-1"})([""])},"3F6K":function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return O}));n("E9XD"),n("3bBZ");var a=n("q1tI"),i=n("dDsW"),o=n("/MKj"),r=n("JsuU"),s=n("hyLW"),l=n.n(s),c=n("jGY4"),d=n("b2r9"),u=n("Tqso"),p=n("cAlb"),m=n("brpS"),g=n("Mfcq"),h=n("UWC4"),b=n("7asU"),f=n("W7Pl"),j=n("nKUr");const x=e=>{const{intl:t,subscriptionPlansData:n}=e;return Object.keys(n).reduce((e,a)=>{if(a.includes("plan_a")){const i=n[a];e.starter.push({subscriptionName:a,displayName:t.formatMessage({id:"common.subscriptionPlan.starter.displayName"},{mau:String(l()(i.mau.purchased_units).format("0a")).toUpperCase()}),quota:i.mau.purchased_units,baseFee:i.base_fee.cost_per_unit})}if(a.includes("plan_b")){const i=n[a];e.pro.push({subscriptionName:a,displayName:t.formatMessage({id:"common.subscriptionPlan.pro.displayName"},{mau:String(l()(i.mau.purchased_units).format("0a")).toUpperCase()}),quota:i.mau.purchased_units,baseFee:i.base_fee.cost_per_unit})}return e},{starter:[],pro:[]})},y=()=>{const e=Object(i.a)(),t=Object(f.O)(),[{data:n,status:o},r]=Object(f.g)(()=>Object(p.fetchSubscriptionPlans)(t.uid),[t.uid]),s=null==n?void 0:n.data;return Object(a.useEffect)(()=>{r()},[r]),{isFetching:"loading"===o,plans:s?x({intl:e,subscriptionPlansData:s}):{starter:[],pro:[]},allPlans:s,planA1kAvailable:!(null==s||!s.plan_a_1k)}},O=()=>{const e=Object(i.a)(),{updateSubscriptions:t,fetchSubscriptions:n}=Object(a.useContext)(c.a),s=Object(f.W)(),l=Object(o.f)(),{reload:p}=Object(m.b)(),x=e=>{r.toast.error({message:Object(b.c)(e)})};return{showChangePlanDialog:e=>{s({dialogTypes:g.a.ChangePlan,dialogProps:{currentSubscription:e.currentSubscription,selectedSubscriptionPlan:e.selectedPlan,onSuccessSubmit:e.onSuccess,onChangePlanSuccessConfirm:e=>{var a;e?(t({product:h.bc.Chat,info:{current:e,future:null}}),a=e.organization,l(d.b.updateOrganizationSuccess(a)),p()):n()}}})},showUndoCancelSubscriptionDialog:t=>{s({dialogTypes:g.a.ConfirmWithOrganizationName,dialogProps:{title:e.formatMessage({id:"common.dialog.undoCancelSubscription.title"}),description:e.formatMessage({id:"common.dialog.undoCancelSubscription.description"}),onSuccess:()=>{r.toast.success({message:e.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.toast.success.undoCancelSubscription"})}),n()},onError:x,api:u.e.cancelUnsubscribeSubscription,payload:t.currentSubscription.id,positiveButtonProps:{text:e.formatMessage({id:"common.settings.general.subscriptionPlan.button.resubscribe"})}}})},showCancelSubscriptionDialog:t=>{s({dialogTypes:g.a.ConfirmWithOrganizationName,dialogProps:{title:e.formatMessage({id:"common.dialog.cancelSubscription.title"}),description:e.formatMessage({id:"common.dialog.cancelSubscription.description"}),subDescription:e.formatMessage({id:"common.dialog.cancelSubscription.subDescription"}),onSuccess:()=>{r.toast.warning({message:e.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.toast.warning.cancelPlan"})}),n()},onError:x,api:u.e.unsubscribeSubscriptionPlan,payload:{subscription_id:t.currentSubscription.id,endReason:t.endReason},negativeButtonProps:{text:e.formatMessage({id:"common.dialog.confirmWithOrganizationName.keepSubscription"}),buttonType:"primary"},positiveButtonProps:{text:e.formatMessage({id:"common.settings.general.subscriptionPlan.button.cancelSubscription"}),buttonType:"tertiary"},renderGuideImage:()=>Object(j.jsx)("img",{alt:e.formatMessage({id:"common.settings.general.subscriptionPlan.imageAlt"}),width:432,height:136,srcSet:`${h.n}/dashboard/img-page-cancelrequest.png,\n                ${h.n}/dashboard/img-page-cancelrequest%402x.png 2x,\n                ${h.n}/dashboard/img-page-cancelrequest%403x.png 3x\n                `,src:`${h.n}/dashboard/img-page-cancelrequest.png`})}})},showUndoPlanChangeRequestDialog:t=>{s({dialogTypes:g.a.ConfirmWithOrganizationName,dialogProps:{title:e.formatMessage({id:"common.dialog.undoDowngrade.title"}),description:e.formatMessage({id:"common.dialog.undoDowngrade.description"}),onSuccess:()=>{r.toast.success({message:e.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.toast.success.undoPlanChangeRequest"})}),n()},onError:x,api:u.e.cancelDowngradeSubscription,payload:t.futureSubscription.id,positiveButtonProps:{text:e.formatMessage({id:"common.settings.general.subscriptionPlan.button.keepPlan"})}}})},show1kSubscriptionDialog:e=>{s({dialogTypes:g.a.Confirm1k,dialogProps:e})},showReasonForCancelDialog:e=>{s({dialogTypes:g.a.ReasonForCancel,dialogProps:e})}}}},"5rLa":function(e,t,n){"use strict";var a=n("vOnD"),i=n("nKUr");const o=a.default.div.withConfig({displayName:"OrderComponent__OrderContainer",componentId:"sc-3bhy1k-0"})([""]);t.a=({id:e,children:t})=>Object(i.jsx)(o,{id:e,children:t})},"7hLt":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));var a=n("q1tI"),i=n("dDsW"),o=n("Q+E5"),r=n("UWC4");const s={advanced_analytics:"common.features.name.advanced_analytics",announcement:"common.features.name.announcement",auto_thumbnail:"common.features.name.auto_thumbnail",bot_interface:"common.features.name.bot_interface",daily_active_user:"common.features.name.daily_active_user",data_export:"common.features.name.data_export",delivery_receipt:"common.features.name.delivery_receipt",disappearing_messages:"common.features.name.disappearing_messages",domain_filter:"common.features.name.domain_filter",file_storage:"common.features.name.file_storage",image_moderation:"common.features.name.image_moderation",message_retrieval:"common.features.name.message_retrieval",message_search:"common.features.name.message_search",migration:"common.features.name.migration",moderation_tools:"common.features.name.moderation_tools",monthly_active_user:"common.features.name.monthly_active_user",peak_connection:"common.features.name.peak_connection",profanity_filter:"common.features.name.profanity_filter",supergroup:"common.features.name.supergroup",text_moderation:"common.features.name.text_moderation",translation_tools:"common.features.name.translation_tools",upload_traffic:"common.features.name.upload_traffic",webhook:"common.features.name.webhook"},l=()=>{const e=Object(i.a)(),{supergroupMemberLimit:t,isSupergroupSupportedByPlan:n}=Object(o.a)();return Object(a.useMemo)(()=>{if(n){const n=t?`${(t/1e3).toFixed(0)}K`:null;return n?e.formatMessage({id:"common.features.name.supergroupWithTier"},{tier:n}):e.formatMessage({id:s.supergroup})}return e.formatMessage({id:s.supergroup})},[e,n,t])},c=()=>{const e=Object(i.a)(),t=l();return Object(a.useCallback)(({featureKey:n,billingPlanItem:a})=>n===r.u.Supergroup?t:(s[n]?e.formatMessage({id:s[n]}):null==a?void 0:a.display_name)||n,[e,t])},d=({intl:e,usageField:t})=>{switch(t){case"message_search_index":return e.formatMessage({id:"common.features.usage.message_search.message_search_index.title"});case"message_search_query":return e.formatMessage({id:"common.features.usage.message_search.message_search_query.title"});default:return null}},u=()=>{const e=Object(i.a)(),t=c();return n=>{const{featureKey:a,usageField:i}=n,o=d({intl:e,usageField:i}),r=t({featureKey:a});return null!=o?o:r}}},"7hkf":function(e,t,n){"use strict";var a=n("q1tI"),i=n("dDsW"),o=n("vOnD"),r=n("JsuU"),s=n("hyLW"),l=n.n(s),c=n("Mfcq"),d=n("8hhJ"),u=n("UWC4"),p=n("kmMa"),m=n("Dx34"),g=n("nKUr");const h=o.default.img.withConfig({displayName:"OverageTooltip__OverageTooltipImage",componentId:"sc-18f438m-0"})(["margin:24px 0;"]),b=Object(o.default)(r.ContextualHelpContent.Body).withConfig({displayName:"OverageTooltip__OverageTooltipBody",componentId:"sc-18f438m-1"})(["strong{font-weight:600;}p + p{margin-top:16px;}"]);var f=n("S8/c"),j=n("wfeo"),x=n("ponP");const y=o.default.div.withConfig({displayName:"UsageDetailMonthlyQuota__MultipleFeatureDescription",componentId:"sc-1gyhaui-0"})(["display:initial;",";"],r.Body["body-short-01"]),O=o.default.div.withConfig({displayName:"UsageDetailMonthlyQuota__MultipleFeatureUsageName",componentId:"sc-1gyhaui-1"})(["display:block;",";"," + &{margin-top:16px;}"],r.Headings["heading-01"],y),v=e=>l()(e).format({thousandSeparated:!0,mantissa:0});var _=Object(o.default)(({className:e,placement:t="bottom"})=>{const n=Object(i.a)();return Object(g.jsx)(m.a,{className:e,content:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(r.ContextualHelpContent.Header,{children:n.formatMessage({id:"ui.usage.overage.title"})}),Object(g.jsx)(h,{src:`${u.n}/dashboard/img-overage.png`,srcSet:`${u.n}/dashboard/img-overage.png,\n  ${u.n}/dashboard/img-overage%402x.png 2x,\n  ${u.n}/dashboard/img-overage%403x.png 3x\n  `}),Object(g.jsxs)(b,{children:[Object(g.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:n.formatMessage({id:"ui.usage.overage.content.quota"},{strong:e=>Object(g.jsx)("strong",{children:e})})}),Object(g.jsx)("p",{children:n.formatMessage({id:"ui.usage.overage.content.limit"},{strong:e=>Object(g.jsx)("strong",{children:e}),a:e=>Object(g.jsx)(r.Link,{variant:r.LinkVariant.Inline,useReactRouter:!0,href:"/settings/contact_us?category=service_limit_increase",children:e})})})]})]}),tooltipContentStyle:Object(o.css)(["width:322px;"]),placement:t})}).withConfig({displayName:"UsageDetailMonthlyQuota___StyledOverageTooltip",componentId:"sc-1gyhaui-2"})(["display:inline-block;> div{display:inline-block;min-height:auto;min-width:auto;line-height:1;vertical-align:middle;svg{fill:",";}}"],e=>e._css);t.a=({quotas:e})=>{const t=Object(i.a)(),n=Object(p.a)(),o=Object(a.useCallback)(()=>{n({dialogTypes:c.a.Overage})},[n]),s=Object(a.useMemo)(()=>e.map(({usageField:n,quota:a,limit:i},s)=>{const l=u.kb.includes(n),c=e.length>1,p=l?Object(x.transformBytesToGigaByte)(a):a,m=v(p),h=l?Object(x.transformBytesToGigaByte)(i):i,b=v(h),{unit:f}=Object(j.d)({usageField:n}),w=f?t.formatMessage({id:f},{strong:()=>Object(g.jsx)(g.Fragment,{children:m}),value:parseInt(p.toString())}):null,C=f?t.formatMessage({id:f},{strong:()=>Object(g.jsx)(g.Fragment,{children:b}),value:parseInt(h.toString())}):null,S=t.formatMessage({id:"common.settings.usage.usageDetail.monthlyQuota.quotaAndLimit"},{quota:w,limit:C}),M=c?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O,{children:Object(d.a)({intl:t,usageField:n})}),Object(g.jsx)(y,{children:S})]}):S,k=e.length-1===s?[{type:"button",label:t.formatMessage({id:"common.settings.usage.usageDetail.monthlyQuota.button.overage"}),onClick:o}]:void 0;return{description:M,descriptionSuffix:Object(g.jsx)(_,{placement:"bottom-start",_css:Object(r.cssVariables)("content-2")}),actions:k}}),[o,t,e]);return Object(g.jsx)(f.a,{title:t.formatMessage({id:"common.settings.usage.usageDetail.monthlyQuota.title"}),contents:s,isMultipleContents:s.length>1})}},"8hhJ":function(e,t,n){"use strict";var a=n("7hLt");n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.d}))},"9/EM":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("/h9T"),i=n("/Tr7"),o=n("jIYg");function r(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(a.a)(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}},AuOK:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("JsuU"),i=n("hyLW"),o=n.n(i),r=n("UWC4"),s=n("ponP"),l=n("nKUr");const c=e=>o()(e).format({thousandSeparated:!0,mantissa:0}),d=({intl:e,isFreeTrial:t,limit:n,onLinkClick:i,unit:o})=>{if(t)return{warning:"You've almost reached your quota.",over:"You've exceeded your quota.",willStop:e.formatMessage({id:"common.usage.alerts.free.quota80"}),stopped:e.formatMessage({id:"common.usage.alerts.free.quota100"})};const d="gigabyte"===o?c(Object(s.transformBytesToGigaByte)(n))+r.pc:c(n),u=e=>Object(l.jsx)(a.Link,{variant:a.LinkVariant.Default,iconProps:{icon:"chevron-right",size:16},onClick:i,children:e});return{warning:e.formatMessage({id:"common.usage.alerts.warning"},{a:u}),over:e.formatMessage({id:"common.usage.alerts.over"},{limit:d,a:u}),willStop:e.formatMessage({id:"common.usage.alerts.willStop"},{limit:d,a:u}),stopped:e.formatMessage({id:"common.usage.alerts.stopped"},{limit:d})}}},BTlO:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n("q1tI"),i=n("dDsW"),o=n("vOnD"),r=n("JsuU"),s=n("Mfcq"),l=n("UWC4"),c=n("W7Pl"),d=n("6889"),u=n("AuOK"),p=n("E5lX"),m=n("wfeo"),g=n("ponP"),h=n("nKUr");const b=o.default.div.withConfig({displayName:"UsageColumnUsage__UsageWrapper",componentId:"sc-1barrcs-0"})(["margin-top:2px;margin-bottom:-6px;padding-right:24px;width:100%;display:flex;flex-direction:column;"]),f=o.default.strong.withConfig({displayName:"UsageColumnUsage__UsageValue",componentId:"sc-1barrcs-1"})(["",";color:",";"],r.Typography["label-02"],({$color:e})=>Object(r.cssVariables)(e||"content-1")),j=o.default.small.withConfig({displayName:"UsageColumnUsage__UsageValueWithUnit",componentId:"sc-1barrcs-2"})(["",";color:",";"],r.Typography["label-02"],({$color:e})=>Object(r.cssVariables)(e||"content-2")),x=({usageField:e,usageValue:t,unitType:n,availability:a})=>{const o=Object(i.a)(),r="gigabyte"===n?Object(g.transformBytesToGigaByte)(t):t,s=Object(g.getTransformedUsage)(r),{content:l}=Object(m.b)(a),c=a===p.a.available?void 0:l,{unit:d}=Object(m.d)({usageField:e}),u=d?o.formatMessage({id:d},{strong:()=>Object(h.jsx)(f,{$color:c,children:s}),value:parseInt(r.toString())}):null;return Object(h.jsx)(j,{$color:c,children:u})};var y=Object(o.default)(r.Link).withConfig({displayName:"UsageColumnUsage___StyledLink",componentId:"sc-1barrcs-3"})(["margin-left:80px;"]);const O=({record:{feature:e,usageData:t,isEnabled:n},subscription:p,skipUpgradeCheck:f=!1,showPercent:j=!0,showAlert:O=!0})=>{const v=Object(i.a)(),_=Object(c.W)(),w=Object(a.useCallback)(()=>{_({dialogTypes:s.a.Overage})},[_]);return n||f?e.trackable?Object(h.jsx)(b,{children:t.map(({usage:n,others:a,quota:i,limit:o,usageField:r})=>{const s=Object(g.isByteUsageFeature)(r)?"gigabyte":"",c=n+(null!=a?a:0),b=Object(m.a)(c,i,o);return Object(h.jsx)(d.yc,{unitType:s,variant:"mini",name:t.length>1?v.formatMessage({id:`common.features.usage.${e.key}.${r}.title`}):"",label:Object(h.jsx)(x,{usageField:r,usageValue:n,unitType:s,availability:b}),usage:n,others:a,usageField:r,quota:i,limit:o,showPercent:j,showAlert:O,showBarChartRange:!0,availabilityTooltips:Object(u.a)({intl:v,isFreeTrial:(null==p?void 0:p.subscription_name)===l.ac.FreeTrial,limit:o,unit:s,onLinkClick:w})},`usageItem_${r}`)})}):null:"SALES_CUSTOM"===(null==p?void 0:p.subscription_type)?Object(h.jsx)(r.ContextualHelp,{content:v.formatMessage({id:"common.settings.usage.usageTable.upgradePlan.tooltip"}),tooltipContentStyle:Object(o.css)(["width:256px;"]),placement:"top-start",popperProps:{modifiers:{offset:{offset:"-8, 10"}}},children:Object(h.jsx)(r.Link,{disabled:!0,children:v.formatMessage({id:"common.settings.usage.usageTable.upgradePlan.button"})})}):Object(h.jsx)(y,{href:"/settings/general",useReactRouter:!0,children:v.formatMessage({id:"common.settings.usage.usageTable.upgradePlan.button"})})}},BYGL:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("q1tI"),i=n("dDsW"),o=n("vOnD"),r=n("JsuU"),s=n("hyLW"),l=n.n(s),c=n("Mfcq"),d=n("UWC4"),u=n("W7Pl"),p=n("ponP"),m=n("6889"),g=n("nKUr");const h=e=>l()(e).format({thousandSeparated:!0,mantissa:0});var b=Object(o.default)(r.InlineNotification).withConfig({displayName:"QuotaNotification___StyledInlineNotification",componentId:"cz670s-0"})(["a{text-decoration:underline;color:",";svg{fill:",";}&:hover{color:",";svg{fill:",";}}}"],e=>e._css,e=>e._css2,e=>e._css3,e=>e._css4);const f=Object(o.default)(({isFreeTrial:e,usage:t,quota:n,limit:o,unit:s,className:l})=>{const f=Object(i.a)(),j=Object(u.W)(),x=t/n*100,y=t/o*100,O=Object(a.useCallback)(()=>{j({dialogTypes:c.a.Overage})},[j]),v="gigabyte"===s?`${h(Object(p.transformBytesToGigaByte)(o))}${d.pc}`:h(o),_=Object(a.useCallback)(e=>Object(g.jsx)(m.s,{onClick:O,children:e}),[O]),w=Object(a.useMemo)(()=>{if(e){if(x>=100)return f.formatMessage({id:"common.usage.alerts.free.quota100"});if(x>=80)return f.formatMessage({id:"common.usage.alerts.free.quota80"})}return y>=100?f.formatMessage({id:"common.usage.alerts.stopped"},{limit:v}):y>=80?f.formatMessage({id:"common.usage.alerts.willStop"},{limit:v,a:_}):x>=100?f.formatMessage({id:"common.usage.alerts.over"},{limit:v,a:_}):x>=80?f.formatMessage({id:"common.usage.alerts.warning"},{a:_}):void 0},[v,f,e,y,_,x]);return w?Object(g.jsx)(b,{className:`${l} usageDetailNotification`,type:e&&x>=100||y>=100?"error":"warning",message:w,"data-test-id":"QuotaNotification",_css:Object(r.cssVariables)("content-1"),_css2:Object(r.cssVariables)("content-1"),_css3:Object(r.cssVariables)("content-1"),_css4:Object(r.cssVariables)("content-1")}):null}).withConfig({displayName:"QuotaNotification",componentId:"cz670s-1"})([""])},Br5W:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a="https://sendbird.com",i=e=>`https://gate.sendbird.com/sso/${e}/acs`},ByFW:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("dDsW"),i=n("vOnD"),o=n("JsuU"),r=n("nKUr");const s=i.default.div.withConfig({displayName:"NoPlanError__Container",componentId:"aqi5y3-0"})(["width:640px;text-align:center;*{text-align:inherit;}"]),l=i.default.h5.withConfig({displayName:"NoPlanError__Title",componentId:"aqi5y3-1"})(["",";color:",";margin-top:12px;padding:0 32px;"],o.Subtitles["subtitle-03"],Object(o.cssVariables)("neutral-7")),c=i.default.p.withConfig({displayName:"NoPlanError__Description",componentId:"aqi5y3-2"})(["",";color:",";margin-top:4px;white-space:pre-line;"],o.Body["body-short-01"],Object(o.cssVariables)("neutral-7")),d=i.default.div.withConfig({displayName:"NoPlanError__ErrorType",componentId:"aqi5y3-3"})(["width:100%;border:1px solid ",";border-radius:4px;padding:24px 0;margin-top:24px;"],Object(o.cssVariables)("neutral-3")),u=i.default.h6.withConfig({displayName:"NoPlanError__ErrorTypeLabel",componentId:"aqi5y3-4"})(["",";color:",";"],o.Headings["heading-01"],Object(o.cssVariables)("neutral-6")),p=i.default.p.withConfig({displayName:"NoPlanError__ErrorTypeDescription",componentId:"aqi5y3-5"})(["",";color:",";margin-top:2px;"],o.Subtitles["subtitle-01"],Object(o.cssVariables)("neutral-6")),m=({className:e})=>{const t=Object(a.a)();return Object(r.jsxs)(s,{className:e,children:[Object(r.jsx)(o.Icon,{icon:"error",size:80,color:Object(o.cssVariables)("neutral-5")}),Object(r.jsx)(l,{children:t.formatMessage({id:"common.noPlanError.title"})}),Object(r.jsx)(c,{children:t.formatMessage({id:"common.noPlanError.description"},{a:e=>Object(r.jsx)(o.Link,{variant:o.LinkVariant.Inline,useReactRouter:!0,href:"/settings/contact_us",children:e})})}),Object(r.jsxs)(d,{children:[Object(r.jsx)(u,{children:t.formatMessage({id:"common.noPlanError.errorTypeLabel"})}),Object(r.jsx)(p,{children:t.formatMessage({id:"common.noPlanError.errorTypeDescription"})})]})]})}},EE1x:function(e,t,n){"use strict";const a=e=>e&&e.includeBoundaries?"(?:(?<=\\s|^)(?=[a-fA-F\\d:])|(?<=[a-fA-F\\d:])(?=\\s|$))":"",i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",r=`\n(?:\n(?:${o}:){7}(?:${o}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${o}:){6}(?:${i}|:${o}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${o}:){5}(?::${i}|(?::${o}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${o}:){4}(?:(?::${o}){0,1}:${i}|(?::${o}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${o}:){3}(?:(?::${o}){0,2}:${i}|(?::${o}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${o}:){2}(?:(?::${o}){0,3}:${i}|(?::${o}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${o}:){1}(?:(?::${o}){0,4}:${i}|(?::${o}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${o}){0,5}:${i}|(?::${o}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp(`(?:^${i}$)|(?:^${r}$)`),l=new RegExp(`^${i}$`),c=new RegExp(`^${r}$`),d=e=>e&&e.exact?s:new RegExp(`(?:${a(e)}${i}${a(e)})|(?:${a(e)}${r}${a(e)})`,"g");d.v4=e=>e&&e.exact?l:new RegExp(`${a(e)}${i}${a(e)}`,"g"),d.v6=e=>e&&e.exact?c:new RegExp(`${a(e)}${r}${a(e)}`,"g"),e.exports=d},ETJ2:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"default",(function(){return l}));n("q1tI");var a=n("7ljp"),i=n("5rLa");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const r={communityUrl:"https://community.sendbird.com/t/usage-calculation-chatbot-interface/2963"},s={frontMatter:r};function l({components:e,...t}){return Object(a.a)("wrapper",o({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.a)(i.a,{id:"application",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Application?"),Object(a.a)("h4",null,"[Formula]"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"Active chatbot usage = (number of active chatbot) ","*"," (active days per chatbot)")),Object(a.a)("p",null,"Takes the number of active chatbot integrated over the course of the month.\nThen, counts how many day(s) each integrated chatbot stayed active within the month."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"The following is an example of usage calculation for active chatbot at an application level."),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"Usage for January 1 - 31:"),"\nJanuary 1: integrated 1 chatbot (active for 31days)\nJanuary 10: integrated 2 chatbot (active for 22days)\nJanuary 15: integrated 1 chatbot (active for 17days)")),Object(a.a)("p",null,"Then, ",Object(a.a)("strong",{parentName:"p"},"active chatbot")," usage for this month is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"(1 ",Object(a.a)("em",{parentName:"p"}," 31) + (2 ")," (31-9)) + (1 ","*"," (31-14))\n= (31) + (44) + (17)\n= ",Object(a.a)("strong",{parentName:"p"},"92 active chatbot")))),Object(a.a)(i.a,{id:"organization",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Organization?"),Object(a.a)("p",null,"The sum of all active chatbot usage in Sendbird server across all existing applications within the organization."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"Let’s say there are a total of ",Object(a.a)("strong",{parentName:"p"},"3 applications")," within your organization.\nactive chatbot usage for each application is as shown below:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"App A :")," 40 active chatbots\n",Object(a.a)("strong",{parentName:"p"},"App B :")," 100 active chatbots\n",Object(a.a)("strong",{parentName:"p"},"App C :")," 20 active chatbots")),Object(a.a)("p",null,"Then, organization’s ",Object(a.a)("strong",{parentName:"p"},"active chatbot")," usage for this month is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"40 + 100 + 20 = ",Object(a.a)("strong",{parentName:"p"},"160 active chatbots")))))}l.isMDXComponent=!0},HX2K:function(e,t,n){e.exports=function(e){var t=e.helpers,a=n("wU0g")(e);function i(e){var t=!1,n=e.filter((function(e){switch(e){case"mouseenter":case"mouseover":case"mouseout":case"mouseleave":return t=!0,!1;default:return!0}}));return t&&-1===n.indexOf("mousemove")&&n.push("mousemove"),n}return{dispatcher:function(e){var n=this.annotation,o=a.elements(this),r=t.getRelativePosition(e,this.chart),s=a.getNearestItems(o,r),l=i(n.options.events),c=n.options.dblClickSpeed,d=[],u=a.getEventHandlerName(e.type),p=(s||{}).options;if("mousemove"===e.type&&(s&&!s.hovering?["mouseenter","mouseover"].forEach((function(t){var n=a.getEventHandlerName(t),i=a.createMouseEvent(t,e);s.hovering=!0,"function"==typeof p[n]&&d.push([p[n],i,s])})):s||o.forEach((function(t){if(t.hovering){t.hovering=!1;var n=t.options;["mouseout","mouseleave"].forEach((function(i){var o=a.getEventHandlerName(i),r=a.createMouseEvent(i,e);"function"==typeof n[o]&&d.push([n[o],r,t])}))}}))),s&&l.indexOf("dblclick")>-1&&"function"==typeof p.onDblclick){if("click"===e.type&&"function"==typeof p.onClick)return clearTimeout(s.clickTimeout),s.clickTimeout=setTimeout((function(){delete s.clickTimeout,p.onClick.call(s,e)}),c),e.stopImmediatePropagation(),void e.preventDefault();"dblclick"===e.type&&s.clickTimeout&&(clearTimeout(s.clickTimeout),delete s.clickTimeout)}s&&"function"==typeof p[u]&&0===d.length&&d.push([p[u],e,s]),d.length>0&&(e.stopImmediatePropagation(),e.preventDefault(),d.forEach((function(e){e[0].call(e[2],e[1])})))},collapseHoverEvents:i}}},JD84:function(e,t,n){var a=n("SKAX");e.exports=function(e,t,n,i){return a(e,(function(e,a,o){t(i,e,n(e),o)})),i}},K6oM:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"default",(function(){return l}));n("q1tI");var a=n("7ljp"),i=n("5rLa");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const r={communityUrl:"https://community.sendbird.com/t/usage-calculation-peak-concurrent-connections/2907"},s={frontMatter:r};function l({components:e,...t}){return Object(a.a)("wrapper",o({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.a)(i.a,{id:"application",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Application?"),Object(a.a)("p",null,"The highest single-day count of devices simultaneously connected to Sendbird server in a month. Each device used, and each tab opened are counted as concurrent connections."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"The following shows an application's Peak Concurrent Connection for each day of the month."),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"January 1:")," 100 connections\n",Object(a.a)("strong",{parentName:"p"},"January 2:")," 101 connections\n",Object(a.a)("strong",{parentName:"p"},"January 3:")," 110 connections\n...\n",Object(a.a)("strong",{parentName:"p"},"January 31:")," 101 connections")),Object(a.a)("p",null,"Then, ",Object(a.a)("strong",{parentName:"p"},"Application's PCC")," is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"110 connections")," because it is the highest single-day count."))),Object(a.a)(i.a,{id:"organization",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Organization?"),Object(a.a)("p",null,"The sum of all applications’ Peak Concurrent Connections within your organization."),Object(a.a)("h4",null,"[Calculation Example]"),Object(a.a)("p",null,"Let’s say there are a total of ",Object(a.a)("strong",{parentName:"p"},"3 applications")," within your organization.\nPCC for each application is as shown below:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"App A:")," 101 connections\n",Object(a.a)("strong",{parentName:"p"},"App B:")," 59 connections\n",Object(a.a)("strong",{parentName:"p"},"App C:")," 200 connections")),Object(a.a)("p",null,"Then, ",Object(a.a)("strong",{parentName:"p"},"Organization PCC")," is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"101+59+200 = ",Object(a.a)("strong",{parentName:"p"},"360 connections")))))}l.isMDXComponent=!0},KQa7:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l}));var a=n("UWC4");let i;!function(e){e.Starter="Starter",e.Pro="Pro",e.Enterprise="Enterprise"}(i||(i={}));const o=[a.ac.Enterprise,a.ac.PlanA50K,a.ac.PlanA100K,a.ac.PlanB50K,a.ac.PlanB100K],r=[a.ac.PlanA1K,a.ac.PlanA5K,a.ac.PlanA10K,a.ac.PlanA25K,a.ac.PlanA50K,a.ac.PlanA100K],s={usage:"common.subscriptionPlanDialog.table.features.title.usage",modernMessagingEssentials:"common.subscriptionPlanDialog.table.features.title.modernMessagingEssentials",advancedMessaging:"common.subscriptionPlanDialog.table.features.title.advancedMessaging",translation:"common.subscriptionPlanDialog.table.features.title.translation",moderation:"common.subscriptionPlanDialog.table.features.title.moderation",dataAndAnalytics:"common.subscriptionPlanDialog.table.features.title.dataAndAnalytics",integrations:"common.subscriptionPlanDialog.table.features.title.integrations",security:"common.subscriptionPlanDialog.table.features.title.security",compliance:"common.subscriptionPlanDialog.table.features.title.compliance",infrastructure:"common.subscriptionPlanDialog.table.features.title.infrastructure"},l={features:"common.features.table.title",subscriptionPlanModalTitle:"common.subscriptionPlanDialog.title"}},LGYb:function(e,t,n){var a=n("1hJj"),i=n("jbM+"),o=n("Xt/L"),r=n("xYSL"),s=n("dQpi"),l=n("rEGp");e.exports=function(e,t,n){var c=-1,d=i,u=e.length,p=!0,m=[],g=m;if(n)p=!1,d=o;else if(u>=200){var h=t?null:s(e);if(h)return l(h);p=!1,d=r,g=new a}else g=t?[]:m;e:for(;++c<u;){var b=e[c],f=t?t(b):b;if(b=n||0!==b?b:0,p&&f==f){for(var j=g.length;j--;)if(g[j]===f)continue e;t&&g.push(f),m.push(b)}else d(g,f,n)||(g!==m&&g.push(f),m.push(b))}return m}},"MO+k":function(e,t,n){
/*!
 * Chart.js v2.9.3
 * https://www.chartjs.org
 * (c) 2019 Chart.js Contributors
 * Released under the MIT License
 */
e.exports=function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var n={};for(var a in t)t.hasOwnProperty(a)&&(n[t[a]]=a);var i=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var o in i)if(i.hasOwnProperty(o)){if(!("channels"in i[o]))throw new Error("missing channels property: "+o);if(!("labels"in i[o]))throw new Error("missing channel labels property: "+o);if(i[o].labels.length!==i[o].channels)throw new Error("channel and label counts mismatch: "+o);var r=i[o].channels,s=i[o].labels;delete i[o].channels,delete i[o].labels,Object.defineProperty(i[o],"channels",{value:r}),Object.defineProperty(i[o],"labels",{value:s})}i.rgb.hsl=function(e){var t,n,a=e[0]/255,i=e[1]/255,o=e[2]/255,r=Math.min(a,i,o),s=Math.max(a,i,o),l=s-r;return s===r?t=0:a===s?t=(i-o)/l:i===s?t=2+(o-a)/l:o===s&&(t=4+(a-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(r+s)/2,[t,100*(s===r?0:n<=.5?l/(s+r):l/(2-s-r)),100*n]},i.rgb.hsv=function(e){var t,n,a,i,o,r=e[0]/255,s=e[1]/255,l=e[2]/255,c=Math.max(r,s,l),d=c-Math.min(r,s,l),u=function(e){return(c-e)/6/d+.5};return 0===d?i=o=0:(o=d/c,t=u(r),n=u(s),a=u(l),r===c?i=a-n:s===c?i=1/3+t-a:l===c&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*c]},i.rgb.hwb=function(e){var t=e[0],n=e[1],a=e[2];return[i.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(n,a))*100,100*(a=1-1/255*Math.max(t,Math.max(n,a)))]},i.rgb.cmyk=function(e){var t,n=e[0]/255,a=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-a,1-i)))/(1-t)||0),100*((1-a-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},i.rgb.keyword=function(e){var a=n[e];if(a)return a;var i,o,r,s=1/0;for(var l in t)if(t.hasOwnProperty(l)){var c=t[l],d=(o=e,r=c,Math.pow(o[0]-r[0],2)+Math.pow(o[1]-r[1],2)+Math.pow(o[2]-r[2],2));d<s&&(s=d,i=l)}return i},i.keyword.rgb=function(e){return t[e]},i.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,a=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92)),100*(.2126*t+.7152*n+.0722*a),100*(.0193*t+.1192*n+.9505*a)]},i.rgb.lab=function(e){var t=i.rgb.xyz(e),n=t[0],a=t[1],o=t[2];return a/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116)-16,500*(n-a),200*(a-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},i.hsl.rgb=function(e){var t,n,a,i,o,r=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[o=255*l,o,o];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var c=0;c<3;c++)(a=r+1/3*-(c-1))<0&&a++,a>1&&a--,o=6*a<1?t+6*(n-t)*a:2*a<1?n:3*a<2?t+(n-t)*(2/3-a)*6:t,i[c]=255*o;return i},i.hsl.hsv=function(e){var t=e[0],n=e[1]/100,a=e[2]/100,i=n,o=Math.max(a,.01);return n*=(a*=2)<=1?a:2-a,i*=o<=1?o:2-o,[t,100*(0===a?2*i/(o+i):2*n/(a+n)),(a+n)/2*100]},i.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,a=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),r=255*a*(1-n),s=255*a*(1-n*o),l=255*a*(1-n*(1-o));switch(a*=255,i){case 0:return[a,l,r];case 1:return[s,a,r];case 2:return[r,a,l];case 3:return[r,s,a];case 4:return[l,r,a];case 5:return[a,r,s]}},i.hsv.hsl=function(e){var t,n,a,i=e[0],o=e[1]/100,r=e[2]/100,s=Math.max(r,.01);return a=(2-o)*r,n=o*s,[i,100*(n=(n/=(t=(2-o)*s)<=1?t:2-t)||0),100*(a/=2)]},i.hwb.rgb=function(e){var t,n,a,i,o,r,s,l=e[0]/360,c=e[1]/100,d=e[2]/100,u=c+d;switch(u>1&&(c/=u,d/=u),a=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(a=1-a),i=c+a*((n=1-d)-c),t){default:case 6:case 0:o=n,r=i,s=c;break;case 1:o=i,r=n,s=c;break;case 2:o=c,r=n,s=i;break;case 3:o=c,r=i,s=n;break;case 4:o=i,r=c,s=n;break;case 5:o=n,r=c,s=i}return[255*o,255*r,255*s]},i.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,a=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,a*(1-i)+i))]},i.xyz.rgb=function(e){var t,n,a,i=e[0]/100,o=e[1]/100,r=e[2]/100;return n=-.9689*i+1.8758*o+.0415*r,a=.0557*i+-.204*o+1.057*r,t=(t=3.2406*i+-1.5372*o+-.4986*r)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(a=Math.min(Math.max(0,a),1))]},i.xyz.lab=function(e){var t=e[0],n=e[1],a=e[2];return n/=100,a/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},i.lab.xyz=function(e){var t,n,a,i=e[0];t=e[1]/500+(n=(i+16)/116),a=n-e[2]/200;var o=Math.pow(n,3),r=Math.pow(t,3),s=Math.pow(a,3);return n=o>.008856?o:(n-16/116)/7.787,t=r>.008856?r:(t-16/116)/7.787,a=s>.008856?s:(a-16/116)/7.787,[t*=95.047,n*=100,a*=108.883]},i.lab.lch=function(e){var t,n=e[0],a=e[1],i=e[2];return(t=360*Math.atan2(i,a)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(a*a+i*i),t]},i.lch.lab=function(e){var t,n=e[0],a=e[1];return t=e[2]/360*2*Math.PI,[n,a*Math.cos(t),a*Math.sin(t)]},i.rgb.ansi16=function(e){var t=e[0],n=e[1],a=e[2],o=1 in arguments?arguments[1]:i.rgb.hsv(e)[2];if(0===(o=Math.round(o/50)))return 30;var r=30+(Math.round(a/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===o&&(r+=60),r},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){var t=e[0],n=e[1],a=e[2];return t===n&&n===a?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(a/255*5)},i.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},i.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},i.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var a=parseInt(n,16);return[a>>16&255,a>>8&255,255&a]},i.rgb.hcg=function(e){var t,n=e[0]/255,a=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,a),i),r=Math.min(Math.min(n,a),i),s=o-r;return t=s<=0?0:o===n?(a-i)/s%6:o===a?2+(i-n)/s:4+(n-a)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?r/(1-s):0)]},i.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,a=1,i=0;return(a=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*a)/(1-a)),[e[0],100*a,100*i]},i.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,a=t*n,i=0;return a<1&&(i=(n-a)/(1-a)),[e[0],100*a,100*i]},i.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,a=e[2]/100;if(0===n)return[255*a,255*a,255*a];var i,o=[0,0,0],r=t%1*6,s=r%1,l=1-s;switch(Math.floor(r)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=l,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=l,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=l}return i=(1-n)*a,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},i.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),a=0;return n>0&&(a=t/n),[e[0],100*a,100*n]},i.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,a=0;return n>0&&n<.5?a=t/(2*n):n>=.5&&n<1&&(a=t/(2*(1-n))),[e[0],100*a,100*n]},i.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},i.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,a=n-t,i=0;return a<1&&(i=(n-a)/(1-a)),[e[0],100*a,100*i]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=i.gray.hsv=function(e){return[0,0,e[0]]},i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}));function a(e){var t=function(){for(var e={},t=Object.keys(n),a=t.length,i=0;i<a;i++)e[t[i]]={distance:-1,parent:null};return e}(),a=[e];for(t[e].distance=0;a.length;)for(var i=a.pop(),o=Object.keys(n[i]),r=o.length,s=0;s<r;s++){var l=o[s],c=t[l];-1===c.distance&&(c.distance=t[i].distance+1,c.parent=i,a.unshift(l))}return t}function i(e,t){return function(n){return t(e(n))}}function o(e,t){for(var a=[t[e].parent,e],o=n[t[e].parent][e],r=t[e].parent;t[r].parent;)a.unshift(t[r].parent),o=i(n[t[r].parent][r],o),r=t[r].parent;return o.conversion=a,o}n.rgb,n.hsl,n.hsv,n.hwb,n.cmyk,n.xyz,n.lab,n.lch,n.hex,n.keyword,n.ansi16,n.ansi256,n.hcg,n.apple,n.gray;var r={};Object.keys(n).forEach((function(e){r[e]={},Object.defineProperty(r[e],"channels",{value:n[e].channels}),Object.defineProperty(r[e],"labels",{value:n[e].labels});var t=function(e){for(var t=a(e),n={},i=Object.keys(t),r=i.length,s=0;s<r;s++){var l=i[s];null!==t[l].parent&&(n[l]=o(l,t))}return n}(e);Object.keys(t).forEach((function(n){var a=t[n];r[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var a=n.length,i=0;i<a;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(a),r[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(a)}))}));var s=r,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},c={getRgba:d,getHsla:u,getRgb:function(e){var t=d(e);return t&&t.slice(0,3)},getHsl:function(e){var t=u(e);return t&&t.slice(0,3)},getHwb:p,getAlpha:function(e){var t=d(e);return t||(t=u(e))||(t=p(e))?t[3]:void 0},hexString:function(e,t){return t=void 0!==t&&3===e.length?t:e[3],"#"+f(e[0])+f(e[1])+f(e[2])+(t>=0&&t<1?f(Math.round(255*t)):"")},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?m(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:m,percentString:function(e,t){if(t<1||e[3]&&e[3]<1)return g(e,t);var n=Math.round(e[0]/255*100),a=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return"rgb("+n+"%, "+a+"%, "+i+"%)"},percentaString:g,hslString:function(e,t){return t<1||e[3]&&e[3]<1?h(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:h,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return j[e.slice(0,3)]}};function d(e){if(e){var t=[0,0,0],n=1,a=e.match(/^#([a-fA-F0-9]{3,4})$/i),i="";if(a){i=(a=a[1])[3];for(var o=0;o<t.length;o++)t[o]=parseInt(a[o]+a[o],16);i&&(n=Math.round(parseInt(i+i,16)/255*100)/100)}else if(a=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(i=a[2],a=a[1],o=0;o<t.length;o++)t[o]=parseInt(a.slice(2*o,2*o+2),16);i&&(n=Math.round(parseInt(i,16)/255*100)/100)}else if(a=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<t.length;o++)t[o]=parseInt(a[o+1]);n=parseFloat(a[4])}else if(a=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<t.length;o++)t[o]=Math.round(2.55*parseFloat(a[o+1]));n=parseFloat(a[4])}else if(a=e.match(/(\w+)/)){if("transparent"==a[1])return[0,0,0,0];if(!(t=l[a[1]]))return}for(o=0;o<t.length;o++)t[o]=b(t[o],0,255);return n=n||0==n?b(n,0,1):1,t[3]=n,t}}function u(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[b(parseInt(t[1]),0,360),b(parseFloat(t[2]),0,100),b(parseFloat(t[3]),0,100),b(isNaN(n)?1:n,0,1)]}}}function p(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[b(parseInt(t[1]),0,360),b(parseFloat(t[2]),0,100),b(parseFloat(t[3]),0,100),b(isNaN(n)?1:n,0,1)]}}}function m(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function g(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function h(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function b(e,t,n){return Math.min(Math.max(t,e),n)}function f(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var j={};for(var x in l)j[l[x]]=x;var y=function(e){return e instanceof y?e:this instanceof y?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=c.getRgba(e))?this.setValues("rgb",t):(t=c.getHsla(e))?this.setValues("hsl",t):(t=c.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new y(e);var t};y.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return c.hexString(this.values.rgb)},rgbString:function(){return c.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return c.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return c.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return c.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return c.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return c.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return c.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var a=e[n]/255;t[n]=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=e,a=void 0===t?.5:t,i=2*a-1,o=this.alpha()-n.alpha(),r=((i*o==-1?i:(i+o)/(1+i*o))+1)/2,s=1-r;return this.rgb(r*this.red()+s*n.red(),r*this.green()+s*n.green(),r*this.blue()+s*n.blue()).alpha(this.alpha()*a+n.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new y,a=this.values,i=n.values;for(var o in a)a.hasOwnProperty(o)&&(e=a[o],"[object Array]"===(t={}.toString.call(e))?i[o]=e.slice(0):"[object Number]"===t?i[o]=e:console.error("unexpected color value:",e));return n}},y.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},y.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},y.prototype.getValues=function(e){for(var t=this.values,n={},a=0;a<e.length;a++)n[e.charAt(a)]=t[e][a];return 1!==t.alpha&&(n.a=t.alpha),n},y.prototype.setValues=function(e,t){var n,a,i=this.values,o=this.spaces,r=this.maxes,l=1;if(this.valid=!0,"alpha"===e)l=t;else if(t.length)i[e]=t.slice(0,e.length),l=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)i[e][n]=t[e.charAt(n)];l=t.a}else if(void 0!==t[o[e][0]]){var c=o[e];for(n=0;n<e.length;n++)i[e][n]=t[c[n]];l=t.alpha}if(i.alpha=Math.max(0,Math.min(1,void 0===l?i.alpha:l)),"alpha"===e)return!1;for(n=0;n<e.length;n++)a=Math.max(0,Math.min(r[e][n],i[e][n])),i[e][n]=Math.round(a);for(var d in o)d!==e&&(i[d]=s[e][d](i[e]));return!0},y.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},y.prototype.setChannel=function(e,t,n){var a=this.values[e];return void 0===n?a[t]:(n===a[t]||(a[t]=n,this.setValues(e,a)),this)},"undefined"!=typeof window&&(window.Color=y);var O,v=y,_={noop:function(){},uid:(O=0,function(){return O++}),isNullOrUndef:function(e){return null==e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return _.valueOrDefault(_.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,a){var i,o,r;if(_.isArray(e))if(o=e.length,a)for(i=o-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<o;i++)t.call(n,e[i],i);else if(_.isObject(e))for(o=(r=Object.keys(e)).length,i=0;i<o;i++)t.call(n,e[r[i]],r[i])},arrayEquals:function(e,t){var n,a,i,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,a=e.length;n<a;++n)if(i=e[n],o=t[n],i instanceof Array&&o instanceof Array){if(!_.arrayEquals(i,o))return!1}else if(i!==o)return!1;return!0},clone:function(e){if(_.isArray(e))return e.map(_.clone);if(_.isObject(e)){for(var t={},n=Object.keys(e),a=n.length,i=0;i<a;++i)t[n[i]]=_.clone(e[n[i]]);return t}return e},_merger:function(e,t,n,a){var i=t[e],o=n[e];_.isObject(i)&&_.isObject(o)?_.merge(i,o,a):t[e]=_.clone(o)},_mergerIf:function(e,t,n){var a=t[e],i=n[e];_.isObject(a)&&_.isObject(i)?_.mergeIf(a,i):t.hasOwnProperty(e)||(t[e]=_.clone(i))},merge:function(e,t,n){var a,i,o,r,s,l=_.isArray(t)?t:[t],c=l.length;if(!_.isObject(e))return e;for(a=(n=n||{}).merger||_._merger,i=0;i<c;++i)if(t=l[i],_.isObject(t))for(s=0,r=(o=Object.keys(t)).length;s<r;++s)a(o[s],e,t,n);return e},mergeIf:function(e,t){return _.merge(e,t,{merger:_._mergerIf})},extend:Object.assign||function(e){return _.merge(e,[].slice.call(arguments,1),{merger:function(e,t,n){t[e]=n[e]}})},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},a=function(){this.constructor=n};return a.prototype=t.prototype,n.prototype=new a,n.extend=_.inherits,e&&_.extend(n.prototype,e),n.__super__=t.prototype,n},_deprecated:function(e,t,n,a){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+a+'" instead')}},w=_;_.callCallback=_.callback,_.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},_.getValueOrDefault=_.valueOrDefault,_.getValueAtIndexOrDefault=_.valueAtIndexOrDefault;var C={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:1===e?1:(n||(n=.3),a<1?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),-a*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:1===e?1:(n||(n=.3),a<1?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),a<1?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:a*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-C.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*C.easeInBounce(2*e):.5*C.easeOutBounce(2*e-1)+.5}},S={effects:C};w.easingEffects=C;var M=Math.PI,k=M/180,I=2*M,P=M/2,A=M/4,T=2*M/3,N={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,a,i,o){if(o){var r=Math.min(o,i/2,a/2),s=t+r,l=n+r,c=t+a-r,d=n+i-r;e.moveTo(t,l),s<c&&l<d?(e.arc(s,l,r,-M,-P),e.arc(c,l,r,-P,0),e.arc(c,d,r,0,P),e.arc(s,d,r,P,M)):s<c?(e.moveTo(s,n),e.arc(c,l,r,-P,P),e.arc(s,l,r,P,M+P)):l<d?(e.arc(s,l,r,-M,0),e.arc(s,d,r,0,M)):e.arc(s,l,r,-M,M),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,a,i)},drawPoint:function(e,t,n,a,i,o){var r,s,l,c,d,u=(o||0)*k;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(r=t.toString())||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(a,i),e.rotate(u),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void e.restore();if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(a,i,n,0,I),e.closePath();break;case"triangle":e.moveTo(a+Math.sin(u)*n,i-Math.cos(u)*n),u+=T,e.lineTo(a+Math.sin(u)*n,i-Math.cos(u)*n),u+=T,e.lineTo(a+Math.sin(u)*n,i-Math.cos(u)*n),e.closePath();break;case"rectRounded":c=n-(d=.516*n),s=Math.cos(u+A)*c,l=Math.sin(u+A)*c,e.arc(a-s,i-l,d,u-M,u-P),e.arc(a+l,i-s,d,u-P,u),e.arc(a+s,i+l,d,u,u+P),e.arc(a-l,i+s,d,u+P,u+M),e.closePath();break;case"rect":if(!o){c=Math.SQRT1_2*n,e.rect(a-c,i-c,2*c,2*c);break}u+=A;case"rectRot":s=Math.cos(u)*n,l=Math.sin(u)*n,e.moveTo(a-s,i-l),e.lineTo(a+l,i-s),e.lineTo(a+s,i+l),e.lineTo(a-l,i+s),e.closePath();break;case"crossRot":u+=A;case"cross":s=Math.cos(u)*n,l=Math.sin(u)*n,e.moveTo(a-s,i-l),e.lineTo(a+s,i+l),e.moveTo(a+l,i-s),e.lineTo(a-l,i+s);break;case"star":s=Math.cos(u)*n,l=Math.sin(u)*n,e.moveTo(a-s,i-l),e.lineTo(a+s,i+l),e.moveTo(a+l,i-s),e.lineTo(a-l,i+s),u+=A,s=Math.cos(u)*n,l=Math.sin(u)*n,e.moveTo(a-s,i-l),e.lineTo(a+s,i+l),e.moveTo(a+l,i-s),e.lineTo(a-l,i+s);break;case"line":s=Math.cos(u)*n,l=Math.sin(u)*n,e.moveTo(a-s,i-l),e.lineTo(a+s,i+l);break;case"dash":e.moveTo(a,i),e.lineTo(a+Math.cos(u)*n,i+Math.sin(u)*n)}e.fill(),e.stroke()}},_isPointInArea:function(e,t){return e.x>t.left-1e-6&&e.x<t.right+1e-6&&e.y>t.top-1e-6&&e.y<t.bottom+1e-6},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,a){var i=n.steppedLine;if(i){if("middle"===i){var o=(t.x+n.x)/2;e.lineTo(o,a?n.y:t.y),e.lineTo(o,a?t.y:n.y)}else"after"===i&&!a||"after"!==i&&a?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(a?t.controlPointPreviousX:t.controlPointNextX,a?t.controlPointPreviousY:t.controlPointNextY,a?n.controlPointNextX:n.controlPointPreviousX,a?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},D=N;w.clear=N.clear,w.drawRoundedRectangle=function(e){e.beginPath(),N.roundedRect.apply(N,arguments)};var E={_set:function(e,t){return w.merge(this[e]||(this[e]={}),t)}};E._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var L=E,F=w.valueOrDefault,z={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,a,i;return w.isObject(e)?(t=+e.top||0,n=+e.right||0,a=+e.bottom||0,i=+e.left||0):t=n=a=i=+e||0,{top:t,right:n,bottom:a,left:i,height:t+a,width:i+n}},_parseFont:function(e){var t=L.global,n=F(e.fontSize,t.defaultFontSize),a={family:F(e.fontFamily,t.defaultFontFamily),lineHeight:w.options.toLineHeight(F(e.lineHeight,t.defaultLineHeight),n),size:n,style:F(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return a.string=function(e){return!e||w.isNullOrUndef(e.size)||w.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a},resolve:function(e,t,n,a){var i,o,r,s=!0;for(i=0,o=e.length;i<o;++i)if(void 0!==(r=e[i])&&(void 0!==t&&"function"==typeof r&&(r=r(t),s=!1),void 0!==n&&w.isArray(r)&&(r=r[n],s=!1),void 0!==r))return a&&!s&&(a.cacheable=!1),r}},R={_factorize:function(e){var t,n=[],a=Math.sqrt(e);for(t=1;t<a;t++)e%t==0&&(n.push(t),n.push(e/t));return a===(0|a)&&n.push(a),n.sort((function(e,t){return e-t})).pop(),n},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},B=R;w.log10=R.log10;var V=w,U=S,q=D,W=z,H=B,$={getRtlAdapter:function(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},overrideTextDirection:function(e,t){var n,a;"ltr"!==t&&"rtl"!==t||(a=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=a)},restoreTextDirection:function(e){var t=e.prevTextDirection;void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}};V.easing=U,V.canvas=q,V.options=W,V.math=H,V.rtl=$;var Y=function(e){V.extend(this,e),this.initialize.apply(this,arguments)};V.extend(Y.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=V.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,a=t._start,i=t._view;return n&&1!==e?(i||(i=t._view={}),a||(a=t._start={}),function(e,t,n,a){var i,o,r,s,l,c,d,u,p,m=Object.keys(n);for(i=0,o=m.length;i<o;++i)if(c=n[r=m[i]],t.hasOwnProperty(r)||(t[r]=c),(s=t[r])!==c&&"_"!==r[0]){if(e.hasOwnProperty(r)||(e[r]=s),(d=typeof c)==typeof(l=e[r]))if("string"===d){if((u=v(l)).valid&&(p=v(c)).valid){t[r]=p.mix(u,a).rgbString();continue}}else if(V.isFinite(l)&&V.isFinite(c)){t[r]=l+(c-l)*a;continue}t[r]=c}}(a,i,n,e),t):(t._view=V.extend({},n),t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return V.isNumber(this._model.x)&&V.isNumber(this._model.y)}}),Y.extend=V.inherits;var K=Y,G=K.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),X=G;Object.defineProperty(G.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(G.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),L._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:V.noop,onComplete:V.noop}});var Q={animations:[],request:null,addAnimation:function(e,t,n,a){var i,o,r=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,a||(e.animating=!0),i=0,o=r.length;i<o;++i)if(r[i].chart===e)return void(r[i]=t);r.push(t),1===r.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=V.findIndex(this.animations,(function(t){return t.chart===e}));-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=V.requestAnimFrame.call(window,(function(){e.request=null,e.startDigest()})))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var e,t,n,a,i=this.animations,o=0;o<i.length;)t=(e=i[o]).chart,n=e.numSteps,a=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(a,n),V.callback(e.render,[t,e],t),V.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(V.callback(e.onAnimationComplete,[e],t),t.animating=!1,i.splice(o,1)):++o}},J=V.options.resolve,Z=["push","pop","shift","splice","unshift"];function ee(e,t){var n=e._chartjs;if(n){var a=n.listeners,i=a.indexOf(t);-1!==i&&a.splice(i,1),a.length>0||(Z.forEach((function(t){delete e[t]})),delete e._chartjs)}}var te=function(e,t){this.initialize(e,t)};V.extend(te.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.chart,n=t.scales,a=this.getDataset(),i=t.options.scales;null!==e.xAxisID&&e.xAxisID in n&&!a.xAxisID||(e.xAxisID=a.xAxisID||i.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in n&&!a.yAxisID||(e.yAxisID=a.yAxisID||i.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&ee(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var e,t,n=this.getMeta(),a=this.getDataset().data||[],i=n.data;for(e=0,t=a.length;e<t;++e)i[e]=i[e]||this.createMetaData(e);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e,t,n=this,a=n.getDataset(),i=a.data||(a.data=[]);n._data!==i&&(n._data&&ee(n._data,n),i&&Object.isExtensible(i)&&(t=n,(e=i)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Z.forEach((function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),a=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),i=a.apply(this,t);return V.each(e._chartjs.listeners,(function(e){"function"==typeof e[n]&&e[n].apply(e,t)})),i}})})))),n._data=i),n.resyncElements()},_configure:function(){this._config=V.merge({},[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(e,t,n){"_meta"!==e&&"data"!==e&&V._merger(e,t,n)}})},_update:function(e){this._configure(),this._cachedDataOpts=null,this.update(e)},update:V.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],a=n.length,i=0;i<a;++i)n[i].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,a=0;for(e.dataset&&e.dataset.draw();a<n;++a)t[a].draw()},getStyle:function(e){var t,n=this.getMeta(),a=n.dataset;return this._configure(),a&&void 0===e?t=this._resolveDatasetElementOptions(a||{}):(e=e||0,t=this._resolveDataElementOptions(n.data[e]||{},e)),!1!==t.fill&&null!==t.fill||(t.backgroundColor=t.borderColor),t},_resolveDatasetElementOptions:function(e,t){var n,a,i,o,r=this,s=r.chart,l=r._config,c=e.custom||{},d=s.options.elements[r.datasetElementType.prototype._type]||{},u=r._datasetElementOptions,p={},m={chart:s,dataset:r.getDataset(),datasetIndex:r.index,hover:t};for(n=0,a=u.length;n<a;++n)i=u[n],o=t?"hover"+i.charAt(0).toUpperCase()+i.slice(1):i,p[i]=J([c[o],l[o],d[o]],m);return p},_resolveDataElementOptions:function(e,t){var n=this,a=e&&e.custom,i=n._cachedDataOpts;if(i&&!a)return i;var o,r,s,l,c=n.chart,d=n._config,u=c.options.elements[n.dataElementType.prototype._type]||{},p=n._dataElementOptions,m={},g={chart:c,dataIndex:t,dataset:n.getDataset(),datasetIndex:n.index},h={cacheable:!a};if(a=a||{},V.isArray(p))for(r=0,s=p.length;r<s;++r)m[l=p[r]]=J([a[l],d[l],u[l]],g,t,h);else for(r=0,s=(o=Object.keys(p)).length;r<s;++r)m[l=o[r]]=J([a[l],d[p[l]],d[l],u[l]],g,t,h);return h.cacheable&&(n._cachedDataOpts=Object.freeze(m)),m},removeHoverStyle:function(e){V.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,a=e.custom||{},i=e._model,o=V.getHoverColor;e.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth},i.backgroundColor=J([a.hoverBackgroundColor,t.hoverBackgroundColor,o(i.backgroundColor)],void 0,n),i.borderColor=J([a.hoverBorderColor,t.hoverBorderColor,o(i.borderColor)],void 0,n),i.borderWidth=J([a.hoverBorderWidth,t.hoverBorderWidth,i.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e,t,n,a,i,o,r=this.getMeta().dataset,s={};if(r){for(o=r._model,i=this._resolveDatasetElementOptions(r,!0),e=0,t=(a=Object.keys(i)).length;e<t;++e)s[n=a[e]]=o[n],o[n]=i[n];r.$previousStyle=s}},resyncElements:function(){var e=this.getMeta(),t=this.getDataset().data,n=e.data.length,a=t.length;a<n?e.data.splice(a,n-a):a>n&&this.insertElements(n,a-n)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),te.extend=V.inherits;var ne=te,ae=2*Math.PI;function ie(e,t){var n=t.startAngle,a=t.endAngle,i=t.pixelMargin,o=i/t.outerRadius,r=t.x,s=t.y;e.beginPath(),e.arc(r,s,t.outerRadius,n-o,a+o),t.innerRadius>i?(o=i/t.innerRadius,e.arc(r,s,t.innerRadius-i,a+o,n-o,!0)):e.arc(r,s,i,a+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}function oe(e,t,n){var a="inner"===t.borderAlign;a?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles&&function(e,t,n,a){var i,o=n.endAngle;for(a&&(n.endAngle=n.startAngle+ae,ie(e,n),n.endAngle=o,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=ae,n.fullCircles--)),e.beginPath(),e.arc(n.x,n.y,n.innerRadius,n.startAngle+ae,n.startAngle,!0),i=0;i<n.fullCircles;++i)e.stroke();for(e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.startAngle+ae),i=0;i<n.fullCircles;++i)e.stroke()}(e,t,n,a),a&&ie(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}L._set("global",{elements:{arc:{backgroundColor:L.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var re=K.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var a=V.getAngleFromPoint(n,{x:e,y:t}),i=a.angle,o=a.distance,r=n.startAngle,s=n.endAngle;s<r;)s+=ae;for(;i>s;)i-=ae;for(;i<r;)i+=ae;var l=i>=r&&i<=s,c=o>=n.innerRadius&&o<=n.outerRadius;return l&&c}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,a="inner"===n.borderAlign?.33:0,i={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-a,0),pixelMargin:a,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/ae)};if(t.save(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,i.fullCircles){for(i.endAngle=i.startAngle+ae,t.beginPath(),t.arc(i.x,i.y,i.outerRadius,i.startAngle,i.endAngle),t.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0),t.closePath(),e=0;e<i.fullCircles;++e)t.fill();i.endAngle=i.startAngle+n.circumference%ae}t.beginPath(),t.arc(i.x,i.y,i.outerRadius,i.startAngle,i.endAngle),t.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0),t.closePath(),t.fill(),n.borderWidth&&oe(t,n,i),t.restore()}}),se=V.valueOrDefault,le=L.global.defaultColor;L._set("global",{elements:{line:{tension:.4,backgroundColor:le,borderWidth:3,borderColor:le,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var ce=K.extend({_type:"line",draw:function(){var e,t,n,a=this,i=a._view,o=a._chart.ctx,r=i.spanGaps,s=a._children.slice(),l=L.global,c=l.elements.line,d=-1,u=a._loop;if(s.length){if(a._loop){for(e=0;e<s.length;++e)if(t=V.previousItem(s,e),!s[e]._view.skip&&t._view.skip){s=s.slice(e).concat(s.slice(0,e)),u=r;break}u&&s.push(s[0])}for(o.save(),o.lineCap=i.borderCapStyle||c.borderCapStyle,o.setLineDash&&o.setLineDash(i.borderDash||c.borderDash),o.lineDashOffset=se(i.borderDashOffset,c.borderDashOffset),o.lineJoin=i.borderJoinStyle||c.borderJoinStyle,o.lineWidth=se(i.borderWidth,c.borderWidth),o.strokeStyle=i.borderColor||l.defaultColor,o.beginPath(),(n=s[0]._view).skip||(o.moveTo(n.x,n.y),d=0),e=1;e<s.length;++e)n=s[e]._view,t=-1===d?V.previousItem(s,e):s[d],n.skip||(d!==e-1&&!r||-1===d?o.moveTo(n.x,n.y):V.canvas.lineTo(o,t._view,n),d=e);u&&o.closePath(),o.stroke(),o.restore()}}}),de=V.valueOrDefault,ue=L.global.defaultColor;function pe(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}L._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:ue,borderColor:ue,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var me=K.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:pe,inXRange:pe,inYRange:function(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,a=t.pointStyle,i=t.rotation,o=t.radius,r=t.x,s=t.y,l=L.global,c=l.defaultColor;t.skip||(void 0===e||V.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||c,n.lineWidth=de(t.borderWidth,l.elements.point.borderWidth),n.fillStyle=t.backgroundColor||c,V.canvas.drawPoint(n,a,o,r,s,i))}}),ge=L.global.defaultColor;function he(e){return e&&void 0!==e.width}function be(e){var t,n,a,i,o;return he(e)?(o=e.width/2,t=e.x-o,n=e.x+o,a=Math.min(e.y,e.base),i=Math.max(e.y,e.base)):(o=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),a=e.y-o,i=e.y+o),{left:t,top:a,right:n,bottom:i}}function fe(e,t,n){return e===t?n:e===n?t:e}function je(e,t,n){var a,i,o,r,s=e.borderWidth,l=function(e){var t=e.borderSkipped,n={};return t?(e.horizontal?e.base>e.x&&(t=fe(t,"left","right")):e.base<e.y&&(t=fe(t,"bottom","top")),n[t]=!0,n):n}(e);return V.isObject(s)?(a=+s.top||0,i=+s.right||0,o=+s.bottom||0,r=+s.left||0):a=i=o=r=+s||0,{t:l.top||a<0?0:a>n?n:a,r:l.right||i<0?0:i>t?t:i,b:l.bottom||o<0?0:o>n?n:o,l:l.left||r<0?0:r>t?t:r}}function xe(e,t,n){var a=null===t,i=null===n,o=!(!e||a&&i)&&be(e);return o&&(a||t>=o.left&&t<=o.right)&&(i||n>=o.top&&n<=o.bottom)}L._set("global",{elements:{rectangle:{backgroundColor:ge,borderColor:ge,borderSkipped:"bottom",borderWidth:0}}});var ye=K.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,n=function(e){var t=be(e),n=t.right-t.left,a=t.bottom-t.top,i=je(e,n/2,a/2);return{outer:{x:t.left,y:t.top,w:n,h:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:a-i.t-i.b}}}(t),a=n.outer,i=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(a.x,a.y,a.w,a.h),a.w===i.w&&a.h===i.h||(e.save(),e.beginPath(),e.rect(a.x,a.y,a.w,a.h),e.clip(),e.fillStyle=t.borderColor,e.rect(i.x,i.y,i.w,i.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return xe(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return he(n)?xe(n,e,null):xe(n,null,t)},inXRange:function(e){return xe(this._view,e,null)},inYRange:function(e){return xe(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return he(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return he(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),Oe={},ve=re,_e=ce,we=me,Ce=ye;Oe.Arc=ve,Oe.Line=_e,Oe.Point=we,Oe.Rectangle=Ce;var Se=V._deprecated,Me=V.valueOrDefault;function ke(e,t,n){var a,i,o=n.barThickness,r=t.stackCount,s=t.pixels[e],l=V.isNullOrUndef(o)?function(e,t){var n,a,i,o,r=e._length;for(i=1,o=t.length;i<o;++i)r=Math.min(r,Math.abs(t[i]-t[i-1]));for(i=0,o=e.getTicks().length;i<o;++i)a=e.getPixelForTick(i),r=i>0?Math.min(r,Math.abs(a-n)):r,n=a;return r}(t.scale,t.pixels):-1;return V.isNullOrUndef(o)?(a=l*n.categoryPercentage,i=n.barPercentage):(a=o*r,i=1),{chunk:a/r,ratio:i,start:s-a/2}}L._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),L._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Ie=ne.extend({dataElementType:Oe.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e,t,n=this;ne.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0,t=n._getIndexScale().options,Se("bar chart",t.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Se("bar chart",t.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Se("bar chart",t.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Se("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Se("bar chart",t.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var t,n,a=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,n=a.length;t<n;++t)this.updateElement(a[t],t,e)},updateElement:function(e,t,n){var a=this,i=a.getMeta(),o=a.getDataset(),r=a._resolveDataElementOptions(e,t);e._xScale=a.getScaleForId(i.xAxisID),e._yScale=a.getScaleForId(i.yAxisID),e._datasetIndex=a.index,e._index=t,e._model={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderSkipped:r.borderSkipped,borderWidth:r.borderWidth,datasetLabel:o.label,label:a.chart.data.labels[t]},V.isArray(o.data[t])&&(e._model.borderSkipped=null),a._updateElementGeometry(e,t,n,r),e.pivot()},_updateElementGeometry:function(e,t,n,a){var i=this,o=e._model,r=i._getValueScale(),s=r.getBasePixel(),l=r.isHorizontal(),c=i._ruler||i.getRuler(),d=i.calculateBarValuePixels(i.index,t,a),u=i.calculateBarIndexPixels(i.index,t,c,a);o.horizontal=l,o.base=n?s:d.base,o.x=l?n?s:d.head:u.center,o.y=l?u.center:n?s:d.head,o.height=l?u.size:void 0,o.width=l?void 0:u.size},_getStacks:function(e){var t,n,a=this._getIndexScale(),i=a._getMatchingVisibleMetas(this._type),o=a.options.stacked,r=i.length,s=[];for(t=0;t<r&&(n=i[t],(!1===o||-1===s.indexOf(n.stack)||void 0===o&&void 0===n.stack)&&s.push(n.stack),n.index!==e);++t);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),a=void 0!==t?n.indexOf(t):-1;return-1===a?n.length-1:a},getRuler:function(){var e,t,n=this._getIndexScale(),a=[];for(e=0,t=this.getMeta().data.length;e<t;++e)a.push(n.getPixelForValue(null,e,this.index));return{pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this.getStackCount(),scale:n}},calculateBarValuePixels:function(e,t,n){var a,i,o,r,s,l,c,d=this.chart,u=this._getValueScale(),p=u.isHorizontal(),m=d.data.datasets,g=u._getMatchingVisibleMetas(this._type),h=u._parseValue(m[e].data[t]),b=n.minBarLength,f=u.options.stacked,j=this.getMeta().stack,x=void 0===h.start?0:h.max>=0&&h.min>=0?h.min:h.max,y=void 0===h.start?h.end:h.max>=0&&h.min>=0?h.max-h.min:h.min-h.max,O=g.length;if(f||void 0===f&&void 0!==j)for(a=0;a<O&&(i=g[a]).index!==e;++a)i.stack===j&&(o=void 0===(c=u._parseValue(m[i.index].data[t])).start?c.end:c.min>=0&&c.max>=0?c.max:c.min,(h.min<0&&o<0||h.max>=0&&o>0)&&(x+=o));return r=u.getPixelForValue(x),l=(s=u.getPixelForValue(x+y))-r,void 0!==b&&Math.abs(l)<b&&(l=b,s=y>=0&&!p||y<0&&p?r-b:r+b),{size:l,base:r,head:s,center:s+l/2}},calculateBarIndexPixels:function(e,t,n,a){var i="flex"===a.barThickness?function(e,t,n){var a,i=t.pixels,o=i[e],r=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null,l=n.categoryPercentage;return null===r&&(r=o-(null===s?t.end-t.start:s-o)),null===s&&(s=o+o-r),a=o-(o-Math.min(r,s))/2*l,{chunk:Math.abs(s-r)/2*l/t.stackCount,ratio:n.barPercentage,start:a}}(t,n,a):ke(t,n,a),o=this.getStackIndex(e,this.getMeta().stack),r=i.start+i.chunk*o+i.chunk/2,s=Math.min(Me(a.maxBarThickness,1/0),i.chunk*i.ratio);return{base:r-s/2,head:r+s/2,center:r,size:s}},draw:function(){var e=this.chart,t=this._getValueScale(),n=this.getMeta().data,a=this.getDataset(),i=n.length,o=0;for(V.canvas.clipArea(e.ctx,e.chartArea);o<i;++o){var r=t._parseValue(a.data[o]);isNaN(r.min)||isNaN(r.max)||n[o].draw()}V.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var e=this,t=V.extend({},ne.prototype._resolveDataElementOptions.apply(e,arguments)),n=e._getIndexScale().options,a=e._getValueScale().options;return t.barPercentage=Me(n.barPercentage,t.barPercentage),t.barThickness=Me(n.barThickness,t.barThickness),t.categoryPercentage=Me(n.categoryPercentage,t.categoryPercentage),t.maxBarThickness=Me(n.maxBarThickness,t.maxBarThickness),t.minBarLength=Me(a.minBarLength,t.minBarLength),t}}),Pe=V.valueOrDefault,Ae=V.options.resolve;L._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",a=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+a.r+")"}}}});var Te=ne.extend({dataElementType:Oe.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,n=t.getMeta().data;V.each(n,(function(n,a){t.updateElement(n,a,e)}))},updateElement:function(e,t,n){var a=this,i=a.getMeta(),o=e.custom||{},r=a.getScaleForId(i.xAxisID),s=a.getScaleForId(i.yAxisID),l=a._resolveDataElementOptions(e,t),c=a.getDataset().data[t],d=a.index,u=n?r.getPixelForDecimal(.5):r.getPixelForValue("object"==typeof c?c:NaN,t,d),p=n?s.getBasePixel():s.getPixelForValue(c,t,d);e._xScale=r,e._yScale=s,e._options=l,e._datasetIndex=d,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:o.skip||isNaN(u)||isNaN(p),x:u,y:p},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,a=V.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Pe(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=Pe(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=Pe(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,a=n.chart,i=n.getDataset(),o=e.custom||{},r=i.data[t]||{},s=ne.prototype._resolveDataElementOptions.apply(n,arguments),l={chart:a,dataIndex:t,dataset:i,datasetIndex:n.index};return n._cachedDataOpts===s&&(s=V.extend({},s)),s.radius=Ae([o.radius,r.r,n._config.radius,a.options.elements.point.radius],l,t),s}}),Ne=V.valueOrDefault,De=Math.PI,Ee=2*De,Le=De/2;L._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t,n,a,i=document.createElement("ul"),o=e.data,r=o.datasets,s=o.labels;if(i.setAttribute("class",e.id+"-legend"),r.length)for(t=0,n=r[0].data.length;t<n;++t)(a=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[0].backgroundColor[t],s[t]&&a.appendChild(document.createTextNode(s[t]));return i.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,a){var i=e.getDatasetMeta(0),o=i.controller.getStyle(a);return{text:n,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(t.datasets[0].data[a])||i.data[a].hidden,index:a}})):[]}},onClick:function(e,t){var n,a,i,o=t.index,r=this.chart;for(n=0,a=(r.data.datasets||[]).length;n<a;++n)(i=r.getDatasetMeta(n)).data[o]&&(i.data[o].hidden=!i.data[o].hidden);r.update()}},cutoutPercentage:50,rotation:-Le,circumference:Ee,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],a=": "+t.datasets[e.datasetIndex].data[e.index];return V.isArray(n)?(n=n.slice())[0]+=a:n+=a,n}}}});var Fe=ne.extend({dataElementType:Oe.Arc,linkScales:V.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,a,i,o=this,r=o.chart,s=r.chartArea,l=r.options,c=1,d=1,u=0,p=0,m=o.getMeta(),g=m.data,h=l.cutoutPercentage/100||0,b=l.circumference,f=o._getRingWeight(o.index);if(b<Ee){var j=l.rotation%Ee,x=(j+=j>=De?-Ee:j<-De?Ee:0)+b,y=Math.cos(j),O=Math.sin(j),v=Math.cos(x),_=Math.sin(x),w=j<=0&&x>=0||x>=Ee,C=j<=Le&&x>=Le||x>=Ee+Le,S=j<=-Le&&x>=-Le||x>=De+Le,M=j===-De||x>=De?-1:Math.min(y,y*h,v,v*h),k=S?-1:Math.min(O,O*h,_,_*h),I=w?1:Math.max(y,y*h,v,v*h),P=C?1:Math.max(O,O*h,_,_*h);c=(I-M)/2,d=(P-k)/2,u=-(I+M)/2,p=-(P+k)/2}for(a=0,i=g.length;a<i;++a)g[a]._options=o._resolveDataElementOptions(g[a],a);for(r.borderWidth=o.getMaxBorderWidth(),t=(s.right-s.left-r.borderWidth)/c,n=(s.bottom-s.top-r.borderWidth)/d,r.outerRadius=Math.max(Math.min(t,n)/2,0),r.innerRadius=Math.max(r.outerRadius*h,0),r.radiusLength=(r.outerRadius-r.innerRadius)/(o._getVisibleDatasetWeightTotal()||1),r.offsetX=u*r.outerRadius,r.offsetY=p*r.outerRadius,m.total=o.calculateTotal(),o.outerRadius=r.outerRadius-r.radiusLength*o._getRingWeightOffset(o.index),o.innerRadius=Math.max(o.outerRadius-r.radiusLength*f,0),a=0,i=g.length;a<i;++a)o.updateElement(g[a],a,e)},updateElement:function(e,t,n){var a=this,i=a.chart,o=i.chartArea,r=i.options,s=r.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,d=r.rotation,u=r.rotation,p=a.getDataset(),m=n&&s.animateRotate||e.hidden?0:a.calculateCircumference(p.data[t])*(r.circumference/Ee),g=n&&s.animateScale?0:a.innerRadius,h=n&&s.animateScale?0:a.outerRadius,b=e._options||{};V.extend(e,{_datasetIndex:a.index,_index:t,_model:{backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:b.borderWidth,borderAlign:b.borderAlign,x:l+i.offsetX,y:c+i.offsetY,startAngle:d,endAngle:u,circumference:m,outerRadius:h,innerRadius:g,label:V.valueAtIndexOrDefault(p.label,t,i.data.labels[t])}});var f=e._model;n&&s.animateRotate||(f.startAngle=0===t?r.rotation:a.getMeta().data[t-1]._model.endAngle,f.endAngle=f.startAngle+f.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),a=0;return V.each(n.data,(function(n,i){e=t.data[i],isNaN(e)||n.hidden||(a+=Math.abs(e))})),a},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?Ee*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,a,i,o,r,s,l,c=0,d=this.chart;if(!e)for(t=0,n=d.data.datasets.length;t<n;++t)if(d.isDatasetVisible(t)){e=(a=d.getDatasetMeta(t)).data,t!==this.index&&(o=a.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)i=e[t],o?(o._configure(),r=o._resolveDataElementOptions(i,t)):r=i._options,"inner"!==r.borderAlign&&(s=r.borderWidth,c=(l=r.hoverBorderWidth)>(c=s>c?s:c)?l:c);return c},setHoverStyle:function(e){var t=e._model,n=e._options,a=V.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=Ne(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=Ne(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=Ne(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(Ne(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});L._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),L._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var ze=Ie.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Re=V.valueOrDefault,Be=V.options.resolve,Ve=V.canvas._isPointInArea;function Ue(e,t){var n=e&&e.options.ticks||{},a=n.reverse,i=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:a?o:i,end:a?i:o}}function qe(e,t,n){var a=n/2,i=Ue(e,a),o=Ue(t,a);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function We(e){var t,n,a,i;return V.isObject(e)?(t=e.top,n=e.right,a=e.bottom,i=e.left):t=n=a=i=e,{top:t,right:n,bottom:a,left:i}}L._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var He=ne.extend({datasetElementType:Oe.Line,dataElementType:Oe.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var t,n,a=this,i=a.getMeta(),o=i.dataset,r=i.data||[],s=a.chart.options,l=a._config,c=a._showLine=Re(l.showLine,s.showLines);for(a._xScale=a.getScaleForId(i.xAxisID),a._yScale=a.getScaleForId(i.yAxisID),c&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o._scale=a._yScale,o._datasetIndex=a.index,o._children=r,o._model=a._resolveDatasetElementOptions(o),o.pivot()),t=0,n=r.length;t<n;++t)a.updateElement(r[t],t,e);for(c&&0!==o._model.tension&&a.updateBezierControlPoints(),t=0,n=r.length;t<n;++t)r[t].pivot()},updateElement:function(e,t,n){var a,i,o=this,r=o.getMeta(),s=e.custom||{},l=o.getDataset(),c=o.index,d=l.data[t],u=o._xScale,p=o._yScale,m=r.dataset._model,g=o._resolveDataElementOptions(e,t);a=u.getPixelForValue("object"==typeof d?d:NaN,t,c),i=n?p.getBasePixel():o.calculatePointY(d,t,c),e._xScale=u,e._yScale=p,e._options=g,e._datasetIndex=c,e._index=t,e._model={x:a,y:i,skip:s.skip||isNaN(a)||isNaN(i),radius:g.radius,pointStyle:g.pointStyle,rotation:g.rotation,backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,tension:Re(s.tension,m?m.tension:0),steppedLine:!!m&&m.steppedLine,hitRadius:g.hitRadius}},_resolveDatasetElementOptions:function(e){var t=this,n=t._config,a=e.custom||{},i=t.chart.options,o=i.elements.line,r=ne.prototype._resolveDatasetElementOptions.apply(t,arguments);return r.spanGaps=Re(n.spanGaps,i.spanGaps),r.tension=Re(n.lineTension,o.tension),r.steppedLine=Be([a.steppedLine,n.steppedLine,o.stepped]),r.clip=We(Re(n.clip,qe(t._xScale,t._yScale,r.borderWidth))),r},calculatePointY:function(e,t,n){var a,i,o,r,s,l,c,d=this.chart,u=this._yScale,p=0,m=0;if(u.options.stacked){for(s=+u.getRightValue(e),c=(l=d._getSortedVisibleDatasetMetas()).length,a=0;a<c&&(o=l[a]).index!==n;++a)i=d.data.datasets[o.index],"line"===o.type&&o.yAxisID===u.id&&((r=+u.getRightValue(i.data[t]))<0?m+=r||0:p+=r||0);return s<0?u.getPixelForValue(m+s):u.getPixelForValue(p+s)}return u.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,n,a,i=this.chart,o=this.getMeta(),r=o.dataset._model,s=i.chartArea,l=o.data||[];function c(e,t,n){return Math.max(Math.min(e,n),t)}if(r.spanGaps&&(l=l.filter((function(e){return!e._model.skip}))),"monotone"===r.cubicInterpolationMode)V.splineCurveMonotone(l);else for(e=0,t=l.length;e<t;++e)n=l[e]._model,a=V.splineCurve(V.previousItem(l,e)._model,n,V.nextItem(l,e)._model,r.tension),n.controlPointPreviousX=a.previous.x,n.controlPointPreviousY=a.previous.y,n.controlPointNextX=a.next.x,n.controlPointNextY=a.next.y;if(i.options.elements.line.capBezierPoints)for(e=0,t=l.length;e<t;++e)n=l[e]._model,Ve(n,s)&&(e>0&&Ve(l[e-1]._model,s)&&(n.controlPointPreviousX=c(n.controlPointPreviousX,s.left,s.right),n.controlPointPreviousY=c(n.controlPointPreviousY,s.top,s.bottom)),e<l.length-1&&Ve(l[e+1]._model,s)&&(n.controlPointNextX=c(n.controlPointNextX,s.left,s.right),n.controlPointNextY=c(n.controlPointNextY,s.top,s.bottom)))},draw:function(){var e,t=this.chart,n=this.getMeta(),a=n.data||[],i=t.chartArea,o=t.canvas,r=0,s=a.length;for(this._showLine&&(e=n.dataset._model.clip,V.canvas.clipArea(t.ctx,{left:!1===e.left?0:i.left-e.left,right:!1===e.right?o.width:i.right+e.right,top:!1===e.top?0:i.top-e.top,bottom:!1===e.bottom?o.height:i.bottom+e.bottom}),n.dataset.draw(),V.canvas.unclipArea(t.ctx));r<s;++r)a[r].draw(i)},setHoverStyle:function(e){var t=e._model,n=e._options,a=V.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Re(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=Re(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=Re(n.hoverBorderWidth,n.borderWidth),t.radius=Re(n.hoverRadius,n.radius)}}),$e=V.options.resolve;L._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t,n,a,i=document.createElement("ul"),o=e.data,r=o.datasets,s=o.labels;if(i.setAttribute("class",e.id+"-legend"),r.length)for(t=0,n=r[0].data.length;t<n;++t)(a=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[0].backgroundColor[t],s[t]&&a.appendChild(document.createTextNode(s[t]));return i.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,a){var i=e.getDatasetMeta(0),o=i.controller.getStyle(a);return{text:n,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(t.datasets[0].data[a])||i.data[a].hidden,index:a}})):[]}},onClick:function(e,t){var n,a,i,o=t.index,r=this.chart;for(n=0,a=(r.data.datasets||[]).length;n<a;++n)(i=r.getDatasetMeta(n)).data[o].hidden=!i.data[o].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var Ye=ne.extend({dataElementType:Oe.Arc,linkScales:V.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,a,i=this,o=i.getDataset(),r=i.getMeta(),s=i.chart.options.startAngle||0,l=i._starts=[],c=i._angles=[],d=r.data;for(i._updateRadius(),r.count=i.countVisibleElements(),t=0,n=o.data.length;t<n;t++)l[t]=s,a=i._computeAngle(t),c[t]=a,s+=a;for(t=0,n=d.length;t<n;++t)d[t]._options=i._resolveDataElementOptions(d[t],t),i.updateElement(d[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,a=t.options,i=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(i/2,0),t.innerRadius=Math.max(a.cutoutPercentage?t.outerRadius/100*a.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var a=this,i=a.chart,o=a.getDataset(),r=i.options,s=r.animation,l=i.scale,c=i.data.labels,d=l.xCenter,u=l.yCenter,p=r.startAngle,m=e.hidden?0:l.getDistanceFromCenterForValue(o.data[t]),g=a._starts[t],h=g+(e.hidden?0:a._angles[t]),b=s.animateScale?0:l.getDistanceFromCenterForValue(o.data[t]),f=e._options||{};V.extend(e,{_datasetIndex:a.index,_index:t,_scale:l,_model:{backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,borderAlign:f.borderAlign,x:d,y:u,innerRadius:0,outerRadius:n?b:m,startAngle:n&&s.animateRotate?p:g,endAngle:n&&s.animateRotate?p:h,label:V.valueAtIndexOrDefault(c,t,c[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return V.each(t.data,(function(t,a){isNaN(e.data[a])||t.hidden||n++})),n},setHoverStyle:function(e){var t=e._model,n=e._options,a=V.getHoverColor,i=V.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=i(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=i(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=i(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,a=t.getDataset(),i=t.getMeta();if(isNaN(a.data[e])||i.data[e].hidden)return 0;var o={chart:t.chart,dataIndex:e,dataset:a,datasetIndex:t.index};return $e([t.chart.options.elements.arc.angle,2*Math.PI/n],o,e)}});L._set("pie",V.clone(L.doughnut)),L._set("pie",{cutoutPercentage:0});var Ke=Fe,Ge=V.valueOrDefault;L._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Xe=ne.extend({datasetElementType:Oe.Line,dataElementType:Oe.Point,linkScales:V.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,a=this,i=a.getMeta(),o=i.dataset,r=i.data||[],s=a.chart.scale,l=a._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o._scale=s,o._datasetIndex=a.index,o._children=r,o._loop=!0,o._model=a._resolveDatasetElementOptions(o),o.pivot(),t=0,n=r.length;t<n;++t)a.updateElement(r[t],t,e);for(a.updateBezierControlPoints(),t=0,n=r.length;t<n;++t)r[t].pivot()},updateElement:function(e,t,n){var a=this,i=e.custom||{},o=a.getDataset(),r=a.chart.scale,s=r.getPointPositionForValue(t,o.data[t]),l=a._resolveDataElementOptions(e,t),c=a.getMeta().dataset._model,d=n?r.xCenter:s.x,u=n?r.yCenter:s.y;e._scale=r,e._options=l,e._datasetIndex=a.index,e._index=t,e._model={x:d,y:u,skip:i.skip||isNaN(d)||isNaN(u),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Ge(i.tension,c?c.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,n=e.chart.options,a=ne.prototype._resolveDatasetElementOptions.apply(e,arguments);return a.spanGaps=Ge(t.spanGaps,n.spanGaps),a.tension=Ge(t.lineTension,n.elements.line.tension),a},updateBezierControlPoints:function(){var e,t,n,a,i=this.getMeta(),o=this.chart.chartArea,r=i.data||[];function s(e,t,n){return Math.max(Math.min(e,n),t)}for(i.dataset._model.spanGaps&&(r=r.filter((function(e){return!e._model.skip}))),e=0,t=r.length;e<t;++e)n=r[e]._model,a=V.splineCurve(V.previousItem(r,e,!0)._model,n,V.nextItem(r,e,!0)._model,n.tension),n.controlPointPreviousX=s(a.previous.x,o.left,o.right),n.controlPointPreviousY=s(a.previous.y,o.top,o.bottom),n.controlPointNextX=s(a.next.x,o.left,o.right),n.controlPointNextY=s(a.next.y,o.top,o.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,a=V.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Ge(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=Ge(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=Ge(n.hoverBorderWidth,n.borderWidth),t.radius=Ge(n.hoverRadius,n.radius)}});L._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),L._set("global",{datasets:{scatter:{showLine:!1}}});var Qe={bar:Ie,bubble:Te,doughnut:Fe,horizontalBar:ze,line:He,polarArea:Ye,pie:Ke,radar:Xe,scatter:He};function Je(e,t){return e.native?{x:e.x,y:e.y}:V.getRelativePosition(e,t)}function Ze(e,t){var n,a,i,o,r,s,l=e._getSortedVisibleDatasetMetas();for(a=0,o=l.length;a<o;++a)for(i=0,r=(n=l[a].data).length;i<r;++i)(s=n[i])._view.skip||t(s)}function et(e,t){var n=[];return Ze(e,(function(e){e.inRange(t.x,t.y)&&n.push(e)})),n}function tt(e,t,n,a){var i=Number.POSITIVE_INFINITY,o=[];return Ze(e,(function(e){if(!n||e.inRange(t.x,t.y)){var r=e.getCenterPoint(),s=a(t,r);s<i?(o=[e],i=s):s===i&&o.push(e)}})),o}function nt(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,a){var i=t?Math.abs(e.x-a.x):0,o=n?Math.abs(e.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function at(e,t,n){var a=Je(t,e);n.axis=n.axis||"x";var i=nt(n.axis),o=n.intersect?et(e,a):tt(e,a,!1,i),r=[];return o.length?(e._getSortedVisibleDatasetMetas().forEach((function(e){var t=e.data[o[0]._index];t&&!t._view.skip&&r.push(t)})),r):[]}var it={modes:{single:function(e,t){var n=Je(t,e),a=[];return Ze(e,(function(e){if(e.inRange(n.x,n.y))return a.push(e),a})),a.slice(0,1)},label:at,index:at,dataset:function(e,t,n){var a=Je(t,e);n.axis=n.axis||"xy";var i=nt(n.axis),o=n.intersect?et(e,a):tt(e,a,!1,i);return o.length>0&&(o=e.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(e,t){return at(e,t,{intersect:!1})},point:function(e,t){return et(e,Je(t,e))},nearest:function(e,t,n){var a=Je(t,e);n.axis=n.axis||"xy";var i=nt(n.axis);return tt(e,a,n.intersect,i)},x:function(e,t,n){var a=Je(t,e),i=[],o=!1;return Ze(e,(function(e){e.inXRange(a.x)&&i.push(e),e.inRange(a.x,a.y)&&(o=!0)})),n.intersect&&!o&&(i=[]),i},y:function(e,t,n){var a=Je(t,e),i=[],o=!1;return Ze(e,(function(e){e.inYRange(a.y)&&i.push(e),e.inRange(a.x,a.y)&&(o=!0)})),n.intersect&&!o&&(i=[]),i}}},ot=V.extend;function rt(e,t){return V.where(e,(function(e){return e.pos===t}))}function st(e,t){return e.sort((function(e,n){var a=t?n:e,i=t?e:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight}))}function lt(e,t,n,a){return Math.max(e[n],t[n])+Math.max(e[a],t[a])}function ct(e,t,n){var a,i,o=n.box,r=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?o.height:o.width,e[n.pos]+=n.size,o.getPadding){var s=o.getPadding();r.top=Math.max(r.top,s.top),r.left=Math.max(r.left,s.left),r.bottom=Math.max(r.bottom,s.bottom),r.right=Math.max(r.right,s.right)}if(a=t.outerWidth-lt(r,e,"left","right"),i=t.outerHeight-lt(r,e,"top","bottom"),a!==e.w||i!==e.h)return e.w=a,e.h=i,n.horizontal?a!==e.w:i!==e.h}function dt(e,t){var n=t.maxPadding;function a(e){var a={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){a[e]=Math.max(t[e],n[e])})),a}return a(e?["left","right"]:["top","bottom"])}function ut(e,t,n){var a,i,o,r,s,l,c=[];for(a=0,i=e.length;a<i;++a)(r=(o=e[a]).box).update(o.width||t.w,o.height||t.h,dt(o.horizontal,t)),ct(t,n,o)&&(l=!0,c.length&&(s=!0)),r.fullWidth||c.push(o);return s&&ut(c,t,n)||l}function pt(e,t,n){var a,i,o,r,s=n.padding,l=t.x,c=t.y;for(a=0,i=e.length;a<i;++a)r=(o=e[a]).box,o.horizontal?(r.left=r.fullWidth?s.left:t.left,r.right=r.fullWidth?n.outerWidth-s.right:t.left+t.w,r.top=c,r.bottom=c+r.height,r.width=r.right-r.left,c=r.bottom):(r.left=l,r.right=l+r.width,r.top=t.top,r.bottom=t.top+t.h,r.height=r.bottom-r.top,l=r.right);t.x=l,t.y=c}L._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var mt,gt={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var a,i=["fullWidth","position","weight"],o=i.length,r=0;r<o;++r)a=i[r],n.hasOwnProperty(a)&&(t[a]=n[a])},update:function(e,t,n){if(e){var a=e.options.layout||{},i=V.options.toPadding(a.padding),o=t-i.width,r=n-i.height,s=function(e){var t=function(e){var t,n,a,i=[];for(t=0,n=(e||[]).length;t<n;++t)a=e[t],i.push({index:t,box:a,pos:a.position,horizontal:a.isHorizontal(),weight:a.weight});return i}(e),n=st(rt(t,"left"),!0),a=st(rt(t,"right")),i=st(rt(t,"top"),!0),o=st(rt(t,"bottom"));return{leftAndTop:n.concat(i),rightAndBottom:a.concat(o),chartArea:rt(t,"chartArea"),vertical:n.concat(a),horizontal:i.concat(o)}}(e.boxes),l=s.vertical,c=s.horizontal,d=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:o,vBoxMaxWidth:o/2/l.length,hBoxMaxHeight:r/2}),u=ot({maxPadding:ot({},i),w:o,h:r,x:i.left,y:i.top},i);!function(e,t){var n,a,i;for(n=0,a=e.length;n<a;++n)(i=e[n]).width=i.horizontal?i.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,i.height=i.horizontal&&t.hBoxMaxHeight}(l.concat(c),d),ut(l,u,d),ut(c,u,d)&&ut(l,u,d),function(e){var t=e.maxPadding;function n(n){var a=Math.max(t[n]-e[n],0);return e[n]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(u),pt(s.leftAndTop,u,d),u.x+=u.w,u.y+=u.h,pt(s.rightAndBottom,u,d),e.chartArea={left:u.left,top:u.top,right:u.left+u.w,bottom:u.top+u.h},V.each(s.chartArea,(function(t){var n=t.box;ot(n,e.chartArea),n.update(u.w,u.h)}))}}},ht=(mt=Object.freeze({__proto__:null,default:"/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n"}))&&mt.default||mt,bt=["animationstart","webkitAnimationStart"],ft={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function jt(e,t){var n=V.getStyle(e,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?Number(a[1]):void 0}var xt=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0};function yt(e,t,n){e.addEventListener(t,n,xt)}function Ot(e,t,n){e.removeEventListener(t,n,xt)}function vt(e,t,n,a,i){return{type:e,chart:t,native:i||null,x:void 0!==n?n:null,y:void 0!==a?a:null}}function _t(e){var t=document.createElement("div");return t.className=e||"",t}function wt(e,t,n){var a,i,o,r,s=e.$chartjs||(e.$chartjs={}),l=s.resizer=function(e){var t=_t("chartjs-size-monitor"),n=_t("chartjs-size-monitor-expand"),a=_t("chartjs-size-monitor-shrink");n.appendChild(_t()),a.appendChild(_t()),t.appendChild(n),t.appendChild(a),t._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,a.scrollLeft=1e6,a.scrollTop=1e6};var i=function(){t._reset(),e()};return yt(n,"scroll",i.bind(n,"expand")),yt(a,"scroll",i.bind(a,"shrink")),t}((a=function(){if(s.resizer){var a=n.options.maintainAspectRatio&&e.parentNode,i=a?a.clientWidth:0;t(vt("resize",n)),a&&a.clientWidth<i&&n.canvas&&t(vt("resize",n))}},o=!1,r=[],function(){r=Array.prototype.slice.call(arguments),i=i||this,o||(o=!0,V.requestAnimFrame.call(window,(function(){o=!1,a.apply(i,r)})))}));!function(e,t){var n=e.$chartjs||(e.$chartjs={}),a=n.renderProxy=function(e){"chartjs-render-animation"===e.animationName&&t()};V.each(bt,(function(t){yt(e,t,a)})),n.reflow=!!e.offsetParent,e.classList.add("chartjs-render-monitor")}(e,(function(){if(s.resizer){var t=e.parentNode;t&&t!==l.parentNode&&t.insertBefore(l,t.firstChild),l._reset()}}))}function Ct(e){var t=e.$chartjs||{},n=t.resizer;delete t.resizer,function(e){var t=e.$chartjs||{},n=t.renderProxy;n&&(V.each(bt,(function(t){Ot(e,t,n)})),delete t.renderProxy),e.classList.remove("chartjs-render-monitor")}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}var St={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(e){if(!this.disableCSSInjection){var t=e.getRootNode?e.getRootNode():document;!function(e,t){var n=e.$chartjs||(e.$chartjs={});if(!n.containsStyles){n.containsStyles=!0,t="/* Chart.js */\n"+t;var a=document.createElement("style");a.setAttribute("type","text/css"),a.appendChild(document.createTextNode(t)),e.appendChild(a)}}(t.host?t:document.head,ht)}},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(this._ensureLoaded(e),function(e,t){var n=e.style,a=e.getAttribute("height"),i=e.getAttribute("width");if(e.$chartjs={initial:{height:a,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===i||""===i){var o=jt(e,"width");void 0!==o&&(e.width=o)}if(null===a||""===a)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var r=jt(e,"height");void 0!==o&&(e.height=r)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t.$chartjs){var n=t.$chartjs.initial;["height","width"].forEach((function(e){var a=n[e];V.isNullOrUndef(a)?t.removeAttribute(e):t.setAttribute(e,a)})),V.each(n.style||{},(function(e,n){t.style[n]=e})),t.width=t.width,delete t.$chartjs}},addEventListener:function(e,t,n){var a=e.canvas;if("resize"!==t){var i=n.$chartjs||(n.$chartjs={});yt(a,t,(i.proxies||(i.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=ft[e.type]||e.type,a=V.getRelativePosition(e,t);return vt(n,t,a.x,a.y,e)}(t,e))})}else wt(a,n,e)},removeEventListener:function(e,t,n){var a=e.canvas;if("resize"!==t){var i=((n.$chartjs||{}).proxies||{})[e.id+"_"+t];i&&Ot(a,t,i)}else Ct(a)}};V.addEvent=yt,V.removeEvent=Ot;var Mt=St._enabled?St:{acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},kt=V.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Mt);L._set("global",{plugins:{}});var It={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach((function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var a,i,o,r,s,l=this.descriptors(e),c=l.length;for(a=0;a<c;++a)if("function"==typeof(s=(o=(i=l[a]).plugin)[t])&&((r=[e].concat(n||[])).push(i.options),!1===s.apply(o,r)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],a=[],i=e&&e.config||{},o=i.options&&i.options.plugins||{};return this._plugins.concat(i.plugins||[]).forEach((function(e){if(-1===n.indexOf(e)){var t=e.id,i=o[t];!1!==i&&(!0===i&&(i=V.clone(L.global.plugins[t])),n.push(e),a.push({plugin:e,options:i||{}}))}})),t.descriptors=a,t.id=this._cacheId,a},_invalidate:function(e){delete e.$plugins}},Pt={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=V.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?V.merge({},[L.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){this.defaults.hasOwnProperty(e)&&(this.defaults[e]=V.extend(this.defaults[e],t))},addScalesToLayout:function(e){V.each(e.scales,(function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,gt.addBox(e,t)}))}},At=V.valueOrDefault,Tt=V.rtl.getRtlAdapter;L._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:V.noop,title:function(e,t){var n="",a=t.labels,i=a?a.length:0;if(e.length>0){var o=e[0];o.label?n=o.label:o.xLabel?n=o.xLabel:i>0&&o.index<i&&(n=a[o.index])}return n},afterTitle:V.noop,beforeBody:V.noop,beforeLabel:V.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),V.isNullOrUndef(e.value)?n+=e.yLabel:n+=e.value,n},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:V.noop,afterBody:V.noop,beforeFooter:V.noop,footer:V.noop,afterFooter:V.noop}}});var Nt={average:function(e){if(!e.length)return!1;var t,n,a=0,i=0,o=0;for(t=0,n=e.length;t<n;++t){var r=e[t];if(r&&r.hasValue()){var s=r.tooltipPosition();a+=s.x,i+=s.y,++o}}return{x:a/o,y:i/o}},nearest:function(e,t){var n,a,i,o=t.x,r=t.y,s=Number.POSITIVE_INFINITY;for(n=0,a=e.length;n<a;++n){var l=e[n];if(l&&l.hasValue()){var c=l.getCenterPoint(),d=V.distanceBetweenPoints(t,c);d<s&&(s=d,i=l)}}if(i){var u=i.tooltipPosition();o=u.x,r=u.y}return{x:o,y:r}}};function Dt(e,t){return t&&(V.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Et(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Lt(e){var t=L.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:At(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:At(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:At(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:At(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:At(e.titleFontStyle,t.defaultFontStyle),titleFontSize:At(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:At(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:At(e.footerFontStyle,t.defaultFontStyle),footerFontSize:At(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function Ft(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function zt(e){return Dt([],Et(e))}var Rt=K.extend({initialize:function(){this._model=Lt(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options,n=t.callbacks,a=n.beforeTitle.apply(e,arguments),i=n.title.apply(e,arguments),o=n.afterTitle.apply(e,arguments),r=[];return r=Dt(r,Et(a)),r=Dt(r,Et(i)),r=Dt(r,Et(o))},getBeforeBody:function(){return zt(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,a=n._options.callbacks,i=[];return V.each(e,(function(e){var o={before:[],lines:[],after:[]};Dt(o.before,Et(a.beforeLabel.call(n,e,t))),Dt(o.lines,a.label.call(n,e,t)),Dt(o.after,Et(a.afterLabel.call(n,e,t))),i.push(o)})),i},getAfterBody:function(){return zt(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),a=t.footer.apply(e,arguments),i=t.afterFooter.apply(e,arguments),o=[];return o=Dt(o,Et(n)),o=Dt(o,Et(a)),o=Dt(o,Et(i))},update:function(e){var t,n,a,i,o,r,s,l,c,d,u=this,p=u._options,m=u._model,g=u._model=Lt(p),h=u._active,b=u._data,f={xAlign:m.xAlign,yAlign:m.yAlign},j={x:m.x,y:m.y},x={width:m.width,height:m.height},y={x:m.caretX,y:m.caretY};if(h.length){g.opacity=1;var O=[],v=[];y=Nt[p.position].call(u,h,u._eventPosition);var _=[];for(t=0,n=h.length;t<n;++t)_.push((a=h[t],i=void 0,o=void 0,r=void 0,s=void 0,l=void 0,c=void 0,d=void 0,i=a._xScale,o=a._yScale||a._scale,r=a._index,s=a._datasetIndex,l=a._chart.getDatasetMeta(s).controller,c=l._getIndexScale(),d=l._getValueScale(),{xLabel:i?i.getLabelForIndex(r,s):"",yLabel:o?o.getLabelForIndex(r,s):"",label:c?""+c.getLabelForIndex(r,s):"",value:d?""+d.getLabelForIndex(r,s):"",index:r,datasetIndex:s,x:a._model.x,y:a._model.y}));p.filter&&(_=_.filter((function(e){return p.filter(e,b)}))),p.itemSort&&(_=_.sort((function(e,t){return p.itemSort(e,t,b)}))),V.each(_,(function(e){O.push(p.callbacks.labelColor.call(u,e,u._chart)),v.push(p.callbacks.labelTextColor.call(u,e,u._chart))})),g.title=u.getTitle(_,b),g.beforeBody=u.getBeforeBody(_,b),g.body=u.getBody(_,b),g.afterBody=u.getAfterBody(_,b),g.footer=u.getFooter(_,b),g.x=y.x,g.y=y.y,g.caretPadding=p.caretPadding,g.labelColors=O,g.labelTextColors=v,g.dataPoints=_,x=function(e,t){var n=e._chart.ctx,a=2*t.yPadding,i=0,o=t.body,r=o.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);r+=t.beforeBody.length+t.afterBody.length;var s=t.title.length,l=t.footer.length,c=t.titleFontSize,d=t.bodyFontSize,u=t.footerFontSize;a+=s*c,a+=s?(s-1)*t.titleSpacing:0,a+=s?t.titleMarginBottom:0,a+=r*d,a+=r?(r-1)*t.bodySpacing:0,a+=l?t.footerMarginTop:0,a+=l*u,a+=l?(l-1)*t.footerSpacing:0;var p=0,m=function(e){i=Math.max(i,n.measureText(e).width+p)};return n.font=V.fontString(c,t._titleFontStyle,t._titleFontFamily),V.each(t.title,m),n.font=V.fontString(d,t._bodyFontStyle,t._bodyFontFamily),V.each(t.beforeBody.concat(t.afterBody),m),p=t.displayColors?d+2:0,V.each(o,(function(e){V.each(e.before,m),V.each(e.lines,m),V.each(e.after,m)})),p=0,n.font=V.fontString(u,t._footerFontStyle,t._footerFontFamily),V.each(t.footer,m),{width:i+=2*t.xPadding,height:a}}(this,g),j=function(e,t,n,a){var i=e.x,o=e.y,r=e.caretSize,s=e.caretPadding,l=e.cornerRadius,c=n.xAlign,d=n.yAlign,u=r+s,p=l+s;return"right"===c?i-=t.width:"center"===c&&((i-=t.width/2)+t.width>a.width&&(i=a.width-t.width),i<0&&(i=0)),"top"===d?o+=u:o-="bottom"===d?t.height+u:t.height/2,"center"===d?"left"===c?i+=u:"right"===c&&(i-=u):"left"===c?i-=p:"right"===c&&(i+=p),{x:i,y:o}}(g,x,f=function(e,t){var n,a,i,o,r,s=e._model,l=e._chart,c=e._chart.chartArea,d="center",u="center";s.y<t.height?u="top":s.y>l.height-t.height&&(u="bottom");var p=(c.left+c.right)/2,m=(c.top+c.bottom)/2;"center"===u?(n=function(e){return e<=p},a=function(e){return e>p}):(n=function(e){return e<=t.width/2},a=function(e){return e>=l.width-t.width/2}),i=function(e){return e+t.width+s.caretSize+s.caretPadding>l.width},o=function(e){return e-t.width-s.caretSize-s.caretPadding<0},r=function(e){return e<=m?"top":"bottom"},n(s.x)?(d="left",i(s.x)&&(d="center",u=r(s.y))):a(s.x)&&(d="right",o(s.x)&&(d="center",u=r(s.y)));var g=e._options;return{xAlign:g.xAlign?g.xAlign:d,yAlign:g.yAlign?g.yAlign:u}}(this,x),u._chart)}else g.opacity=0;return g.xAlign=f.xAlign,g.yAlign=f.yAlign,g.x=j.x,g.y=j.y,g.width=x.width,g.height=x.height,g.caretX=y.x,g.caretY=y.y,u._model=g,e&&p.custom&&p.custom.call(u,g),u},drawCaret:function(e,t){var n=this._chart.ctx,a=this._view,i=this.getCaretPosition(e,t,a);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(e,t,n){var a,i,o,r,s,l,c=n.caretSize,d=n.cornerRadius,u=n.xAlign,p=n.yAlign,m=e.x,g=e.y,h=t.width,b=t.height;if("center"===p)s=g+b/2,"left"===u?(i=(a=m)-c,o=a,r=s+c,l=s-c):(i=(a=m+h)+c,o=a,r=s-c,l=s+c);else if("left"===u?(a=(i=m+d+c)-c,o=i+c):"right"===u?(a=(i=m+h-d-c)-c,o=i+c):(a=(i=n.caretX)-c,o=i+c),"top"===p)s=(r=g)-c,l=r;else{s=(r=g+b)+c,l=r;var f=o;o=a,a=f}return{x1:a,x2:i,x3:o,y1:r,y2:s,y3:l}},drawTitle:function(e,t,n){var a,i,o,r=t.title,s=r.length;if(s){var l=Tt(t.rtl,t.x,t.width);for(e.x=Ft(t,t._titleAlign),n.textAlign=l.textAlign(t._titleAlign),n.textBaseline="middle",a=t.titleFontSize,i=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=V.fontString(a,t._titleFontStyle,t._titleFontFamily),o=0;o<s;++o)n.fillText(r[o],l.x(e.x),e.y+a/2),e.y+=a+i,o+1===s&&(e.y+=t.titleMarginBottom-i)}},drawBody:function(e,t,n){var a,i,o,r,s,l,c,d,u=t.bodyFontSize,p=t.bodySpacing,m=t._bodyAlign,g=t.body,h=t.displayColors,b=0,f=h?Ft(t,"left"):0,j=Tt(t.rtl,t.x,t.width),x=function(t){n.fillText(t,j.x(e.x+b),e.y+u/2),e.y+=u+p},y=j.textAlign(m);for(n.textAlign=m,n.textBaseline="middle",n.font=V.fontString(u,t._bodyFontStyle,t._bodyFontFamily),e.x=Ft(t,y),n.fillStyle=t.bodyFontColor,V.each(t.beforeBody,x),b=h&&"right"!==y?"center"===m?u/2+1:u+2:0,s=0,c=g.length;s<c;++s){for(a=g[s],i=t.labelTextColors[s],o=t.labelColors[s],n.fillStyle=i,V.each(a.before,x),l=0,d=(r=a.lines).length;l<d;++l){if(h){var O=j.x(f);n.fillStyle=t.legendColorBackground,n.fillRect(j.leftForLtr(O,u),e.y,u,u),n.lineWidth=1,n.strokeStyle=o.borderColor,n.strokeRect(j.leftForLtr(O,u),e.y,u,u),n.fillStyle=o.backgroundColor,n.fillRect(j.leftForLtr(j.xPlus(O,1),u-2),e.y+1,u-2,u-2),n.fillStyle=i}x(r[l])}V.each(a.after,x)}b=0,V.each(t.afterBody,x),e.y-=p},drawFooter:function(e,t,n){var a,i,o=t.footer,r=o.length;if(r){var s=Tt(t.rtl,t.x,t.width);for(e.x=Ft(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=s.textAlign(t._footerAlign),n.textBaseline="middle",a=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=V.fontString(a,t._footerFontStyle,t._footerFontFamily),i=0;i<r;++i)n.fillText(o[i],s.x(e.x),e.y+a/2),e.y+=a+t.footerSpacing}},drawBackground:function(e,t,n,a){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var i=t.xAlign,o=t.yAlign,r=e.x,s=e.y,l=a.width,c=a.height,d=t.cornerRadius;n.beginPath(),n.moveTo(r+d,s),"top"===o&&this.drawCaret(e,a),n.lineTo(r+l-d,s),n.quadraticCurveTo(r+l,s,r+l,s+d),"center"===o&&"right"===i&&this.drawCaret(e,a),n.lineTo(r+l,s+c-d),n.quadraticCurveTo(r+l,s+c,r+l-d,s+c),"bottom"===o&&this.drawCaret(e,a),n.lineTo(r+d,s+c),n.quadraticCurveTo(r,s+c,r,s+c-d),"center"===o&&"left"===i&&this.drawCaret(e,a),n.lineTo(r,s+d),n.quadraticCurveTo(r,s,r+d,s),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},a={x:t.x,y:t.y},i=Math.abs(t.opacity<.001)?0:t.opacity,o=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(a,t,e,n),a.y+=t.yPadding,V.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),V.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var t,n=this,a=n._options;return n._lastActive=n._lastActive||[],"mouseout"===e.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(e,a.mode,a),a.reverse&&n._active.reverse()),(t=!V.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(a.enabled||a.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),t}}),Bt=Nt,Vt=Rt;Vt.positioners=Bt;var Ut=V.valueOrDefault;function qt(){return V.merge({},[].slice.call(arguments),{merger:function(e,t,n,a){if("xAxes"===e||"yAxes"===e){var i,o,r,s=n[e].length;for(t[e]||(t[e]=[]),i=0;i<s;++i)r=n[e][i],o=Ut(r.type,"xAxes"===e?"category":"linear"),i>=t[e].length&&t[e].push({}),!t[e][i].type||r.type&&r.type!==t[e][i].type?V.merge(t[e][i],[Pt.getScaleDefaults(o),r]):V.merge(t[e][i],r)}else V._merger(e,t,n,a)}})}function Wt(){return V.merge({},[].slice.call(arguments),{merger:function(e,t,n,a){var i=t[e]||{},o=n[e];"scales"===e?t[e]=qt(i,o):"scale"===e?t[e]=V.merge(i,[Pt.getScaleDefaults(o.type),o]):V._merger(e,t,n,a)}})}function Ht(e){var t=e.options;V.each(e.scales,(function(t){gt.removeBox(e,t)})),t=Wt(L.global,L[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function $t(e,t,n){var a,i=function(e){return e.id===a};do{a=t+n++}while(V.findIndex(e,i)>=0);return a}function Yt(e){return"top"===e||"bottom"===e}function Kt(e,t){return function(n,a){return n[e]===a[e]?n[t]-a[t]:n[e]-a[e]}}L._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Gt=function(e,t){return this.construct(e,t),this};V.extend(Gt.prototype,{construct:function(e,t){var n=this;t=function(e){var t=(e=e||{}).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=Wt(L.global,L[e.type],e.options||{}),e}(t);var a=kt.acquireContext(e,t),i=a&&a.canvas,o=i&&i.height,r=i&&i.width;n.id=V.uid(),n.ctx=a,n.canvas=i,n.config=t,n.width=r,n.height=o,n.aspectRatio=o?r/o:null,n.options=t.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Gt.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(e){n.config.data=e}}),a&&i?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return It.notify(e,"beforeInit"),V.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),It.notify(e,"afterInit"),e},clear:function(){return V.canvas.clear(this),this},stop:function(){return Q.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,a=t.canvas,i=n.maintainAspectRatio&&t.aspectRatio||null,o=Math.max(0,Math.floor(V.getMaximumWidth(a))),r=Math.max(0,Math.floor(i?o/i:V.getMaximumHeight(a)));if((t.width!==o||t.height!==r)&&(a.width=t.width=o,a.height=t.height=r,a.style.width=o+"px",a.style.height=r+"px",V.retinaScale(t,n.devicePixelRatio),!e)){var s={width:o,height:r};It.notify(t,"resize",[s]),n.onResize&&n.onResize(t,s),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;V.each(t.xAxes,(function(e,n){e.id||(e.id=$t(t.xAxes,"x-axis-",n))})),V.each(t.yAxes,(function(e,n){e.id||(e.id=$t(t.yAxes,"y-axis-",n))})),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},a=[],i=Object.keys(n).reduce((function(e,t){return e[t]=!1,e}),{});t.scales&&(a=a.concat((t.scales.xAxes||[]).map((function(e){return{options:e,dtype:"category",dposition:"bottom"}})),(t.scales.yAxes||[]).map((function(e){return{options:e,dtype:"linear",dposition:"left"}})))),t.scale&&a.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),V.each(a,(function(t){var a=t.options,o=a.id,r=Ut(a.type,t.dtype);Yt(a.position)!==Yt(t.dposition)&&(a.position=t.dposition),i[o]=!0;var s=null;if(o in n&&n[o].type===r)(s=n[o]).options=a,s.ctx=e.ctx,s.chart=e;else{var l=Pt.getScaleConstructor(r);if(!l)return;s=new l({id:o,type:r,options:a,ctx:e.ctx,chart:e}),n[s.id]=s}s.mergeTicksOptions(),t.isDefault&&(e.scale=s)})),V.each(i,(function(e,t){e||delete n[t]})),e.scales=n,Pt.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e,t,n=this,a=[],i=n.data.datasets;for(e=0,t=i.length;e<t;e++){var o=i[e],r=n.getDatasetMeta(e),s=o.type||n.config.type;if(r.type&&r.type!==s&&(n.destroyDatasetMeta(e),r=n.getDatasetMeta(e)),r.type=s,r.order=o.order||0,r.index=e,r.controller)r.controller.updateIndex(e),r.controller.linkScales();else{var l=Qe[r.type];if(void 0===l)throw new Error('"'+r.type+'" is not a chart type.');r.controller=new l(n,e),a.push(r.controller)}}return a},resetElements:function(){var e=this;V.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t,n,a=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),Ht(a),It._invalidate(a),!1!==It.notify(a,"beforeUpdate")){a.tooltip._data=a.data;var i=a.buildOrUpdateControllers();for(t=0,n=a.data.datasets.length;t<n;t++)a.getDatasetMeta(t).controller.buildOrUpdateElements();a.updateLayout(),a.options.animation&&a.options.animation.duration&&V.each(i,(function(e){e.reset()})),a.updateDatasets(),a.tooltip.initialize(),a.lastActive=[],It.notify(a,"afterUpdate"),a._layers.sort(Kt("z","_idx")),a._bufferedRender?a._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:a.render(e)}},updateLayout:function(){var e=this;!1!==It.notify(e,"beforeLayout")&&(gt.update(this,this.width,this.height),e._layers=[],V.each(e.boxes,(function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())}),e),e._layers.forEach((function(e,t){e._idx=t})),It.notify(e,"afterScaleUpdate"),It.notify(e,"afterLayout"))},updateDatasets:function(){if(!1!==It.notify(this,"beforeDatasetsUpdate")){for(var e=0,t=this.data.datasets.length;e<t;++e)this.updateDataset(e);It.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this.getDatasetMeta(e),n={meta:t,index:e};!1!==It.notify(this,"beforeDatasetUpdate",[n])&&(t.controller._update(),It.notify(this,"afterDatasetUpdate",[n]))},render:function(e){var t=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var n=t.options.animation,a=Ut(e.duration,n&&n.duration),i=e.lazy;if(!1!==It.notify(t,"beforeRender")){var o=function(e){It.notify(t,"afterRender"),V.callback(n&&n.onComplete,[e],t)};if(n&&a){var r=new X({numSteps:a/16.66,easing:e.easing||n.easing,render:function(e,t){var n=V.easing.effects[t.easing],a=t.currentStep,i=a/t.numSteps;e.draw(n(i),i,a)},onAnimationProgress:n.onProgress,onAnimationComplete:o});Q.addAnimation(t,r,a,i)}else t.draw(),o(new X({numSteps:0,chart:t}));return t}},draw:function(e){var t,n,a=this;if(a.clear(),V.isNullOrUndef(e)&&(e=1),a.transition(e),!(a.width<=0||a.height<=0)&&!1!==It.notify(a,"beforeDraw",[e])){for(n=a._layers,t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(a.chartArea);for(a.drawDatasets(e);t<n.length;++t)n[t].draw(a.chartArea);a._drawTooltip(e),It.notify(a,"afterDraw",[e])}},transition:function(e){for(var t=0,n=(this.data.datasets||[]).length;t<n;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(e);this.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var t,n,a=[];for(t=0,n=(this.data.datasets||[]).length;t<n;++t)e&&!this.isDatasetVisible(t)||a.push(this.getDatasetMeta(t));return a.sort(Kt("order","index")),a},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t,n;if(!1!==It.notify(this,"beforeDatasetsDraw",[e])){for(n=(t=this._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)this.drawDataset(t[n],e);It.notify(this,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n={meta:e,index:e.index,easingValue:t};!1!==It.notify(this,"beforeDatasetDraw",[n])&&(e.controller.draw(t),It.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(e){var t=this.tooltip,n={tooltip:t,easingValue:e};!1!==It.notify(this,"beforeTooltipDraw",[n])&&(t.draw(),It.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(e){return it.modes.single(this,e)},getElementsAtEvent:function(e){return it.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return it.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var a=it.modes[t];return"function"==typeof a?a(this,e,n):[]},getDatasetAtEvent:function(e){return it.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var n=t._meta[this.id];return n||(n=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t.order||0,index:e}),n},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],a=n._meta&&n._meta[t];a&&(a.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,a=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);a&&(n.unbindEvents(),V.canvas.clear(n),kt.releaseContext(n.ctx),n.canvas=null,n.ctx=null),It.notify(n,"destroy"),delete Gt.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new Vt({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};V.each(e.options.events,(function(a){kt.addEventListener(e,a,n),t[a]=n})),e.options.responsive&&(n=function(){e.resize()},kt.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,V.each(t,(function(t,n){kt.removeEventListener(e,n,t)})))},updateHoverStyle:function(e,t,n){var a,i,o,r=n?"set":"remove";for(i=0,o=e.length;i<o;++i)(a=e[i])&&this.getDatasetMeta(a._datasetIndex).controller[r+"HoverStyle"](a);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+r+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==It.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var a=t.handleEvent(e);n&&(a=n._start?n.handleEvent(e):a|n.handleEvent(e)),It.notify(t,"afterEvent",[e]);var i=t._bufferedRequest;return i?t.render(i):a&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,a=n.options||{},i=a.hover;return n.lastActive=n.lastActive||[],"mouseout"===e.type?n.active=[]:n.active=n.getElementsAtEventForMode(e,i.mode,i),V.callback(a.onHover||a.hover.onHover,[e.native,n.active],n),"mouseup"!==e.type&&"click"!==e.type||a.onClick&&a.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,i.mode,!1),n.active.length&&i.mode&&n.updateHoverStyle(n.active,i.mode,!0),t=!V.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),Gt.instances={};var Xt=Gt;function Qt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Jt(e){this.options=e||{}}Gt.Controller=Gt,Gt.types={},V.configMerge=Wt,V.scaleMerge=qt,V.extend(Jt.prototype,{formats:Qt,parse:Qt,format:Qt,add:Qt,diff:Qt,startOf:Qt,endOf:Qt,_create:function(e){return e}}),Jt.override=function(e){V.extend(Jt.prototype,e)};var Zt={_date:Jt},en={formatters:{values:function(e){return V.isArray(e)?e:""+e},linear:function(e,t,n){var a=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(a)>1&&e!==Math.floor(e)&&(a=e-Math.floor(e));var i=V.log10(Math.abs(a)),o="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var r=V.log10(Math.abs(e)),s=Math.floor(r)-Math.floor(i);s=Math.max(Math.min(s,20),0),o=e.toExponential(s)}else{var l=-1*Math.floor(i);l=Math.max(Math.min(l,20),0),o=e.toFixed(l)}else o="0";return o},logarithmic:function(e,t,n){var a=e/Math.pow(10,Math.floor(V.log10(e)));return 0===e?"0":1===a||2===a||5===a||0===t||t===n.length-1?e.toExponential():""}}},tn=V.isArray,nn=V.isNullOrUndef,an=V.valueOrDefault,on=V.valueAtIndexOrDefault;function rn(e,t,n){var a,i=e.getTicks().length,o=Math.min(t,i-1),r=e.getPixelForTick(o),s=e._startPixel,l=e._endPixel;if(!(n&&(a=1===i?Math.max(r-s,l-r):0===t?(e.getPixelForTick(1)-r)/2:(r-e.getPixelForTick(o-1))/2,(r+=o<t?a:-a)<s-1e-6||r>l+1e-6)))return r}function sn(e,t,n,a){var i,o,r,s,l,c,d,u,p,m,g,h,b,f=n.length,j=[],x=[],y=[];for(i=0;i<f;++i){if(s=n[i].label,l=n[i].major?t.major:t.minor,e.font=c=l.string,d=a[c]=a[c]||{data:{},gc:[]},u=l.lineHeight,p=m=0,nn(s)||tn(s)){if(tn(s))for(o=0,r=s.length;o<r;++o)g=s[o],nn(g)||tn(g)||(p=V.measureText(e,d.data,d.gc,p,g),m+=u)}else p=V.measureText(e,d.data,d.gc,p,s),m=u;j.push(p),x.push(m),y.push(u/2)}function O(e){return{width:j[e]||0,height:x[e]||0,offset:y[e]||0}}return function(e,t){V.each(e,(function(e){var n,a=e.gc,i=a.length/2;if(i>t){for(n=0;n<i;++n)delete e.data[a[n]];a.splice(0,i)}}))}(a,f),h=j.indexOf(Math.max.apply(null,j)),b=x.indexOf(Math.max.apply(null,x)),{first:O(0),last:O(f-1),widest:O(h),highest:O(b)}}function ln(e){return e.drawTicks?e.tickMarkLength:0}function cn(e){var t,n;return e.display?(t=V.options._parseFont(e),n=V.options.toPadding(e.padding),t.lineHeight+n.height):0}function dn(e,t){return V.extend(V.options._parseFont({fontFamily:an(t.fontFamily,e.fontFamily),fontSize:an(t.fontSize,e.fontSize),fontStyle:an(t.fontStyle,e.fontStyle),lineHeight:an(t.lineHeight,e.lineHeight)}),{color:V.options.resolve([t.fontColor,e.fontColor,L.global.defaultFontColor])})}function un(e){var t=dn(e,e.minor);return{minor:t,major:e.major.enabled?dn(e,e.major):t}}function pn(e){var t,n,a,i=[];for(n=0,a=e.length;n<a;++n)void 0!==(t=e[n])._index&&i.push(t);return i}function mn(e,t,n,a){var i,o,r,s,l=an(n,0),c=Math.min(an(a,e.length),e.length),d=0;for(t=Math.ceil(t),a&&(t=(i=a-n)/Math.floor(i/t)),s=l;s<0;)d++,s=Math.round(l+d*t);for(o=Math.max(l,0);o<c;o++)r=e[o],o===s?(r._index=o,d++,s=Math.round(l+d*t)):delete r.label}L._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:en.formatters.values,minor:{},major:{}}});var gn=K.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){V.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var a,i,o,r,s,l=this,c=l.options.ticks,d=c.sampleSize;if(l.beforeUpdate(),l.maxWidth=e,l.maxHeight=t,l.margins=V.extend({left:0,right:0,top:0,bottom:0},n),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),r=l.buildTicks()||[],(!(r=l.afterBuildTicks(r)||r)||!r.length)&&l.ticks)for(r=[],a=0,i=l.ticks.length;a<i;++a)r.push({value:l.ticks[a],major:!1});return l._ticks=r,s=d<r.length,o=l._convertTicksToLabels(s?function(e,t){for(var n=[],a=e.length/t,i=0,o=e.length;i<o;i+=a)n.push(e[Math.floor(i)]);return n}(r,d):r),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=c.display&&(c.autoSkip||"auto"===c.source)?l._autoSkip(r):r,s&&(o=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=o,l.afterUpdate(),l.minSize},_configure:function(){var e,t,n=this,a=n.options.ticks.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,a=!a),n._startPixel=e,n._endPixel=t,n._reversePixels=a,n._length=t-e},afterUpdate:function(){V.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){V.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){V.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){V.callback(this.options.beforeDataLimits,[this])},determineDataLimits:V.noop,afterDataLimits:function(){V.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){V.callback(this.options.beforeBuildTicks,[this])},buildTicks:V.noop,afterBuildTicks:function(e){var t=this;return tn(e)&&e.length?V.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=V.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){V.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){V.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){V.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e,t,n,a,i,o,r,s=this,l=s.options,c=l.ticks,d=s.getTicks().length,u=c.minRotation||0,p=c.maxRotation,m=u;!s._isVisible()||!c.display||u>=p||d<=1||!s.isHorizontal()?s.labelRotation=u:(t=(e=s._getLabelSizes()).widest.width,n=e.highest.height-e.highest.offset,a=Math.min(s.maxWidth,s.chart.width-t),t+6>(i=l.offset?s.maxWidth/d:a/(d-1))&&(i=a/(d-(l.offset?.5:1)),o=s.maxHeight-ln(l.gridLines)-c.padding-cn(l.scaleLabel),r=Math.sqrt(t*t+n*n),m=V.toDegrees(Math.min(Math.asin(Math.min((e.highest.height+6)/i,1)),Math.asin(Math.min(o/r,1))-Math.asin(n/r))),m=Math.max(u,Math.min(p,m))),s.labelRotation=m)},afterCalculateTickRotation:function(){V.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){V.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=e.chart,a=e.options,i=a.ticks,o=a.scaleLabel,r=a.gridLines,s=e._isVisible(),l="bottom"===a.position,c=e.isHorizontal();if(c?t.width=e.maxWidth:s&&(t.width=ln(r)+cn(o)),c?s&&(t.height=ln(r)+cn(o)):t.height=e.maxHeight,i.display&&s){var d=un(i),u=e._getLabelSizes(),p=u.first,m=u.last,g=u.widest,h=u.highest,b=.4*d.minor.lineHeight,f=i.padding;if(c){var j=0!==e.labelRotation,x=V.toRadians(e.labelRotation),y=Math.cos(x),O=Math.sin(x),v=O*g.width+y*(h.height-(j?h.offset:0))+(j?0:b);t.height=Math.min(e.maxHeight,t.height+v+f);var _,w,C=e.getPixelForTick(0)-e.left,S=e.right-e.getPixelForTick(e.getTicks().length-1);j?(_=l?y*p.width+O*p.offset:O*(p.height-p.offset),w=l?O*(m.height-m.offset):y*m.width+O*m.offset):(_=p.width/2,w=m.width/2),e.paddingLeft=Math.max((_-C)*e.width/(e.width-C),0)+3,e.paddingRight=Math.max((w-S)*e.width/(e.width-S),0)+3}else{var M=i.mirror?0:g.width+f+b;t.width=Math.min(e.maxWidth,t.width+M),e.paddingTop=p.height/2,e.paddingBottom=m.height/2}}e.handleMargins(),c?(e.width=e._length=n.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){V.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(nn(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var t,n,a,i=this;for(i.ticks=e.map((function(e){return e.value})),i.beforeTickToLabelConversion(),t=i.convertTicksToLabels(e)||i.ticks,i.afterTickToLabelConversion(),n=0,a=e.length;n<a;++n)e[n].label=t[n];return t},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=sn(e.ctx,un(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,n,a,i;return tn(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),a=Math.min(t,n),i=Math.max(t,n)):(t=void 0,n=e=+this.getRightValue(e),a=e,i=e),{min:a,max:i,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:V.noop,getPixelForValue:V.noop,getValueForPixel:V.noop,getPixelForTick:function(e){var t=this.options.offset,n=this._ticks.length,a=1/Math.max(n-(t?0:1),1);return e<0||e>n-1?null:this.getPixelForDecimal(e*a+(t?a/2:0))},getPixelForDecimal:function(e){return this._reversePixels&&(e=1-e),this._startPixel+e*this._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0},_autoSkip:function(e){var t,n,a,i,o=this.options.ticks,r=this._length,s=o.maxTicksLimit||r/this._tickSize()+1,l=o.major.enabled?function(e){var t,n,a=[];for(t=0,n=e.length;t<n;t++)e[t].major&&a.push(t);return a}(e):[],c=l.length,d=l[0],u=l[c-1];if(c>s)return function(e,t,n){var a,i,o=0,r=t[0];for(n=Math.ceil(n),a=0;a<e.length;a++)i=e[a],a===r?(i._index=a,r=t[++o*n]):delete i.label}(e,l,c/s),pn(e);if(a=function(e,t,n,a){var i,o,r,s,l=function(e){var t,n,a=e.length;if(a<2)return!1;for(n=e[0],t=1;t<a;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),c=(t.length-1)/a;if(!l)return Math.max(c,1);for(r=0,s=(i=V.math._factorize(l)).length-1;r<s;r++)if((o=i[r])>c)return o;return Math.max(c,1)}(l,e,0,s),c>0){for(t=0,n=c-1;t<n;t++)mn(e,a,l[t],l[t+1]);return i=c>1?(u-d)/(c-1):null,mn(e,a,V.isNullOrUndef(i)?0:d-i,d),mn(e,a,u,V.isNullOrUndef(i)?e.length:u+i),pn(e)}return mn(e,a),pn(e)},_tickSize:function(){var e=this.options.ticks,t=V.toRadians(this.labelRotation),n=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,r=i?i.widest.width+o:0,s=i?i.highest.height+o:0;return this.isHorizontal()?s*n>r*a?r/n:s/a:s*a<r*n?s/n:r/a},_isVisible:function(){var e,t,n,a=this.chart,i=this.options.display;if("auto"!==i)return!!i;for(e=0,t=a.data.datasets.length;e<t;++e)if(a.isDatasetVisible(e)&&((n=a.getDatasetMeta(e)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(e){var t,n,a,i,o,r,s,l,c,d,u,p,m,g,h,b,f,j=this,x=j.chart,y=j.options,O=y.gridLines,v=y.position,_=O.offsetGridLines,w=j.isHorizontal(),C=j._ticksToDraw,S=C.length+(_?1:0),M=ln(O),k=[],I=O.drawBorder?on(O.lineWidth,0,0):0,P=I/2,A=V._alignPixel,T=function(e){return A(x,e,I)};for("top"===v?(t=T(j.bottom),s=j.bottom-M,c=t-P,u=T(e.top)+P,m=e.bottom):"bottom"===v?(t=T(j.top),u=e.top,m=T(e.bottom)-P,s=t+P,c=j.top+M):"left"===v?(t=T(j.right),r=j.right-M,l=t-P,d=T(e.left)+P,p=e.right):(t=T(j.left),d=e.left,p=T(e.right)-P,r=t+P,l=j.left+M),n=0;n<S;++n)a=C[n]||{},nn(a.label)&&n<C.length||(n===j.zeroLineIndex&&y.offset===_?(g=O.zeroLineWidth,h=O.zeroLineColor,b=O.zeroLineBorderDash||[],f=O.zeroLineBorderDashOffset||0):(g=on(O.lineWidth,n,1),h=on(O.color,n,"rgba(0,0,0,0.1)"),b=O.borderDash||[],f=O.borderDashOffset||0),void 0!==(i=rn(j,a._index||n,_))&&(o=A(x,i,g),w?r=l=d=p=o:s=c=u=m=o,k.push({tx1:r,ty1:s,tx2:l,ty2:c,x1:d,y1:u,x2:p,y2:m,width:g,color:h,borderDash:b,borderDashOffset:f})));return k.ticksLength=S,k.borderValue=t,k},_computeLabelItems:function(){var e,t,n,a,i,o,r,s,l,c,d,u,p=this,m=p.options,g=m.ticks,h=m.position,b=g.mirror,f=p.isHorizontal(),j=p._ticksToDraw,x=un(g),y=g.padding,O=ln(m.gridLines),v=-V.toRadians(p.labelRotation),_=[];for("top"===h?(o=p.bottom-O-y,r=v?"left":"center"):"bottom"===h?(o=p.top+O+y,r=v?"right":"center"):"left"===h?(i=p.right-(b?0:O)-y,r=b?"left":"right"):(i=p.left+(b?0:O)+y,r=b?"right":"left"),e=0,t=j.length;e<t;++e)a=(n=j[e]).label,nn(a)||(s=p.getPixelForTick(n._index||e)+g.labelOffset,c=(l=n.major?x.major:x.minor).lineHeight,d=tn(a)?a.length:1,f?(i=s,u="top"===h?((v?1:.5)-d)*c:(v?0:.5)*c):(o=s,u=(1-d)*c/2),_.push({x:i,y:o,rotation:v,label:a,font:l,textOffset:u,textAlign:r}));return _},_drawGrid:function(e){var t=this,n=t.options.gridLines;if(n.display){var a,i,o,r,s,l=t.ctx,c=t.chart,d=V._alignPixel,u=n.drawBorder?on(n.lineWidth,0,0):0,p=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));for(o=0,r=p.length;o<r;++o)a=(s=p[o]).width,i=s.color,a&&i&&(l.save(),l.lineWidth=a,l.strokeStyle=i,l.setLineDash&&(l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset),l.beginPath(),n.drawTicks&&(l.moveTo(s.tx1,s.ty1),l.lineTo(s.tx2,s.ty2)),n.drawOnChartArea&&(l.moveTo(s.x1,s.y1),l.lineTo(s.x2,s.y2)),l.stroke(),l.restore());if(u){var m,g,h,b,f=u,j=on(n.lineWidth,p.ticksLength-1,1),x=p.borderValue;t.isHorizontal()?(m=d(c,t.left,f)-f/2,g=d(c,t.right,j)+j/2,h=b=x):(h=d(c,t.top,f)-f/2,b=d(c,t.bottom,j)+j/2,m=g=x),l.lineWidth=u,l.strokeStyle=on(n.color,0),l.beginPath(),l.moveTo(m,h),l.lineTo(g,b),l.stroke()}}},_drawLabels:function(){var e=this;if(e.options.ticks.display){var t,n,a,i,o,r,s,l,c=e.ctx,d=e._labelItems||(e._labelItems=e._computeLabelItems());for(t=0,a=d.length;t<a;++t){if(r=(o=d[t]).font,c.save(),c.translate(o.x,o.y),c.rotate(o.rotation),c.font=r.string,c.fillStyle=r.color,c.textBaseline="middle",c.textAlign=o.textAlign,s=o.label,l=o.textOffset,tn(s))for(n=0,i=s.length;n<i;++n)c.fillText(""+s[n],0,l),l+=r.lineHeight;else c.fillText(s,0,l);c.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,n=e.options,a=n.scaleLabel;if(a.display){var i,o,r=an(a.fontColor,L.global.defaultFontColor),s=V.options._parseFont(a),l=V.options.toPadding(a.padding),c=s.lineHeight/2,d=n.position,u=0;if(e.isHorizontal())i=e.left+e.width/2,o="bottom"===d?e.bottom-c-l.bottom:e.top+c+l.top;else{var p="left"===d;i=p?e.left+c+l.top:e.right-c-l.top,o=e.top+e.height/2,u=p?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(i,o),t.rotate(u),t.textAlign="center",t.textBaseline="middle",t.fillStyle=r,t.font=s.string,t.fillText(a.labelString,0,0),t.restore()}},draw:function(e){this._isVisible()&&(this._drawGrid(e),this._drawTitle(),this._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,a=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==a&&e.draw===e._draw?[{z:a,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,n=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter((function(a){return(!e||a.type===e)&&(n?a.xAxisID===t.id:a.yAxisID===t.id)}))}});gn.prototype._draw=gn.prototype.draw;var hn=gn,bn=V.isNullOrUndef,fn=hn.extend({determineDataLimits:function(){var e,t=this,n=t._getLabels(),a=t.options.ticks,i=a.min,o=a.max,r=0,s=n.length-1;void 0!==i&&(e=n.indexOf(i))>=0&&(r=e),void 0!==o&&(e=n.indexOf(o))>=0&&(s=e),t.minIndex=r,t.maxIndex=s,t.min=n[r],t.max=n[s]},buildTicks:function(){var e=this._getLabels(),t=this.minIndex,n=this.maxIndex;this.ticks=0===t&&n===e.length-1?e:e.slice(t,n+1)},getLabelForIndex:function(e,t){var n=this.chart;return n.getDatasetMeta(t).controller._getValueScaleId()===this.id?this.getRightValue(n.data.datasets[t].data[e]):this._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,n=e.ticks;hn.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),n&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(n.length-(t?0:1),1))},getPixelForValue:function(e,t,n){var a,i,o,r=this;return bn(t)||bn(n)||(e=r.chart.data.datasets[n].data[t]),bn(e)||(a=r.isHorizontal()?e.x:e.y),(void 0!==a||void 0!==e&&isNaN(t))&&(i=r._getLabels(),e=V.valueOrDefault(a,e),t=-1!==(o=i.indexOf(e))?o:t,isNaN(t)&&(t=e)),r.getPixelForDecimal((t-r._startValue)/r._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange);return Math.min(Math.max(t,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}}),jn={position:"bottom"};fn._defaults=jn;var xn=V.noop,yn=V.isNullOrUndef,On=hn.extend({getRightValue:function(e){return"string"==typeof e?+e:hn.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=V.sign(e.min),a=V.sign(e.max);n<0&&a<0?e.max=0:n>0&&a>0&&(e.min=0)}var i=void 0!==t.min||void 0!==t.suggestedMin,o=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),i!==o&&e.min>=e.max&&(i?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this.options.ticks,n=t.stepSize,a=t.maxTicksLimit;return n?e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(e=this._computeTickLimit(),a=a||11),a&&(e=Math.min(a,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:xn,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),a={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:V.valueOrDefault(t.fixedStepSize,t.stepSize)},i=e.ticks=function(e,t){var n,a,i,o,r=[],s=e.stepSize,l=s||1,c=e.maxTicks-1,d=e.min,u=e.max,p=e.precision,m=t.min,g=t.max,h=V.niceNum((g-m)/c/l)*l;if(h<1e-14&&yn(d)&&yn(u))return[m,g];(o=Math.ceil(g/h)-Math.floor(m/h))>c&&(h=V.niceNum(o*h/c/l)*l),s||yn(p)?n=Math.pow(10,V._decimalPlaces(h)):(n=Math.pow(10,p),h=Math.ceil(h*n)/n),a=Math.floor(m/h)*h,i=Math.ceil(g/h)*h,s&&(!yn(d)&&V.almostWhole(d/h,h/1e3)&&(a=d),!yn(u)&&V.almostWhole(u/h,h/1e3)&&(i=u)),o=(i-a)/h,o=V.almostEquals(o,Math.round(o),h/1e3)?Math.round(o):Math.ceil(o),a=Math.round(a*n)/n,i=Math.round(i*n)/n,r.push(yn(d)?a:d);for(var b=1;b<o;++b)r.push(Math.round((a+b*h)*n)/n);return r.push(yn(u)?i:u),r}(a,e);e.handleDirectionalChanges(),e.max=V.max(i),e.min=V.min(i),t.reverse?(i.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),hn.prototype.convertTicksToLabels.call(e)},_configure:function(){var e,t=this,n=t.getTicks(),a=t.min,i=t.max;hn.prototype._configure.call(t),t.options.offset&&n.length&&(a-=e=(i-a)/Math.max(n.length-1,1)/2,i+=e),t._startValue=a,t._endValue=i,t._valueRange=i-a}}),vn={position:"left",ticks:{callback:en.formatters.linear}};function _n(e,t,n,a){var i,o,r=e.options,s=function(e,t,n){var a=[n.type,void 0===t&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===e[a]&&(e[a]={pos:[],neg:[]}),e[a]}(t,r.stacked,n),l=s.pos,c=s.neg,d=a.length;for(i=0;i<d;++i)o=e._parseValue(a[i]),isNaN(o.min)||isNaN(o.max)||n.data[i].hidden||(l[i]=l[i]||0,c[i]=c[i]||0,r.relativePoints?l[i]=100:o.min<0||o.max<0?c[i]+=o.min:l[i]+=o.max)}function wn(e,t,n){var a,i,o=n.length;for(a=0;a<o;++a)i=e._parseValue(n[a]),isNaN(i.min)||isNaN(i.max)||t.data[a].hidden||(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}var Cn=On.extend({determineDataLimits:function(){var e,t,n,a,i=this,o=i.options,r=i.chart.data.datasets,s=i._getMatchingVisibleMetas(),l=o.stacked,c={},d=s.length;if(i.min=Number.POSITIVE_INFINITY,i.max=Number.NEGATIVE_INFINITY,void 0===l)for(e=0;!l&&e<d;++e)l=void 0!==(t=s[e]).stack;for(e=0;e<d;++e)n=r[(t=s[e]).index].data,l?_n(i,c,t,n):wn(i,t,n);V.each(c,(function(e){a=e.pos.concat(e.neg),i.min=Math.min(i.min,V.min(a)),i.max=Math.max(i.max,V.max(a))})),i.min=V.isFinite(i.min)&&!isNaN(i.min)?i.min:0,i.max=V.isFinite(i.max)&&!isNaN(i.max)?i.max:1,i.handleTickRangeOptions()},_computeTickLimit:function(){var e;return this.isHorizontal()?Math.ceil(this.width/40):(e=V.options._parseFont(this.options.ticks),Math.ceil(this.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){return this.getPixelForDecimal((+this.getRightValue(e)-this._startValue)/this._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}}),Sn=vn;Cn._defaults=Sn;var Mn=V.valueOrDefault,kn=V.math.log10,In={position:"left",ticks:{callback:en.formatters.logarithmic}};function Pn(e,t){return V.isFinite(e)&&e>=0?e:t}var An=hn.extend({determineDataLimits:function(){var e,t,n,a,i,o,r=this,s=r.options,l=r.chart,c=l.data.datasets,d=r.isHorizontal();function u(e){return d?e.xAxisID===r.id:e.yAxisID===r.id}r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,r.minNotZero=Number.POSITIVE_INFINITY;var p=s.stacked;if(void 0===p)for(e=0;e<c.length;e++)if(t=l.getDatasetMeta(e),l.isDatasetVisible(e)&&u(t)&&void 0!==t.stack){p=!0;break}if(s.stacked||p){var m={};for(e=0;e<c.length;e++){var g=[(t=l.getDatasetMeta(e)).type,void 0===s.stacked&&void 0===t.stack?e:"",t.stack].join(".");if(l.isDatasetVisible(e)&&u(t))for(void 0===m[g]&&(m[g]=[]),i=0,o=(a=c[e].data).length;i<o;i++){var h=m[g];n=r._parseValue(a[i]),isNaN(n.min)||isNaN(n.max)||t.data[i].hidden||n.min<0||n.max<0||(h[i]=h[i]||0,h[i]+=n.max)}}V.each(m,(function(e){if(e.length>0){var t=V.min(e),n=V.max(e);r.min=Math.min(r.min,t),r.max=Math.max(r.max,n)}}))}else for(e=0;e<c.length;e++)if(t=l.getDatasetMeta(e),l.isDatasetVisible(e)&&u(t))for(i=0,o=(a=c[e].data).length;i<o;i++)n=r._parseValue(a[i]),isNaN(n.min)||isNaN(n.max)||t.data[i].hidden||n.min<0||n.max<0||(r.min=Math.min(n.min,r.min),r.max=Math.max(n.max,r.max),0!==n.min&&(r.minNotZero=Math.min(n.min,r.minNotZero)));r.min=V.isFinite(r.min)?r.min:null,r.max=V.isFinite(r.max)?r.max:null,r.minNotZero=V.isFinite(r.minNotZero)?r.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=Pn(t.min,e.min),e.max=Pn(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(kn(e.min))-1),e.max=Math.pow(10,Math.floor(kn(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(kn(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(kn(e.min))+1):10),null===e.minNotZero&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(kn(e.max))):e.minNotZero=1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),a={min:Pn(t.min),max:Pn(t.max)},i=e.ticks=function(e,t){var n,a,i=[],o=Mn(e.min,Math.pow(10,Math.floor(kn(t.min)))),r=Math.floor(kn(t.max)),s=Math.ceil(t.max/Math.pow(10,r));0===o?(n=Math.floor(kn(t.minNotZero)),a=Math.floor(t.minNotZero/Math.pow(10,n)),i.push(o),o=a*Math.pow(10,n)):(n=Math.floor(kn(o)),a=Math.floor(o/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do{i.push(o),10==++a&&(a=1,l=++n>=0?1:l),o=Math.round(a*Math.pow(10,n)*l)/l}while(n<r||n===r&&a<s);var c=Mn(e.max,o);return i.push(c),i}(a,e);e.max=V.max(i),e.min=V.min(i),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&i.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),hn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(kn(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;hn.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=Mn(e.options.ticks.fontSize,L.global.defaultFontSize)/e._length),e._startValue=kn(t),e._valueOffset=n,e._valueRange=(kn(e.max)-kn(t))/(1-n)},getPixelForValue:function(e){var t=this,n=0;return(e=+t.getRightValue(e))>t.min&&e>0&&(n=(kn(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(n)},getValueForPixel:function(e){var t=this,n=t.getDecimalForPixel(e);return 0===n&&0===t.min?0:Math.pow(10,t._startValue+(n-t._valueOffset)*t._valueRange)}}),Tn=In;An._defaults=Tn;var Nn=V.valueOrDefault,Dn=V.valueAtIndexOrDefault,En=V.options.resolve,Ln={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:en.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function Fn(e){var t=e.ticks;return t.display&&e.display?Nn(t.fontSize,L.global.defaultFontSize)+2*t.backdropPaddingY:0}function zn(e,t,n,a,i){return e===a||e===i?{start:t-n/2,end:t+n/2}:e<a||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function Rn(e){return 0===e||180===e?"center":e<180?"left":"right"}function Bn(e,t,n,a){var i,o,r=n.y+a/2;if(V.isArray(t))for(i=0,o=t.length;i<o;++i)e.fillText(t[i],n.x,r),r+=a;else e.fillText(t,n.x,r)}function Vn(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function Un(e){return V.isNumber(e)?e:0}var qn=On.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=Fn(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;V.each(t.data.datasets,(function(i,o){if(t.isDatasetVisible(o)){var r=t.getDatasetMeta(o);V.each(i.data,(function(t,i){var o=+e.getRightValue(t);isNaN(o)||r.data[i].hidden||(n=Math.min(o,n),a=Math.max(o,a))}))}})),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=a===Number.NEGATIVE_INFINITY?0:a,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Fn(this.options))},convertTicksToLabels:function(){var e=this;On.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map((function(){var t=V.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:""}))},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this.options;e.display&&e.pointLabels.display?function(e){var t,n,a,i=V.options._parseFont(e.options.pointLabels),o={l:0,r:e.width,t:0,b:e.height-e.paddingTop},r={};e.ctx.font=i.string,e._pointLabelSizes=[];var s,l,c,d=e.chart.data.labels.length;for(t=0;t<d;t++){a=e.getPointPosition(t,e.drawingArea+5),s=e.ctx,l=i.lineHeight,c=e.pointLabels[t],n=V.isArray(c)?{w:V.longestText(s,s.font,c),h:c.length*l}:{w:s.measureText(c).width,h:l},e._pointLabelSizes[t]=n;var u=e.getIndexAngle(t),p=V.toDegrees(u)%360,m=zn(p,a.x,n.w,0,180),g=zn(p,a.y,n.h,90,270);m.start<o.l&&(o.l=m.start,r.l=u),m.end>o.r&&(o.r=m.end,r.r=u),g.start<o.t&&(o.t=g.start,r.t=u),g.end>o.b&&(o.b=g.end,r.b=u)}e.setReductions(e.drawingArea,o,r)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var a=this,i=t.l/Math.sin(n.l),o=Math.max(t.r-a.width,0)/Math.sin(n.r),r=-t.t/Math.cos(n.t),s=-Math.max(t.b-(a.height-a.paddingTop),0)/Math.cos(n.b);i=Un(i),o=Un(o),r=Un(r),s=Un(s),a.drawingArea=Math.min(Math.floor(e-(i+o)/2),Math.floor(e-(r+s)/2)),a.setCenterPoint(i,o,r,s)},setCenterPoint:function(e,t,n,a){var i=this,o=i.width-t-i.drawingArea,r=e+i.drawingArea,s=n+i.drawingArea,l=i.height-i.paddingTop-a-i.drawingArea;i.xCenter=Math.floor((r+o)/2+i.left),i.yCenter=Math.floor((s+l)/2+i.top+i.paddingTop)},getIndexAngle:function(e){var t=this.chart,n=(e*(360/t.data.labels.length)+((t.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(V.isNullOrUndef(e))return NaN;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this.min,n=this.max;return this.getPointPositionForValue(e||0,this.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},_drawGrid:function(){var e,t,n,a=this,i=a.ctx,o=a.options,r=o.gridLines,s=o.angleLines,l=Nn(s.lineWidth,r.lineWidth),c=Nn(s.color,r.color);if(o.pointLabels.display&&function(e){var t=e.ctx,n=e.options,a=n.pointLabels,i=Fn(n),o=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),r=V.options._parseFont(a);t.save(),t.font=r.string,t.textBaseline="middle";for(var s=e.chart.data.labels.length-1;s>=0;s--){var l=0===s?i/2:0,c=e.getPointPosition(s,o+l+5),d=Dn(a.fontColor,s,L.global.defaultFontColor);t.fillStyle=d;var u=e.getIndexAngle(s),p=V.toDegrees(u);t.textAlign=Rn(p),Vn(p,e._pointLabelSizes[s],c),Bn(t,e.pointLabels[s],c,r.lineHeight)}t.restore()}(a),r.display&&V.each(a.ticks,(function(e,n){0!==n&&(t=a.getDistanceFromCenterForValue(a.ticksAsNumbers[n]),function(e,t,n,a){var i,o=e.ctx,r=t.circular,s=e.chart.data.labels.length,l=Dn(t.color,a-1),c=Dn(t.lineWidth,a-1);if((r||s)&&l&&c){if(o.save(),o.strokeStyle=l,o.lineWidth=c,o.setLineDash&&(o.setLineDash(t.borderDash||[]),o.lineDashOffset=t.borderDashOffset||0),o.beginPath(),r)o.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{i=e.getPointPosition(0,n),o.moveTo(i.x,i.y);for(var d=1;d<s;d++)i=e.getPointPosition(d,n),o.lineTo(i.x,i.y)}o.closePath(),o.stroke(),o.restore()}}(a,r,t,n))})),s.display&&l&&c){for(i.save(),i.lineWidth=l,i.strokeStyle=c,i.setLineDash&&(i.setLineDash(En([s.borderDash,r.borderDash,[]])),i.lineDashOffset=En([s.borderDashOffset,r.borderDashOffset,0])),e=a.chart.data.labels.length-1;e>=0;e--)t=a.getDistanceFromCenterForValue(o.ticks.reverse?a.min:a.max),n=a.getPointPosition(e,t),i.beginPath(),i.moveTo(a.xCenter,a.yCenter),i.lineTo(n.x,n.y),i.stroke();i.restore()}},_drawLabels:function(){var e=this,t=e.ctx,n=e.options.ticks;if(n.display){var a,i,o=e.getIndexAngle(0),r=V.options._parseFont(n),s=Nn(n.fontColor,L.global.defaultFontColor);t.save(),t.font=r.string,t.translate(e.xCenter,e.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",V.each(e.ticks,(function(o,l){(0!==l||n.reverse)&&(a=e.getDistanceFromCenterForValue(e.ticksAsNumbers[l]),n.showLabelBackdrop&&(i=t.measureText(o).width,t.fillStyle=n.backdropColor,t.fillRect(-i/2-n.backdropPaddingX,-a-r.size/2-n.backdropPaddingY,i+2*n.backdropPaddingX,r.size+2*n.backdropPaddingY)),t.fillStyle=s,t.fillText(o,0,-a))})),t.restore()}},_drawTitle:V.noop}),Wn=Ln;qn._defaults=Wn;var Hn=V._deprecated,$n=V.options.resolve,Yn=V.valueOrDefault,Kn=Number.MIN_SAFE_INTEGER||-9007199254740991,Gn=Number.MAX_SAFE_INTEGER||9007199254740991,Xn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qn=Object.keys(Xn);function Jn(e,t){return e-t}function Zn(e){return V.valueOrDefault(e.time.min,e.ticks.min)}function ea(e){return V.valueOrDefault(e.time.max,e.ticks.max)}function ta(e,t,n,a){var i=function(e,t,n){for(var a,i,o,r=0,s=e.length-1;r>=0&&r<=s;){if(i=e[(a=r+s>>1)-1]||null,o=e[a],!i)return{lo:null,hi:o};if(o[t]<n)r=a+1;else{if(!(i[t]>n))return{lo:i,hi:o};s=a-1}}return{lo:o,hi:null}}(e,t,n),o=i.lo?i.hi?i.lo:e[e.length-2]:e[0],r=i.lo?i.hi?i.hi:e[e.length-1]:e[1],s=r[t]-o[t],l=s?(n-o[t])/s:0,c=(r[a]-o[a])*l;return o[a]+c}function na(e,t){var n=e._adapter,a=e.options.time,i=a.parser,o=i||a.format,r=t;return"function"==typeof i&&(r=i(r)),V.isFinite(r)||(r="string"==typeof o?n.parse(r,o):n.parse(r)),null!==r?+r:(i||"function"!=typeof o||(r=o(t),V.isFinite(r)||(r=n.parse(r))),r)}function aa(e,t){if(V.isNullOrUndef(t))return null;var n=e.options.time,a=na(e,e.getRightValue(t));return null===a||n.round&&(a=+e._adapter.startOf(a,n.round)),a}function ia(e,t,n,a){var i,o,r,s=Qn.length;for(i=Qn.indexOf(e);i<s-1;++i)if(r=(o=Xn[Qn[i]]).steps?o.steps:Gn,o.common&&Math.ceil((n-t)/(r*o.size))<=a)return Qn[i];return Qn[s-1]}function oa(e,t,n){var a,i,o=[],r={},s=t.length;for(a=0;a<s;++a)r[i=t[a]]=a,o.push({value:i,major:!1});return 0!==s&&n?function(e,t,n,a){var i,o,r=e._adapter,s=+r.startOf(t[0].value,a),l=t[t.length-1].value;for(i=s;i<=l;i=+r.add(i,1,a))(o=n[i])>=0&&(t[o].major=!0);return t}(e,o,r,n):o}var ra=hn.extend({initialize:function(){this.mergeTicksOptions(),hn.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,n=t.time||(t.time={}),a=e._adapter=new Zt._date(t.adapters.date);return Hn("time scale",n.format,"time.format","time.parser"),Hn("time scale",n.min,"time.min","ticks.min"),Hn("time scale",n.max,"time.max","ticks.max"),V.mergeIf(n.displayFormats,a.formats()),hn.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),hn.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,a,i,o,r,s=this,l=s.chart,c=s._adapter,d=s.options,u=d.time.unit||"day",p=Gn,m=Kn,g=[],h=[],b=[],f=s._getLabels();for(e=0,n=f.length;e<n;++e)b.push(aa(s,f[e]));for(e=0,n=(l.data.datasets||[]).length;e<n;++e)if(l.isDatasetVisible(e))if(i=l.data.datasets[e].data,V.isObject(i[0]))for(h[e]=[],t=0,a=i.length;t<a;++t)o=aa(s,i[t]),g.push(o),h[e][t]=o;else h[e]=b.slice(0),r||(g=g.concat(b),r=!0);else h[e]=[];b.length&&(p=Math.min(p,b[0]),m=Math.max(m,b[b.length-1])),g.length&&(g=n>1?function(e){var t,n,a,i={},o=[];for(t=0,n=e.length;t<n;++t)i[a=e[t]]||(i[a]=!0,o.push(a));return o}(g).sort(Jn):g.sort(Jn),p=Math.min(p,g[0]),m=Math.max(m,g[g.length-1])),p=aa(s,Zn(d))||p,m=aa(s,ea(d))||m,p=p===Gn?+c.startOf(Date.now(),u):p,m=m===Kn?+c.endOf(Date.now(),u)+1:m,s.min=Math.min(p,m),s.max=Math.max(p+1,m),s._table=[],s._timestamps={data:g,datasets:h,labels:b}},buildTicks:function(){var e,t,n,a=this,i=a.min,o=a.max,r=a.options,s=r.ticks,l=r.time,c=a._timestamps,d=[],u=a.getLabelCapacity(i),p=s.source,m=r.distribution;for(c="data"===p||"auto"===p&&"series"===m?c.data:"labels"===p?c.labels:function(e,t,n,a){var i,o=e._adapter,r=e.options,s=r.time,l=s.unit||ia(s.minUnit,t,n,a),c=$n([s.stepSize,s.unitStepSize,1]),d="week"===l&&s.isoWeekday,u=t,p=[];if(d&&(u=+o.startOf(u,"isoWeek",d)),u=+o.startOf(u,d?"day":l),o.diff(n,t,l)>1e5*c)throw t+" and "+n+" are too far apart with stepSize of "+c+" "+l;for(i=u;i<n;i=+o.add(i,c,l))p.push(i);return i!==n&&"ticks"!==r.bounds||p.push(i),p}(a,i,o,u),"ticks"===r.bounds&&c.length&&(i=c[0],o=c[c.length-1]),i=aa(a,Zn(r))||i,o=aa(a,ea(r))||o,e=0,t=c.length;e<t;++e)(n=c[e])>=i&&n<=o&&d.push(n);return a.min=i,a.max=o,a._unit=l.unit||(s.autoSkip?ia(l.minUnit,a.min,a.max,u):function(e,t,n,a,i){var o,r;for(o=Qn.length-1;o>=Qn.indexOf(n);o--)if(r=Qn[o],Xn[r].common&&e._adapter.diff(i,a,r)>=t-1)return r;return Qn[n?Qn.indexOf(n):0]}(a,d.length,l.minUnit,a.min,a.max)),a._majorUnit=s.major.enabled&&"year"!==a._unit?function(e){for(var t=Qn.indexOf(e)+1,n=Qn.length;t<n;++t)if(Xn[Qn[t]].common)return Qn[t]}(a._unit):void 0,a._table=function(e,t,n,a){if("linear"===a||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var i,o,r,s,l,c=[],d=[t];for(i=0,o=e.length;i<o;++i)(s=e[i])>t&&s<n&&d.push(s);for(d.push(n),i=0,o=d.length;i<o;++i)l=d[i+1],r=d[i-1],s=d[i],void 0!==r&&void 0!==l&&Math.round((l+r)/2)===s||c.push({time:s,pos:i/(o-1)});return c}(a._timestamps.data,i,o,m),a._offsets=function(e,t,n,a,i){var o,r,s=0,l=0;return i.offset&&t.length&&(o=ta(e,"time",t[0],"pos"),s=1===t.length?1-o:(ta(e,"time",t[1],"pos")-o)/2,r=ta(e,"time",t[t.length-1],"pos"),l=1===t.length?r:(r-ta(e,"time",t[t.length-2],"pos"))/2),{start:s,end:l,factor:1/(s+1+l)}}(a._table,d,0,0,r),s.reverse&&d.reverse(),oa(a,d,a._majorUnit)},getLabelForIndex:function(e,t){var n=this,a=n._adapter,i=n.chart.data,o=n.options.time,r=i.labels&&e<i.labels.length?i.labels[e]:"",s=i.datasets[t].data[e];return V.isObject(s)&&(r=n.getRightValue(s)),o.tooltipFormat?a.format(na(n,r),o.tooltipFormat):"string"==typeof r?r:a.format(na(n,r),o.displayFormats.datetime)},tickFormatFunction:function(e,t,n,a){var i=this._adapter,o=this.options,r=o.time.displayFormats,s=r[this._unit],l=this._majorUnit,c=r[l],d=n[t],u=o.ticks,p=l&&c&&d&&d.major,m=i.format(e,a||(p?c:s)),g=p?u.major:u.minor,h=$n([g.callback,g.userCallback,u.callback,u.userCallback]);return h?h(m,t,n):m},convertTicksToLabels:function(e){var t,n,a=[];for(t=0,n=e.length;t<n;++t)a.push(this.tickFormatFunction(e[t].value,t,e));return a},getPixelForOffset:function(e){var t=this._offsets,n=ta(this._table,"time",e,"pos");return this.getPixelForDecimal((t.start+n)*t.factor)},getPixelForValue:function(e,t,n){var a=null;if(void 0!==t&&void 0!==n&&(a=this._timestamps.datasets[n][t]),null===a&&(a=aa(this,e)),null!==a)return this.getPixelForOffset(a)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end,a=ta(this._table,"pos",n,"time");return this._adapter._create(a)},_getLabelSize:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,a=V.toRadians(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(a),o=Math.sin(a),r=Yn(t.fontSize,L.global.defaultFontSize);return{w:n*i+r*o,h:n*o+r*i}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this,n=t.options.time,a=n.displayFormats,i=a[n.unit]||a.millisecond,o=t.tickFormatFunction(e,0,oa(t,[e],t._majorUnit),i),r=t._getLabelSize(o),s=Math.floor(t.isHorizontal()?t.width/r.w:t.height/r.h);return t.options.offset&&s--,s>0?s:1}}),sa={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};ra._defaults=sa;var la={category:fn,linear:Cn,logarithmic:An,radialLinear:qn,time:ra},ca={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Zt._date.override("function"==typeof e?{_id:"moment",formats:function(){return ca},parse:function(t,n){return"string"==typeof t&&"string"==typeof n?t=e(t,n):t instanceof e||(t=e(t)),t.isValid()?t.valueOf():null},format:function(t,n){return e(t).format(n)},add:function(t,n,a){return e(t).add(n,a).valueOf()},diff:function(t,n,a){return e(t).diff(e(n),a)},startOf:function(t,n,a){return t=e(t),"isoWeek"===n?t.isoWeekday(a).valueOf():t.startOf(n).valueOf()},endOf:function(t,n){return e(t).endOf(n).valueOf()},_create:function(t){return e(t)}}:{}),L._set("global",{plugins:{filler:{propagate:!0}}});var da={dataset:function(e){var t=e.fill,n=e.chart,a=n.getDatasetMeta(t),i=a&&n.isDatasetVisible(t)&&a.dataset._children||[],o=i.length||0;return o?function(e,t){return t<o&&i[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,a=t?t.y:null;return V.isArray(t)?function(e,n){return t[n]}:function(e){return{x:null===n?e.x:n,y:null===a?e.y:a}}}};function ua(e,t,n){var a,i=e._model||{},o=i.fill;if(void 0===o&&(o=!!i.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(a=parseFloat(o,10),isFinite(a)&&Math.floor(a)===a)return"-"!==o[0]&&"+"!==o[0]||(a=t+a),!(a===t||a<0||a>=n)&&a;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function pa(e){return(e.el._scale||{}).getPointPositionForValue?function(e){var t,n,a,i,o,r=e.el._scale,s=r.options,l=r.chart.data.labels.length,c=e.fill,d=[];if(!l)return null;for(t=s.ticks.reverse?r.max:r.min,n=s.ticks.reverse?r.min:r.max,a=r.getPointPositionForValue(0,t),i=0;i<l;++i)o="start"===c||"end"===c?r.getPointPositionForValue(i,"start"===c?t:n):r.getBasePosition(i),s.gridLines.circular&&(o.cx=a.x,o.cy=a.y,o.angle=r.getIndexAngle(i)-Math.PI/2),d.push(o);return d}(e):function(e){var t,n=e.el._model||{},a=e.el._scale||{},i=e.fill,o=null;if(isFinite(i))return null;if("start"===i?o=void 0===n.scaleBottom?a.bottom:n.scaleBottom:"end"===i?o=void 0===n.scaleTop?a.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:a.getBasePixel&&(o=a.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if(V.isFinite(o))return{x:(t=a.isHorizontal())?o:null,y:t?null:o}}return null}(e)}function ma(e,t,n){var a,i=e[t].fill,o=[t];if(!n)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!isFinite(i))return i;if(!(a=e[i]))return!1;if(a.visible)return i;o.push(i),i=a.fill}return!1}function ga(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),da[n](e))}function ha(e){return e&&!e.skip}function ba(e,t,n,a,i){var o,r,s,l;if(a&&i){for(e.moveTo(t[0].x,t[0].y),o=1;o<a;++o)V.canvas.lineTo(e,t[o-1],t[o]);if(void 0===n[0].angle)for(e.lineTo(n[i-1].x,n[i-1].y),o=i-1;o>0;--o)V.canvas.lineTo(e,n[o],n[o-1],!0);else for(r=n[0].cx,s=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-r,2)+Math.pow(n[0].y-s,2)),o=i-1;o>0;--o)e.arc(r,s,l,n[o].angle,n[o-1].angle,!0)}}function fa(e,t,n,a,i,o){var r,s,l,c,d,u,p,m,g=t.length,h=a.spanGaps,b=[],f=[],j=0,x=0;for(e.beginPath(),r=0,s=g;r<s;++r)d=n(c=t[l=r%g]._view,l,a),u=ha(c),p=ha(d),o&&void 0===m&&u&&(s=g+(m=r+1)),u&&p?(j=b.push(c),x=f.push(d)):j&&x&&(h?(u&&b.push(c),p&&f.push(d)):(ba(e,b,f,j,x),j=x=0,b=[],f=[]));ba(e,b,f,j,x),e.closePath(),e.fillStyle=i,e.fill()}var ja={id:"filler",afterDatasetsUpdate:function(e,t){var n,a,i,o,r=(e.data.datasets||[]).length,s=t.propagate,l=[];for(a=0;a<r;++a)o=null,(i=(n=e.getDatasetMeta(a)).dataset)&&i._model&&i instanceof Oe.Line&&(o={visible:e.isDatasetVisible(a),fill:ua(i,a,r),chart:e,el:i}),n.$filler=o,l.push(o);for(a=0;a<r;++a)(o=l[a])&&(o.fill=ma(l,a,s),o.boundary=pa(o),o.mapper=ga(o))},beforeDatasetsDraw:function(e){var t,n,a,i,o,r,s,l=e._getSortedVisibleDatasetMetas(),c=e.ctx;for(n=l.length-1;n>=0;--n)(t=l[n].$filler)&&t.visible&&(i=(a=t.el)._view,o=a._children||[],r=t.mapper,s=i.backgroundColor||L.global.defaultColor,r&&s&&o.length&&(V.canvas.clipArea(c,e.chartArea),fa(c,o,r,i,s,a._loop),V.canvas.unclipArea(c)))}},xa=V.rtl.getRtlAdapter,ya=V.noop,Oa=V.valueOrDefault;function va(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}L._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,a=this.chart,i=a.getDatasetMeta(n);i.hidden=null===i.hidden?!a.data.datasets[n].hidden:null,a.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.options.legend||{},a=n.labels&&n.labels.usePointStyle;return e._getSortedDatasetMetas().map((function(n){var i=n.controller.getStyle(a?0:void 0);return{text:t[n.index].label,fillStyle:i.backgroundColor,hidden:!e.isDatasetVisible(n.index),lineCap:i.borderCapStyle,lineDash:i.borderDash,lineDashOffset:i.borderDashOffset,lineJoin:i.borderJoinStyle,lineWidth:i.borderWidth,strokeStyle:i.borderColor,pointStyle:i.pointStyle,rotation:i.rotation,datasetIndex:n.index}}),this)}}},legendCallback:function(e){var t,n,a,i=document.createElement("ul"),o=e.data.datasets;for(i.setAttribute("class",e.id+"-legend"),t=0,n=o.length;t<n;t++)(a=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[t].backgroundColor,o[t].label&&a.appendChild(document.createTextNode(o[t].label));return i.outerHTML}});var _a=K.extend({initialize:function(e){V.extend(this,e),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:ya,update:function(e,t,n){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=t,a.margins=n,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:ya,beforeSetDimensions:ya,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:ya,beforeBuildLabels:ya,buildLabels:function(){var e=this,t=e.options.labels||{},n=V.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:ya,beforeFit:ya,fit:function(){var e=this,t=e.options,n=t.labels,a=t.display,i=e.ctx,o=V.options._parseFont(n),r=o.size,s=e.legendHitBoxes=[],l=e.minSize,c=e.isHorizontal();if(c?(l.width=e.maxWidth,l.height=a?10:0):(l.width=a?10:0,l.height=e.maxHeight),a){if(i.font=o.string,c){var d=e.lineWidths=[0],u=0;i.textAlign="left",i.textBaseline="middle",V.each(e.legendItems,(function(e,t){var a=va(n,r)+r/2+i.measureText(e.text).width;(0===t||d[d.length-1]+a+2*n.padding>l.width)&&(u+=r+n.padding,d[d.length-(t>0?0:1)]=0),s[t]={left:0,top:0,width:a,height:r},d[d.length-1]+=a+n.padding})),l.height+=u}else{var p=n.padding,m=e.columnWidths=[],g=e.columnHeights=[],h=n.padding,b=0,f=0;V.each(e.legendItems,(function(e,t){var a=va(n,r)+r/2+i.measureText(e.text).width;t>0&&f+r+2*p>l.height&&(h+=b+n.padding,m.push(b),g.push(f),b=0,f=0),b=Math.max(b,a),f+=r+p,s[t]={left:0,top:0,width:a,height:r}})),h+=b,m.push(b),g.push(f),l.width+=h}e.width=l.width,e.height=l.height}else e.width=l.width=e.height=l.height=0},afterFit:ya,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,a=L.global,i=a.defaultColor,o=a.elements.line,r=e.height,s=e.columnHeights,l=e.width,c=e.lineWidths;if(t.display){var d,u=xa(t.rtl,e.left,e.minSize.width),p=e.ctx,m=Oa(n.fontColor,a.defaultFontColor),g=V.options._parseFont(n),h=g.size;p.textAlign=u.textAlign("left"),p.textBaseline="middle",p.lineWidth=.5,p.strokeStyle=m,p.fillStyle=m,p.font=g.string;var b=va(n,h),f=e.legendHitBoxes,j=function(e,a){switch(t.align){case"start":return n.padding;case"end":return e-a;default:return(e-a+n.padding)/2}},x=e.isHorizontal();d=x?{x:e.left+j(l,c[0]),y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+j(r,s[0]),line:0},V.rtl.overrideTextDirection(e.ctx,t.textDirection);var y=h+n.padding;V.each(e.legendItems,(function(t,a){var m=p.measureText(t.text).width,g=b+h/2+m,O=d.x,v=d.y;u.setWidth(e.minSize.width),x?a>0&&O+g+n.padding>e.left+e.minSize.width&&(v=d.y+=y,d.line++,O=d.x=e.left+j(l,c[d.line])):a>0&&v+y>e.top+e.minSize.height&&(O=d.x=O+e.columnWidths[d.line]+n.padding,d.line++,v=d.y=e.top+j(r,s[d.line]));var _=u.x(O);!function(e,t,a){if(!(isNaN(b)||b<=0)){p.save();var r=Oa(a.lineWidth,o.borderWidth);if(p.fillStyle=Oa(a.fillStyle,i),p.lineCap=Oa(a.lineCap,o.borderCapStyle),p.lineDashOffset=Oa(a.lineDashOffset,o.borderDashOffset),p.lineJoin=Oa(a.lineJoin,o.borderJoinStyle),p.lineWidth=r,p.strokeStyle=Oa(a.strokeStyle,i),p.setLineDash&&p.setLineDash(Oa(a.lineDash,o.borderDash)),n&&n.usePointStyle){var s=b*Math.SQRT2/2,l=u.xPlus(e,b/2),c=t+h/2;V.canvas.drawPoint(p,a.pointStyle,s,l,c,a.rotation)}else p.fillRect(u.leftForLtr(e,b),t,b,h),0!==r&&p.strokeRect(u.leftForLtr(e,b),t,b,h);p.restore()}}(_,v,t),f[a].left=u.leftForLtr(_,f[a].width),f[a].top=v,function(e,t,n,a){var i=h/2,o=u.xPlus(e,b+i),r=t+i;p.fillText(n.text,o,r),n.hidden&&(p.beginPath(),p.lineWidth=2,p.moveTo(o,r),p.lineTo(u.xPlus(o,a),r),p.stroke())}(_,v,t,m),x?d.x+=g+n.padding:d.y+=y})),V.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var n,a,i,o=this;if(e>=o.left&&e<=o.right&&t>=o.top&&t<=o.bottom)for(i=o.legendHitBoxes,n=0;n<i.length;++n)if(e>=(a=i[n]).left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height)return o.legendItems[n];return null},handleEvent:function(e){var t,n=this,a=n.options,i="mouseup"===e.type?"click":e.type;if("mousemove"===i){if(!a.onHover&&!a.onLeave)return}else{if("click"!==i)return;if(!a.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===i?t&&a.onClick&&a.onClick.call(n,e.native,t):(a.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&a.onLeave.call(n,e.native,n._hoveredItem),n._hoveredItem=t),a.onHover&&t&&a.onHover.call(n,e.native,t))}});function wa(e,t){var n=new _a({ctx:e.ctx,options:t,chart:e});gt.configure(e,n,t),gt.addBox(e,n),e.legend=n}var Ca={id:"legend",_element:_a,beforeInit:function(e){var t=e.options.legend;t&&wa(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(V.mergeIf(t,L.global.legend),n?(gt.configure(e,n,t),n.options=t):wa(e,t)):n&&(gt.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},Sa=V.noop;L._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Ma=K.extend({initialize:function(e){V.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:Sa,update:function(e,t,n){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=t,a.margins=n,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:Sa,beforeSetDimensions:Sa,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Sa,beforeBuildLabels:Sa,buildLabels:Sa,afterBuildLabels:Sa,beforeFit:Sa,fit:function(){var e,t=this,n=t.options,a=t.minSize={},i=t.isHorizontal();n.display?(e=(V.isArray(n.text)?n.text.length:1)*V.options._parseFont(n).lineHeight+2*n.padding,t.width=a.width=i?t.maxWidth:e,t.height=a.height=i?e:t.maxHeight):t.width=a.width=t.height=a.height=0},afterFit:Sa,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var a,i,o,r=V.options._parseFont(n),s=r.lineHeight,l=s/2+n.padding,c=0,d=e.top,u=e.left,p=e.bottom,m=e.right;t.fillStyle=V.valueOrDefault(n.fontColor,L.global.defaultFontColor),t.font=r.string,e.isHorizontal()?(i=u+(m-u)/2,o=d+l,a=m-u):(i="left"===n.position?u+l:m-l,o=d+(p-d)/2,a=p-d,c=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(i,o),t.rotate(c),t.textAlign="center",t.textBaseline="middle";var g=n.text;if(V.isArray(g))for(var h=0,b=0;b<g.length;++b)t.fillText(g[b],0,h,a),h+=s;else t.fillText(g,0,0,a);t.restore()}}});function ka(e,t){var n=new Ma({ctx:e.ctx,options:t,chart:e});gt.configure(e,n,t),gt.addBox(e,n),e.titleBlock=n}var Ia={},Pa=ja,Aa=Ca,Ta={id:"title",_element:Ma,beforeInit:function(e){var t=e.options.title;t&&ka(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(V.mergeIf(t,L.global.title),n?(gt.configure(e,n,t),n.options=t):ka(e,t)):n&&(gt.removeBox(e,n),delete e.titleBlock)}};for(var Na in Ia.filler=Pa,Ia.legend=Aa,Ia.title=Ta,Xt.helpers=V,function(){function e(e,t,n){var a;return"string"==typeof e?(a=parseInt(e,10),-1!==e.indexOf("%")&&(a=a/100*t.parentNode[n])):a=e,a}function t(e){return null!=e&&"none"!==e}function n(n,a,i){var o=document.defaultView,r=V._getParentNode(n),s=o.getComputedStyle(n)[a],l=o.getComputedStyle(r)[a],c=t(s),d=t(l),u=Number.POSITIVE_INFINITY;return c||d?Math.min(c?e(s,n,i):u,d?e(l,r,i):u):"none"}V.where=function(e,t){if(V.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return V.each(e,(function(e){t(e)&&n.push(e)})),n},V.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var a=0,i=e.length;a<i;++a)if(t.call(n,e[a],a,e))return a;return-1},V.findNextWhere=function(e,t,n){V.isNullOrUndef(n)&&(n=-1);for(var a=n+1;a<e.length;a++){var i=e[a];if(t(i))return i}},V.findPreviousWhere=function(e,t,n){V.isNullOrUndef(n)&&(n=e.length);for(var a=n-1;a>=0;a--){var i=e[a];if(t(i))return i}},V.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},V.almostEquals=function(e,t,n){return Math.abs(e-t)<n},V.almostWhole=function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e},V.max=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)}),Number.NEGATIVE_INFINITY)},V.min=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.min(e,t)}),Number.POSITIVE_INFINITY)},V.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},V.toRadians=function(e){return e*(Math.PI/180)},V.toDegrees=function(e){return e*(180/Math.PI)},V._decimalPlaces=function(e){if(V.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},V.getAngleFromPoint=function(e,t){var n=t.x-e.x,a=t.y-e.y,i=Math.sqrt(n*n+a*a),o=Math.atan2(a,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:i}},V.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},V.aliasPixel=function(e){return e%2==0?0:.5},V._alignPixel=function(e,t,n){var a=e.currentDevicePixelRatio,i=n/2;return Math.round((t-i)*a)/a+i},V.splineCurve=function(e,t,n,a){var i=e.skip?t:e,o=t,r=n.skip?t:n,s=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),l=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),c=s/(s+l),d=l/(s+l),u=a*(c=isNaN(c)?0:c),p=a*(d=isNaN(d)?0:d);return{previous:{x:o.x-u*(r.x-i.x),y:o.y-u*(r.y-i.y)},next:{x:o.x+p*(r.x-i.x),y:o.y+p*(r.y-i.y)}}},V.EPSILON=Number.EPSILON||1e-14,V.splineCurveMonotone=function(e){var t,n,a,i,o,r,s,l,c,d=(e||[]).map((function(e){return{model:e._model,deltaK:0,mK:0}})),u=d.length;for(t=0;t<u;++t)if(!(a=d[t]).model.skip){if(n=t>0?d[t-1]:null,(i=t<u-1?d[t+1]:null)&&!i.model.skip){var p=i.model.x-a.model.x;a.deltaK=0!==p?(i.model.y-a.model.y)/p:0}!n||n.model.skip?a.mK=a.deltaK:!i||i.model.skip?a.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(a.deltaK)?a.mK=0:a.mK=(n.deltaK+a.deltaK)/2}for(t=0;t<u-1;++t)a=d[t],i=d[t+1],a.model.skip||i.model.skip||(V.almostEquals(a.deltaK,0,this.EPSILON)?a.mK=i.mK=0:(o=a.mK/a.deltaK,r=i.mK/a.deltaK,(l=Math.pow(o,2)+Math.pow(r,2))<=9||(s=3/Math.sqrt(l),a.mK=o*s*a.deltaK,i.mK=r*s*a.deltaK)));for(t=0;t<u;++t)(a=d[t]).model.skip||(n=t>0?d[t-1]:null,i=t<u-1?d[t+1]:null,n&&!n.model.skip&&(c=(a.model.x-n.model.x)/3,a.model.controlPointPreviousX=a.model.x-c,a.model.controlPointPreviousY=a.model.y-c*a.mK),i&&!i.model.skip&&(c=(i.model.x-a.model.x)/3,a.model.controlPointNextX=a.model.x+c,a.model.controlPointNextY=a.model.y+c*a.mK))},V.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},V.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},V.niceNum=function(e,t){var n=Math.floor(V.log10(e)),a=e/Math.pow(10,n);return(t?a<1.5?1:a<3?2:a<7?5:10:a<=1?1:a<=2?2:a<=5?5:10)*Math.pow(10,n)},V.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},V.getRelativePosition=function(e,t){var n,a,i=e.originalEvent||e,o=e.target||e.srcElement,r=o.getBoundingClientRect(),s=i.touches;s&&s.length>0?(n=s[0].clientX,a=s[0].clientY):(n=i.clientX,a=i.clientY);var l=parseFloat(V.getStyle(o,"padding-left")),c=parseFloat(V.getStyle(o,"padding-top")),d=parseFloat(V.getStyle(o,"padding-right")),u=parseFloat(V.getStyle(o,"padding-bottom")),p=r.right-r.left-l-d,m=r.bottom-r.top-c-u;return{x:n=Math.round((n-r.left-l)/p*o.width/t.currentDevicePixelRatio),y:a=Math.round((a-r.top-c)/m*o.height/t.currentDevicePixelRatio)}},V.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},V.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},V._calculatePadding=function(e,t,n){return(t=V.getStyle(e,t)).indexOf("%")>-1?n*parseInt(t,10)/100:parseInt(t,10)},V._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},V.getMaximumWidth=function(e){var t=V._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,a=n-V._calculatePadding(t,"padding-left",n)-V._calculatePadding(t,"padding-right",n),i=V.getConstraintWidth(e);return isNaN(i)?a:Math.min(a,i)},V.getMaximumHeight=function(e){var t=V._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,a=n-V._calculatePadding(t,"padding-top",n)-V._calculatePadding(t,"padding-bottom",n),i=V.getConstraintHeight(e);return isNaN(i)?a:Math.min(a,i)},V.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},V.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var a=e.canvas,i=e.height,o=e.width;a.height=i*n,a.width=o*n,e.ctx.scale(n,n),a.style.height||a.style.width||(a.style.height=i+"px",a.style.width=o+"px")}},V.fontString=function(e,t,n){return t+" "+e+"px "+n},V.longestText=function(e,t,n,a){var i=(a=a||{}).data=a.data||{},o=a.garbageCollect=a.garbageCollect||[];a.font!==t&&(i=a.data={},o=a.garbageCollect=[],a.font=t),e.font=t;var r,s,l,c,d,u=0,p=n.length;for(r=0;r<p;r++)if(null!=(c=n[r])&&!0!==V.isArray(c))u=V.measureText(e,i,o,u,c);else if(V.isArray(c))for(s=0,l=c.length;s<l;s++)null==(d=c[s])||V.isArray(d)||(u=V.measureText(e,i,o,u,d));var m=o.length/2;if(m>n.length){for(r=0;r<m;r++)delete i[o[r]];o.splice(0,m)}return u},V.measureText=function(e,t,n,a,i){var o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>a&&(a=o),a},V.numberOfLabelLines=function(e){var t=1;return V.each(e,(function(e){V.isArray(e)&&e.length>t&&(t=e.length)})),t},V.color=v?function(e){return e instanceof CanvasGradient&&(e=L.global.defaultColor),v(e)}:function(e){return console.error("Color.js not found!"),e},V.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:V.color(e).saturate(.5).darken(.1).rgbString()}}(),Xt._adapters=Zt,Xt.Animation=X,Xt.animationService=Q,Xt.controllers=Qe,Xt.DatasetController=ne,Xt.defaults=L,Xt.Element=K,Xt.elements=Oe,Xt.Interaction=it,Xt.layouts=gt,Xt.platform=kt,Xt.plugins=It,Xt.Scale=hn,Xt.scaleService=Pt,Xt.Ticks=en,Xt.Tooltip=Vt,Xt.helpers.each(la,(function(e,t){Xt.scaleService.registerScaleType(t,e,e._defaults)})),Ia)Ia.hasOwnProperty(Na)&&Xt.plugins.register(Ia[Na]);Xt.platform.initialize();var Da=Xt;return"undefined"!=typeof window&&(window.Chart=Xt),Xt.Chart=Xt,Xt.Legend=Ia.legend._element,Xt.Title=Ia.title._element,Xt.pluginService=Xt.plugins,Xt.PluginBase=Xt.Element.extend({}),Xt.canvasHelpers=Xt.helpers.canvas,Xt.layoutService=Xt.layouts,Xt.LinearScaleBase=On,Xt.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(e){Xt[e]=function(t,n){return new Xt(t,Xt.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}})),Da}(function(){try{return n("wd/R")}catch(e){}}())},Mn35:function(e,t,n){var a=n("UMY1")((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));e.exports=a},MoIz:function(e,t,n){e.exports=function(e){var t=n("wU0g")(e);return e.Annotation.Element.extend({setDataLimits:function(){var e=this._model,n=this.options,a=this.chartInstance,i=a.scales[n.xScaleID],o=a.scales[n.yScaleID],r=a.chartArea;if(e.ranges={},r){var s=0,l=0;i&&(s=t.isValid(n.xMin)?n.xMin:i.getPixelForValue(r.left),l=t.isValid(n.xMax)?n.xMax:i.getPixelForValue(r.right),e.ranges[n.xScaleID]={min:Math.min(s,l),max:Math.max(s,l)}),o&&(s=t.isValid(n.yMin)?n.yMin:o.getPixelForValue(r.bottom),l=t.isValid(n.yMax)?n.yMax:o.getPixelForValue(r.top),e.ranges[n.yScaleID]={min:Math.min(s,l),max:Math.max(s,l)})}},configure:function(){var e=this._model,n=this.options,a=this.chartInstance,i=a.scales[n.xScaleID],o=a.scales[n.yScaleID],r=a.chartArea;e.clip={x1:r.left,x2:r.right,y1:r.top,y2:r.bottom};var s,l,c=r.left,d=r.top,u=r.right,p=r.bottom;i&&(s=t.isValid(n.xMin)?i.getPixelForValue(n.xMin):r.left,l=t.isValid(n.xMax)?i.getPixelForValue(n.xMax):r.right,c=Math.min(s,l),u=Math.max(s,l)),o&&(s=t.isValid(n.yMin)?o.getPixelForValue(n.yMin):r.bottom,l=t.isValid(n.yMax)?o.getPixelForValue(n.yMax):r.top,d=Math.min(s,l),p=Math.max(s,l)),e.left=c,e.top=d,e.right=u,e.bottom=p,e.borderColor=n.borderColor,e.borderWidth=n.borderWidth,e.backgroundColor=n.backgroundColor},inRange:function(e,t){var n=this._model;return n&&e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom},getCenterPoint:function(){var e=this._model;return{x:(e.right+e.left)/2,y:(e.bottom+e.top)/2}},getWidth:function(){var e=this._model;return Math.abs(e.right-e.left)},getHeight:function(){var e=this._model;return Math.abs(e.bottom-e.top)},getArea:function(){return this.getWidth()*this.getHeight()},draw:function(){var e=this._view,t=this.chartInstance.chart.ctx;t.save(),t.beginPath(),t.rect(e.clip.x1,e.clip.y1,e.clip.x2-e.clip.x1,e.clip.y2-e.clip.y1),t.clip(),t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,t.fillStyle=e.backgroundColor;var n=e.right-e.left,a=e.bottom-e.top;t.fillRect(e.left,e.top,n,a),t.strokeRect(e.left,e.top,n,a),t.restore()}})}},N1zF:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"default",(function(){return l}));n("q1tI");var a=n("7ljp"),i=n("5rLa");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const r={communityUrl:"https://community.sendbird.com/t/usage-calculation-message-search/2964"},s={frontMatter:r};function l({components:e,...t}){return Object(a.a)("wrapper",o({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.a)(i.a,{id:"application",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Application?"),Object(a.a)("p",null,"The number of messages that are indexed. Message indexing happens when either a new message is created or an existing message is updated or removed. Indexable message types are admin messages, text messages, file messages, announcements, and auto-generated admin messages."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"The following is an example of usage calculation for message search query at an application level."),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},'"I love birds!" = 1 indexed message\n"I hate birds!" = 1 indexed message\n',Object(a.a)("strong",{parentName:"p"},"Total = 2 indexed messages")))),Object(a.a)(i.a,{id:"organization",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Organization?"),Object(a.a)("p",null,"The sum of all indexed message counts across all existing applications within the organization."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"Let’s say there are a total of ",Object(a.a)("strong",{parentName:"p"},"3 applications")," within your organization.\nIndexed message count for each application is as shown below:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"App A:")," 100 indexed messages\n",Object(a.a)("strong",{parentName:"p"},"App B:")," 105 indexed messages\n",Object(a.a)("strong",{parentName:"p"},"App C:")," 25 indexed messages")),Object(a.a)("p",null,"Then, organization’s ",Object(a.a)("strong",{parentName:"p"},"indexed message")," count for this month is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"100 + 105 + 25 = ",Object(a.a)("strong",{parentName:"p"},"230 indexed messages")))))}l.isMDXComponent=!0},N4QS:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"default",(function(){return l}));n("q1tI");var a=n("7ljp"),i=n("5rLa");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const r={communityUrl:"https://community.sendbird.com/t/usage-calculation-file-upload-traffic/2911"},s={frontMatter:r};function l({components:e,...t}){return Object(a.a)("wrapper",o({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.a)(i.a,{id:"application",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Application?"),Object(a.a)("p",null,"The cumulative amount of file size uploaded within a month.\nUsage calculation resets on the first day of every month."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"The following shows an application's file upload traffic in a month."),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"January 1:")," 10 GB\n",Object(a.a)("strong",{parentName:"p"},"January 5:")," 15 GB\n",Object(a.a)("strong",{parentName:"p"},"January 15:")," 15 GB")),Object(a.a)("p",null,"Then, ",Object(a.a)("strong",{parentName:"p"},"file upload traffic")," usage for this month is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"10 + 15 + 15 = ",Object(a.a)("strong",{parentName:"p"},"40 GB")))),Object(a.a)(i.a,{id:"organization",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Organization?"),Object(a.a)("p",null,"The sum of all file size uploaded across all applications within your application.\nUsage calculation resets on the first of day every month."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"Let’s say there are a total of ",Object(a.a)("strong",{parentName:"p"},"3 applications")," within your organization.\nUpload traffic usage for each application is as shown below:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"App A:")," 40 GB\n",Object(a.a)("strong",{parentName:"p"},"App B:")," 100 GB\n",Object(a.a)("strong",{parentName:"p"},"App C:")," 20 GB")),Object(a.a)("p",null,"Then, organization's ",Object(a.a)("strong",{parentName:"p"},"file upload traffic")," usage for this month is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"40 + 100 + 20 = ",Object(a.a)("strong",{parentName:"p"},"160 GB")))))}l.isMDXComponent=!0},ObPb:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("3bBZ");var a=n("q1tI"),i=n("/MKj"),o=n("Qyje"),r=n.n(o),s=n("cAlb"),l=n("Y2WY");const c=e=>{const t=Object(i.g)(e=>e.organizations.current),[{status:n,data:o},c]=Object(l.a)(async()=>{const n=r.a.stringify({start_month:e.format("YYYY-MM"),end_month:e.format("YYYY-MM")});return await Object(s.fetchOrganizationMonthlyUsage)(t.uid,n)},[e]);return Object(a.useEffect)(()=>{c()},[c]),{isLoadingUsage:"loading"===n,monthlyUsage:null==o?void 0:o.data.data[0]}}},"Q+E5":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("brpS"),i=n("W7Pl"),o=n("VZc+");const r=()=>{const{currentSubscription:e,isLoaded:t}=Object(a.b)(),{isFeatureEnabled:n,isSelfService:r}=Object(i.h)(),s=Object(o.a)(),l=Object(i.V)(e=>{var t,n,a,i;const o=null==(t=e.applicationState.data)?void 0:t.current_premium_features;return{isSupergroupSupportedByPlan:null!=(n=null==o?void 0:o.super_group_channel)&&n,isSupergroupEnabled:null!=(a=null==o?void 0:o.super_group_channel)&&a,supergroupMemberLimit:null!=(i=null==o?void 0:o.super_group_member_limit)?i:s}});return r?null!=e&&e.plan.supergroup?{isSubscriptionLoaded:t,isSupergroupEnabled:n("supergroup"),isSupergroupSupportedByPlan:null!=(c=e.plan.supergroup.enabled)&&c,supergroupMemberLimit:null!=(d=e.plan.supergroup.tier)?d:2e3}:{isSubscriptionLoaded:t,isSupergroupEnabled:n("supergroup"),isSupergroupSupportedByPlan:!1,supergroupMemberLimit:2e3}:{isSubscriptionLoaded:!0,...l};var c,d}},"S8/c":function(e,t,n){"use strict";var a=n("q1tI"),i=n("vOnD"),o=n("JsuU"),r=n("nKUr");const s=i.default.h2.withConfig({displayName:"UsageHelper__UsageHelperTitle",componentId:"sc-1evi5z5-0"})(["",";color:",";"],o.Typography["label-02"],Object(o.cssVariables)("content-3")),l=i.default.p.withConfig({displayName:"UsageHelper__UsageHelperDescription",componentId:"sc-1evi5z5-1"})(["",";color:",";b,strong{font-weight:600;}& + &{margin-top:16px;}"],o.Subtitles["subtitle-01"],Object(o.cssVariables)("content-1")),c=i.default.ul.withConfig({displayName:"UsageHelper__UsageHelperActions",componentId:"sc-1evi5z5-2"})(["margin-top:2px;"]),d=i.default.li.withConfig({displayName:"UsageHelper__UsageHelperAction",componentId:"sc-1evi5z5-3"})(["display:flex;align-items:center;min-height:32px;transform:translateX(","px);& + &{margin-left:24px;}"],({$type:e})=>"button"===e?-12:0),u=i.default.div.withConfig({displayName:"UsageHelper__UsageHelperBox",componentId:"sc-1evi5z5-4"})(["padding:24px 24px 16px;width:100%;background:",";border-radius:4px;"," + ","{margin-top:4px;}",";"],Object(o.cssVariables)("bg-2"),s,l,({isMultipleContents:e})=>e&&Object(i.css)([""," + ","{margin-top:12px;}"," + ","{margin-top:16px;}"," + ","{margin-top:8px;}","{margin-top:0;}"],s,l,l,s,c,l,c));t.a=({className:e,title:t,contents:n,isMultipleContents:i=!1})=>{const p=Object(a.useCallback)(({description:e,descriptionSuffix:t,actions:n})=>Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsxs)(l,{children:[e,t]}),n&&Object(r.jsx)(c,{children:n.map((e,t)=>{if("link"===e.type){const{type:n,label:a,href:i,target:s,icon:l,onClick:c}=e;return Object(r.jsx)(d,{$type:n,children:Object(r.jsxs)(o.Link,{href:i,target:null!=s?s:"_blank",onClick:c,children:[a," ",Object(r.jsx)(o.Icon,{size:16,icon:null!=l?l:"open-in-new"})]})},t)}const{type:n,label:a,icon:i,onClick:s}=e;return Object(r.jsx)(d,{$type:n,children:Object(r.jsx)(o.Button,{buttonType:"primary",size:"small",icon:null!=i?i:"chevron-right",variant:"ghost",onClick:s,children:a})},t)})})]}),[]);return Object(r.jsxs)(u,{className:e,isMultipleContents:i,children:[Object(r.jsx)(s,{children:t}),Array.isArray(n)?n.map(e=>p(e)):p(n)]})}},Sdtr:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return f}));n("E9XD"),n("3bBZ");var a=n("q1tI"),i=n("JsuU"),o=n("aAZC"),r=n.n(o),s=n("gQMU"),l=n.n(s),c=n("cAlb"),d=n("26RP");const u=e=>e.split(".").slice(e.split(".").length-1,e.split(".").length)[0],p=e=>{const t=l()(r()(e.split(".").slice(e.split(".").length-2,e.split(".").length-1)[0]));return t.includes("channel")?`${t}s`:t},m={isFetchingRoles:!1,isFetchingRole:!1,isFetchingForm:!1,isFetchingPermissions:!1,currentRole:null,memberRoles:[],availablePermissions:null,total:0},g=(e,t)=>{switch(t.type){case"CREATE_MEMBER_ROLE_REQUEST":return{...e,isFetchingForm:!0};case"CREATE_MEMBER_ROLE_SUCCESS":case"CREATE_MEMBER_ROLE_FAIL":return{...e,isFetchingForm:!1};case"EDIT_MEMBER_ROLE_REQUEST":return{...e,isFetchingForm:!0};case"EDIT_MEMBER_ROLE_SUCCESS":case"EDIT_MEMBER_ROLE_FAIL":return{...e,isFetchingForm:!1};case"FETCH_MEMBER_ROLES_REQUEST":return{...e,isFetchingRoles:!0};case"FETCH_MEMBER_ROLES_SUCCESS":return{...e,isFetchingRoles:!1,memberRoles:t.payload.results,total:t.payload.count};case"FETCH_MEMBER_ROLES_FAIL":return{...e,isFetchingRoles:!1};case"FETCH_MEMBER_ROLE_REQUEST":return{...e,isFetchingRole:!0};case"FETCH_MEMBER_ROLE_SUCCESS":return{...e,isFetchingRole:!1,currentRole:t.payload};case"FETCH_MEMBER_ROLE_FAIL":return{...e,isFetchingRole:!1};case"SET_CURRENT_ROLE":return{...e,currentRole:t.payload};case"FETCH_PERMISSIONS_REQUEST":return{...e,isFetchingPermissions:!0};case"FETCH_PERMISSIONS_SUCCESS":return{...e,isFetchingPermissions:!1,availablePermissions:t.payload};default:return e}},h=e=>i.toast.error({message:Object(d.b)(e)}),b=()=>{const[e,t]=Object(a.useReducer)(g,m),n=Object(a.useCallback)(async e=>{t({type:"FETCH_MEMBER_ROLES_REQUEST",payload:e});try{const n=await Object(c.fetchMemberRoles)(e);t({type:"FETCH_MEMBER_ROLES_SUCCESS",payload:n.data})}catch(e){t({type:"FETCH_MEMBER_ROLES_FAIL"}),h(e)}},[]),i=Object(a.useCallback)(async e=>{t({type:"FETCH_MEMBER_ROLE_REQUEST"});try{const n=await Object(c.fetchMemberRole)(e);t({type:"FETCH_MEMBER_ROLE_SUCCESS",payload:n.data})}catch(e){t({type:"FETCH_MEMBER_ROLE_FAIL"}),h(e)}},[]),o=Object(a.useCallback)(async e=>{t({type:"FETCH_MEMBER_ROLE_REQUEST"});try{const n=await Object(c.fetchMemberRoleByName)(e);t({type:"FETCH_MEMBER_ROLE_SUCCESS",payload:n.data})}catch(e){t({type:"FETCH_MEMBER_ROLE_FAIL"}),h(e)}},[]),r=Object(a.useCallback)(async(e,n)=>{t({type:"CREATE_MEMBER_ROLE_REQUEST",payload:e});try{await Object(c.createMemberRole)(e),t({type:"CREATE_MEMBER_ROLE_SUCCESS"}),null==n||n()}catch(e){t({type:"CREATE_MEMBER_ROLE_FAIL"}),h(e)}},[]),s=Object(a.useCallback)(async(e,n)=>{t({type:"EDIT_MEMBER_ROLE_REQUEST"});try{await Object(c.editMemberRole)(e),t({type:"EDIT_MEMBER_ROLE_SUCCESS"}),null==n||n()}catch(e){t({type:"EDIT_MEMBER_ROLE_FAIL"}),h(e)}},[]),l=Object(a.useCallback)(async e=>{t({type:"DELETE_MEMBER_ROLE_REQUEST",payload:e});try{await Object(c.deleteMemberRole)(e),t({type:"DELETE_MEMBER_ROLE_SUCCESS"})}catch(e){t({type:"DELETE_MEMBER_ROLE_FAIL"}),h(e)}},[]),d=Object(a.useCallback)(e=>{t({type:"SET_CURRENT_ROLE",payload:e})},[]),b=Object(a.useCallback)(async e=>{t({type:"FETCH_PERMISSIONS_REQUEST",payload:e});try{const a=await Object(c.fetchPermissions)(e);t({type:"FETCH_PERMISSIONS_SUCCESS",payload:(n=a.data,n.reduce((e,t)=>{const{key:n}=t,a=n.split(".")[0];return e[a]||(e[a]={levels:[],pages:{}}),e[a].pages[p(n)]||(e[a].pages[p(n)]=[]),-1===e[a].levels.indexOf(u(n))&&(e[a].levels.push(u(n)),e[a].levels.sort()),-1===e[a].pages[p(n)].findIndex(e=>e.key===n)&&e[a].pages[p(n)].push(t),e},{}))})}catch(e){t({type:"FETCH_PERMISSIONS_FAIL"}),h(e)}var n},[]);return{state:e,dispatch:t,actions:{fetchMemberRolesRequest:n,fetchMemberRoleRequest:i,fetchMemberRoleByNameRequest:o,createMemberRoleRequest:r,editMemberRoleRequest:s,deleteMemberRoleRequest:l,setCurrentRole:d,fetchPermissionsRequest:b,getPermissionLevel:u}}},f=Object(a.createContext)()},SuOv:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"default",(function(){return l}));n("q1tI");var a=n("7ljp"),i=n("5rLa");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const r={communityUrl:"https://community.sendbird.com/t/usage-calculation-file-storage/2908"},s={frontMatter:r};function l({components:e,...t}){return Object(a.a)("wrapper",o({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.a)(i.a,{id:"application",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Application?"),Object(a.a)("h4",null,"[Formula]"),Object(a.a)("p",null,"File storage is measured once a day and added to the cumulative monthly usage.\nThe usage does not reset unless file(s) is deleted by users or channel retention."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"The following is an example of usage calculation for file storage at an application level."),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"Usage for January 1 - 31:"),"\nJanuary 1: stored 1GB\nJanuary 10: stored 2GB\nJanuary 15: stored 6GB")),Object(a.a)("p",null,"Then, ",Object(a.a)("strong",{parentName:"p"},"file storage")," usage for this month is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"1GB + 2GB + 6GB = 9GB"))),Object(a.a)(i.a,{id:"organization",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Organization?"),Object(a.a)("p",null,"The sum of all file size stored in Sendbird server across all existing applications within the organization.\nThe usage does not reset unless file(s) is deleted by a user or channel retention."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"Let’s say there are a total of ",Object(a.a)("strong",{parentName:"p"},"3 applications")," within your organization.\nfile size stored for each application is as shown below:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"App A :")," 40 GB\n",Object(a.a)("strong",{parentName:"p"},"App B :")," 100 GB\n",Object(a.a)("strong",{parentName:"p"},"App C :")," 20 GB")),Object(a.a)("p",null,"Then, organization’s ",Object(a.a)("strong",{parentName:"p"},"file storage")," for this month is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"40 + 100 + 20 = ",Object(a.a)("strong",{parentName:"p"},"160 GB")))))}l.isMDXComponent=!0},TFIY:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("UWC4"),o=n("W7Pl");const r=()=>{const{isSelfService:e}=Object(o.h)(),{currentSubscription:t,reload:n,isLoading:r}=Object(o.m)(i.bc.Support);return Object(a.useEffect)(()=>{n()},[n]),r?{isAvailable:void 0,isLoading:r}:{isAvailable:!e||!!t,isLoading:r}}},UMY1:function(e,t,n){var a=n("oMRN"),i=n("JD84"),o=n("ut/Y"),r=n("Z0cm");e.exports=function(e,t){return function(n,s){var l=r(n)?a:i,c=t?t():{};return l(n,e,o(s,2),c)}}},V9xz:function(e,t){e.exports=function(e,t){return e>t}},"VZc+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("W7Pl");const i=()=>Object(a.Y)(e=>{var t,n;return null!=(t=null==(n=e.applicationState.data)?void 0:n.attrs.item_limit.group_joined_member_cnt)?t:100})},XfZS:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"default",(function(){return l}));n("q1tI");var a=n("7ljp"),i=n("5rLa");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const r={communityUrl:"https://community.sendbird.com/t/usage-calculation-auto-image-moderation/2915"},s={frontMatter:r};function l({components:e,...t}){return Object(a.a)("wrapper",o({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.a)(i.a,{id:"application",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Application?"),Object(a.a)("p",null,"Each message blocked by image moderation is counted as one usage."),Object(a.a)("p",null,Object(a.a)("strong",{parentName:"p"},"Note:")," Image moderation is powered by Google Cloud Vision API which moderates the text and file messages with explicit images or inappropriate image URLs, and uses five categories such as adult, spoof, medical, violence, and racy.")),Object(a.a)(i.a,{id:"organization",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Organization?"),Object(a.a)("p",null,"The sum of all applications’ usages within your organization."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"Let’s say there are a total of ",Object(a.a)("strong",{parentName:"p"},"3 applications")," within your organization.\nAuto-moderated image count for each application is as shown below:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"App A:")," 3 images\n",Object(a.a)("strong",{parentName:"p"},"App B:")," 5 images\n",Object(a.a)("strong",{parentName:"p"},"App C:")," 2 images")),Object(a.a)("p",null,"Then, ",Object(a.a)("strong",{parentName:"p"},"organization usage")," is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"3+5+2 = ",Object(a.a)("strong",{parentName:"p"},"10 auto-moderated images")))))}l.isMDXComponent=!0},"Xt/L":function(e,t){e.exports=function(e,t,n){for(var a=-1,i=null==e?0:e.length;++a<i;)if(n(t,e[a]))return!0;return!1}},"Y/nA":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("E9XD"),n("UxlC");var a=n("q1tI"),i=n("Ty5D"),o=n("Qyje"),r=n.n(o),s=n("ponP"),l=n("ols6");const c=(e,t)=>{const n=Object(i.k)(),o=Object(l.a)(e),c=Object(l.a)(t),d=Object(a.useCallback)(()=>((e="",t)=>{const n=Object(s.camelCaseKeys)(r.a.parse(e)),a=Object.keys(n).reduce((e,a)=>(a in t&&"number"==typeof t[a]?e[a]=parseInt(n[a]):e[a]=n[a],e),{});return e?a:t})(n.location.search.replace(/^\?/,""),o.current),[o,n.location.search]),u=Object(a.useCallback)((e,t=!1)=>{const a={...d(),...Object(s.camelCaseKeys)(e)},i=n.location.search.replace(/^\?/,""),o=(e=>{const t=Object(s.snakeCaseKeys)(e);return Object.keys(t).filter(e=>!t[e]).forEach(e=>{delete t[e]}),r.a.stringify(t,{arrayFormat:"repeat"})})(a);o!==i&&(t?n.replace(`${n.location.pathname}?${o}`):n.push(`${n.location.pathname}?${o}`))},[d,n]),p=Object(a.useCallback)((e=!0)=>u(o.current,e),[o,u]),m=Object(a.useMemo)(()=>{const e=d();if(c.current){const t=Object.keys(c.current).reduce((t,n)=>(c.current[n]&&!c.current[n](e[n],e)&&(t[n]=o.current[n]),t),{...e});return u(t,!0),t}return e},[o,d,u,c]);return Object(a.useMemo)(()=>({...m,updateParams:u,clearParams:p}),[p,m,u])}},"Ym+k":function(e,t,n){var a=n("MO+k");(a="function"==typeof a?a:window.Chart).Annotation=a.Annotation||{},a.Annotation.drawTimeOptions={afterDraw:"afterDraw",afterDatasetsDraw:"afterDatasetsDraw",beforeDatasetsDraw:"beforeDatasetsDraw"},a.Annotation.defaults={drawTime:"afterDatasetsDraw",dblClickSpeed:350,events:[],annotations:[]},a.Annotation.labelDefaults={backgroundColor:"rgba(0,0,0,0.8)",fontFamily:a.defaults.global.defaultFontFamily,fontSize:a.defaults.global.defaultFontSize,fontStyle:"bold",fontColor:"#fff",xPadding:6,yPadding:6,cornerRadius:6,position:"center",xAdjust:0,yAdjust:0,enabled:!1,content:null},a.Annotation.Element=n("xxsC")(a),a.Annotation.types={line:n("u5p2")(a),box:n("MoIz")(a)};var i=n("grSx")(a);e.exports=i,a.pluginService.register(i)},ZjkC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("UWC4");const i=e=>Math.ceil(e/a.z)},aTND:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("dDsW"),i=n("JsuU"),o=n("Mfcq"),r=n("W7Pl"),s=n("nKUr");const l=({style:e})=>{const t=Object(a.a)(),n=Object(r.W)(),l=()=>{n({dialogTypes:o.a.ConvertFreePlan})};return Object(s.jsx)("div",{style:e,children:Object(s.jsx)(i.InlineNotification,{type:"info",message:t.formatMessage({id:"common.notification.convertFreePlan"},{a:e=>Object(s.jsx)(i.Link,{role:"button",variant:i.LinkVariant.Inline,onClick:l,style:{marginLeft:"8px"},children:e})}),iconProps:{icon:"gift",size:20}})})}},dQpi:function(e,t,n){var a=n("yGk4"),i=n("vN+2"),o=n("rEGp"),r=a&&1/o(new a([,-0]))[1]==1/0?function(e){return new a(e)}:i;e.exports=r},dcNB:function(e,t,n){"use strict";var a=n("q1tI"),i=n("dDsW"),o=n("vOnD"),r=n("JsuU"),s=n("7hLt"),l=n("S8/c"),c=n("rJpm"),d=n("6889"),u=n("/Yf2"),p=(n("E9XD"),n("3bBZ"),n("UxlC"),n("ponP"));var m=n("nKUr");const g=Object(o.css)(["content:'';display:block;margin:16px 0;width:100%;height:1px;background:",";"],Object(r.cssVariables)("border-3")),h=Object(o.default)(d.uc).withConfig({displayName:"UsageCalculationDrawer__TransitionedDrawerContainer",componentId:"sc-7e6an3-0"})(["grid-template-rows:auto 1fr auto;width:400px;"]),b=o.default.div.withConfig({displayName:"UsageCalculationDrawer__Header",componentId:"sc-7e6an3-1"})(["display:grid;grid-template-columns:1fr auto;padding:16px 24px;"]),f=o.default.span.withConfig({displayName:"UsageCalculationDrawer__HeaderTitle",componentId:"sc-7e6an3-2"})(["",";font-weight:600;letter-spacing:-0.25px;line-height:24px;b{font-weight:inherit;letter-spacing:inherit;line-height:inherit;}"],r.Headings["heading-03"]),j=o.default.div.withConfig({displayName:"UsageCalculationDrawer__Content",componentId:"sc-7e6an3-3"})(["display:flex;flex-direction:column;padding:16px 24px;max-height:calc(100% - 160px);white-space:pre-wrap;overflow-y:auto;h1{",";}h2{",";}h3{",";}h4{",";}p{",";}b,strong{font-weight:normal;}hr{margin:16px 0;height:0;border-style:solid;border-width:1px 0 0 0;border-color:",";}blockquote{display:block;padding:8px 12px;border:1px solid ",";border-radius:4px;",";}h1 + p,h2 + p,h3 + p,h4 + p{margin-top:4px;}h1 + blockquote,h2 + blockquote,h3 + blockquote,h4 + blockquote,p + blockquote{margin-top:8px;}p + p,p + h1,p + h2,p + h3,p + h4,blockquote + p{margin-top:16px;}",";"],r.Headings["heading-01"],r.Headings["heading-03"],r.Headings["heading-01"],r.Headings["heading-01"],r.Body["body-short-01"],Object(r.cssVariables)("border-3"),Object(r.cssVariables)("border-3"),r.Body["body-short-01"],({reverseOrder:e})=>e?Object(o.css)(["#application{order:2;&::before{","}}#organization{order:1;}"],g):Object(o.css)(["#application{order:1;}#organization{order:2;&::before{","}}"],g)),x=o.default.div.withConfig({displayName:"UsageCalculationDrawer__Footer",componentId:"sc-7e6an3-4"})(["padding:16px 24px;> a{font-size:14px;font-weight:600;}"]),y=Object.entries(Object(p.importAll)(n("jpHx"))).reduce((e,[t,n])=>{const{default:a,frontMatter:{communityUrl:i}}=n;return e[t.replace(".md","")]={key:t,component:a,communityUrl:i},e},{});var O=Object(o.default)(r.IconButton).withConfig({displayName:"UsageCalculationDrawer___StyledIconButton",componentId:"sc-7e6an3-5"})(["transform:translate(12px,-6px);"]);var v=({openedFrom:e="application"})=>{var t,n,o;const s=Object(i.a)(),{activeDrawerID:l,drawerState:d,closeDrawer:p}=Object(u.a)(),g=Object(a.useRef)(null),{subscribe:v,unsubscribe:_}=Object(c.a)({ref:g,onOutsideClick:()=>{p()}});Object(a.useEffect)(()=>{d&&d.usageField||p()},[p,d]),Object(a.useEffect)(()=>{if("UsageCalculationDrawer"===l)return v(),_},[l,v,_]);const w=null!=(t=null==d?void 0:d.title)?t:"",C=null!=(n=null==d?void 0:d.usageField)?n:null,S=C?y[C]:null,M=S?S.component:()=>null;return Object(m.jsxs)(h,{id:"UsageCalculationDrawer",ref:g,isFullHeight:!0,children:[Object(m.jsxs)(b,{children:[Object(m.jsx)(f,{children:w}),Object(m.jsx)(O,{buttonType:"secondary",icon:"close",size:"small",onClick:()=>{p()}})]}),Object(m.jsx)(j,{reverseOrder:"organization"===e,children:Object(m.jsx)(M,{})}),Object(m.jsx)(x,{children:Object(m.jsx)(r.Link,{href:null!=(o=null==S?void 0:S.communityUrl)?o:"https://community.sendbird.com",iconProps:{icon:"open-in-new",size:16},target:"_blank",children:s.formatMessage({id:"common.settings.usage.usageDetail.calculation.drawer.button"})})})]})};const _=o.default.h3.withConfig({displayName:"UsageDetailCalculation__MultipleDescription",componentId:"sc-1pm4hwj-0"})(["",";font-weight:400;b,strong{font-weight:600;}"],r.Headings["heading-01"]);t.a=({calculations:e,openUsageGuideFrom:t})=>{const n=Object(i.a)(),{openDrawer:o}=(()=>{const e=Object(u.a)(),{drawerState:t}=e;return null!=t&&null!=t.usageField?e:{...e,drawerState:void 0}})(),r=Object(s.c)(),c=n.formatMessage({id:"common.settings.usage.usageDetail.calculation.title"}),d=e.length>1,p=Object(a.useMemo)(()=>e.map(({featureKey:e,usageField:t})=>{const a=r({featureKey:e,usageField:t}),i=n.formatMessage({id:"common.settings.usage.usageDetail.calculation.description.single"},{featureUsageName:a});return{description:d?Object(m.jsx)(_,{children:n.formatMessage({id:"common.settings.usage.usageDetail.calculation.description.multiple"},{featureUsageName:a,b:e=>Object(m.jsx)("b",{children:e})})}):i,actions:[{type:"button",label:n.formatMessage({id:"common.settings.usage.usageDetail.calculation.button.viewDetail"}),onClick:()=>{o("UsageCalculationDrawer",{title:i,usageField:t})}}]}}),[e,r,n,d,o]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(l.a,{title:c,contents:p,isMultipleContents:d}),Object(m.jsx)(v,{openedFrom:t})]})}},dunj:function(e,t,n){var a=n("/9aa");e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var r=e[i],s=t(r);if(null!=s&&(void 0===l?s==s&&!a(s):n(s,l)))var l=s,c=r}return c}},grSx:function(e,t,n){e.exports=function(e){var t=e.helpers,a=n("wU0g")(e),i=n("HX2K")(e),o=e.Annotation.types;function r(e){a.decorate(e,"afterDataLimits",(function(e,t){e&&e(t),a.adjustScaleRange(t)}))}function s(e){return function(t,n){var i=t.annotation.options.drawTime;a.elements(t).filter((function(t){return e===(t.options.drawTime||i)})).forEach((function(e){e.transition(n).draw()}))}}return{beforeInit:function(e){var n=e.options,i=e.annotation={elements:{},options:a.initConfig(n.annotation||{}),onDestroy:[],firstRun:!0,supported:!1};e.ensureScalesHaveIDs(),n.scales&&(i.supported=!0,t.each(n.scales.xAxes,r),t.each(n.scales.yAxes,r))},beforeUpdate:function(e){var t=e.annotation;if(t.supported){t.firstRun?t.firstRun=!1:t.options=a.initConfig(e.options.annotation||{});var n=[];t.options.annotations.forEach((function(i){var r=i.id||a.objectId();if(!t.elements[r]&&o[i.type]){var s=new(0,o[i.type])({id:r,options:i,chartInstance:e});s.initialize(),t.elements[r]=s,i.id=r,n.push(r)}else t.elements[r]&&n.push(r)})),Object.keys(t.elements).forEach((function(e){-1===n.indexOf(e)&&(t.elements[e].destroy(),delete t.elements[e])}))}},afterScaleUpdate:function(e){a.elements(e).forEach((function(e){e.configure()}))},beforeDatasetsDraw:s("beforeDatasetsDraw"),afterDatasetsDraw:s("afterDatasetsDraw"),afterDraw:s("afterDraw"),afterInit:function(e){var n=e.annotation.options.events;if(t.isArray(n)&&n.length>0){var a=e.chart.canvas,o=i.dispatcher.bind(e);i.collapseHoverEvents(n).forEach((function(n){t.addEvent(a,n,o),e.annotation.onDestroy.push((function(){t.removeEvent(a,n,o)}))}))}},destroy:function(e){for(var t=e.annotation.onDestroy;t.length>0;)t.pop()()}}}},hdWW:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("/MKj"),i=n("E+oP"),o=n.n(i),r=n("bw7j");const s=()=>{const{isSelfService:e}=Object(r.a)(),t=Object(a.g)(e=>e.organizations.current),{free_applications:n,total_applications:i}=t;return!e&&!o()(t)&&n===i}},ii4M:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"default",(function(){return l}));n("q1tI");var a=n("7ljp"),i=n("5rLa");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const r={communityUrl:"https://community.sendbird.com/t/usage-calculation-announcements/2916"},s={frontMatter:r};function l({components:e,...t}){return Object(a.a)("wrapper",o({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.a)(i.a,{id:"application",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Application?"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"1 announcement for 1 group channel with 1 URL"))),Object(a.a)("p",null,"Regardless of how many users are in a group channel (as long as it is under 10,000 users), an announcement message sent out to a group channel with the same URL will count as one announcement message.")),Object(a.a)(i.a,{id:"organization",mdxType:"OrderComponent"},Object(a.a)("hr",null),Object(a.a)("h2",null,"Usage calculation per Organization?"),Object(a.a)("p",null,"The sum of all announcement messages sent out across all existing applications within the organization."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"Let’s say there are a total of ",Object(a.a)("strong",{parentName:"p"},"3 applications")," within your organization.\nAnnouncement message count for each application is as shown below:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"App A:")," 3\n",Object(a.a)("strong",{parentName:"p"},"App B:")," 5\n",Object(a.a)("strong",{parentName:"p"},"App C:")," 2")),Object(a.a)("p",null,"Then, organization’s ",Object(a.a)("strong",{parentName:"p"},"announcements")," usage for this month is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"3 + 5 + 2 = ",Object(a.a)("strong",{parentName:"p"},"10 announcement messages")))))}l.isMDXComponent=!0},jHpn:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n("hyLW"),i=n.n(a),o=n("KQa7");const r=e=>i()(e/100).format("$0,0.00"),s=e=>i()(e).format({thousandSeparated:!0,mantissa:0}),l=e=>o.c.includes(e),c=e=>{return null!=e&&(t=e.subscription_name,o.a.includes(t))&&e.plan.message_search_index.enabled&&e.plan.message_search_query.enabled;var t}},jjfR:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"default",(function(){return l}));n("q1tI");var a=n("7ljp"),i=n("5rLa");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const r={communityUrl:"https://community.sendbird.com/t/usage-calculation-chatbot-interface/2963"},s={frontMatter:r};function l({components:e,...t}){return Object(a.a)("wrapper",o({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.a)(i.a,{id:"application",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Application?"),Object(a.a)("p",null,"The number of translated characters, including whitespace and symbols."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"I love birds!"),"\n10 alphabets + 2 whitespace + 1 symbol = ",Object(a.a)("strong",{parentName:"p"},"13 characters")))),Object(a.a)(i.a,{id:"organization",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Organization?"),Object(a.a)("p",null,"The sum of all applications’ usages within your organization."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"Let’s say there are a total of ",Object(a.a)("strong",{parentName:"p"},"3 applications")," within your organization.\nTranslated characters for each application is as shown below:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"App A:")," 13 characters\n",Object(a.a)("strong",{parentName:"p"},"App B:")," 25 characters\n",Object(a.a)("strong",{parentName:"p"},"App C:")," 22 characters")),Object(a.a)("p",null,"Then, ",Object(a.a)("strong",{parentName:"p"},"organization usage")," is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"13 + 25 + 22 = ",Object(a.a)("strong",{parentName:"p"},"60 characters")))))}l.isMDXComponent=!0},jpHx:function(e,t,n){var a={"./announcement_sent_user_count.md":"ii4M","./auto_thumbnail.md":"sAEG","./auto_translation.md":"jjfR","./avg_file_storage.md":"SuOv","./bot_interface.md":"ETJ2","./image_moderation.md":"XfZS","./mau.md":"o3Xl","./message_search_index.md":"N1zF","./message_search_query.md":"nS86","./pc.md":"K6oM","./upload_traffic.md":"N4QS"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="jpHx"},kKuS:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n("3bBZ");var a=n("dDsW"),i=n("vOnD"),o=n("JsuU"),r=n("UWC4"),s=n("nKUr");const l=i.default.div.withConfig({displayName:"FeatureDocument__Wrapper",componentId:"sc-1mphryq-0"})(["background:",";border-radius:4px;padding:24px;margin-top:24px;"],Object(o.cssVariables)("neutral-1")),c=i.default.div.withConfig({displayName:"FeatureDocument__Title",componentId:"sc-1mphryq-1"})(["font-size:16px;font-weight:500;line-height:20px;letter-spacing:-0.15px;color:",";margin-bottom:8px;"],Object(o.cssVariables)("neutral-10")),d=i.default.div.withConfig({displayName:"FeatureDocument__Description",componentId:"sc-1mphryq-2"})(["font-size:14px;line-height:20px;letter-spacing:-0.1px;color:",";margin-bottom:24px;"],Object(o.cssVariables)("neutral-7")),u=i.default.ul.withConfig({displayName:"FeatureDocument__DocumentLinks",componentId:"sc-1mphryq-3"})(["list-style:none;display:flex;align-items:center;li{svg{margin-left:4px;}& + li{margin-left:24px;}font-size:14px;}"]),p={doc:"Help center",ios:"iOS SDK",android:"Android SDK",javascript:"JavaScript SDK",platformAPI:"Platform API"},m=({feature:e})=>{const t=Object(a.a)(),n=(i=e,Object.prototype.hasOwnProperty.call(r.fb,i)?Object.entries(r.fb[i]).map(([e,t])=>({label:p[e],url:t})):[]);var i;return 0===n.length?null:Object(s.jsxs)(l,{children:[Object(s.jsx)(c,{children:t.formatMessage({id:"common.featureDocument.title"})}),Object(s.jsx)(d,{children:t.formatMessage({id:"common.featureDocument.description"})}),Object(s.jsx)(u,{children:n.map(({label:e,url:t})=>Object(s.jsx)("li",{children:Object(s.jsxs)(o.Link,{href:t,target:"_blank",children:[e," ",Object(s.jsx)(o.Icon,{size:16,icon:"open-in-new"})]})},`documentLinks_${e}`))})]})}},nS86:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"default",(function(){return l}));n("q1tI");var a=n("7ljp"),i=n("5rLa");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const r={communityUrl:"https://community.sendbird.com/t/usage-calculation-message-search/2964"},s={frontMatter:r};function l({components:e,...t}){return Object(a.a)("wrapper",o({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.a)(i.a,{id:"application",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Application?"),Object(a.a)("p",null,'The number of times search queries of strings are made.\nEmpty string (" ") API calls also count as one search query.'),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"The following is an example of usage calculation for message search query at an application level."),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},'"I love birds!" = 1 search query\n" " = 1 search query\n',Object(a.a)("strong",{parentName:"p"},"Total = 2 search queries")))),Object(a.a)(i.a,{id:"organization",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Organization?"),Object(a.a)("p",null,"The sum of all search queries made across all existing applications within the organization."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"Let’s say there are a total of ",Object(a.a)("strong",{parentName:"p"},"3 applications")," within your organization.\nMessage search query count for each application is as shown below:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"App A:")," 100 search queries\n",Object(a.a)("strong",{parentName:"p"},"App B:")," 105 search queries\n",Object(a.a)("strong",{parentName:"p"},"App C:")," 25 search queries")),Object(a.a)("p",null,"Then, organization’s ",Object(a.a)("strong",{parentName:"p"},"message search query")," count for this month is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"100 + 105 + 25 = ",Object(a.a)("strong",{parentName:"p"},"230 search queries")))))}l.isMDXComponent=!0},o3Xl:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"default",(function(){return l}));n("q1tI");var a=n("7ljp"),i=n("5rLa");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const r={communityUrl:"https://community.sendbird.com/t/usage-calculation-monthly-active-users/2861"},s={frontMatter:r};function l({components:e,...t}){return Object(a.a)("wrapper",o({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.a)(i.a,{id:"application",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Application?"),Object(a.a)("p",null,"The highest count of active users connected to Sendbird server in a single day of a given month.\nDifferent devices with the same user ID are counted as 1 MAU."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"Let's say there are a total of ",Object(a.a)("strong",{parentName:"p"},"three")," users in your application that connected to Sendbird server this month."),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"User 1:")," connected on January 1, 5, 15.\n",Object(a.a)("strong",{parentName:"p"},"User 2:")," connected on January 5, 15.\n",Object(a.a)("strong",{parentName:"p"},"User 3:")," connected on January 1, 15.")),Object(a.a)("p",null,"Then, the count of ",Object(a.a)("strong",{parentName:"p"},"active users")," for each day is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"January 1:")," 2 users (User1,3)\n",Object(a.a)("strong",{parentName:"p"},"January 5:")," 2 users (User1,2)\n",Object(a.a)("strong",{parentName:"p"},"January 15:")," 3 users (User1,2,3)")),Object(a.a)("p",null,"Then, ",Object(a.a)("strong",{parentName:"p"},"Application MAU")," is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"3 users")," because January 15th has the highest number of active users for this month."))),Object(a.a)(i.a,{id:"organization",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Organization?"),Object(a.a)("p",null,"The sum of all applications’ MAU usages within your organization."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"Let's say there are a total of ",Object(a.a)("strong",{parentName:"p"},"3 applications")," within your organization.\nMAU for each application is as shown below:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"App A:")," 3\n",Object(a.a)("strong",{parentName:"p"},"App B:")," 5\n",Object(a.a)("strong",{parentName:"p"},"App C:")," 2")),Object(a.a)("p",null,"Then, ",Object(a.a)("strong",{parentName:"p"},"Organization MAU")," is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"3+5+2 = ",Object(a.a)("strong",{parentName:"p"},"10 users")))))}l.isMDXComponent=!0},oMRN:function(e,t){e.exports=function(e,t,n,a){for(var i=-1,o=null==e?0:e.length;++i<o;){var r=e[i];t(a,r,n(r),e)}return a}},q7ou:function(e,t,n){"use strict";n.r(t);var a=n("vOnD"),i=(n("3bBZ"),n("q1tI")),o=n.n(i),r=n("dDsW"),s=n("/MKj"),l=n("Ty5D"),c=n("b2r9"),d=n("UWC4"),u=n("W7Pl"),p=n("jICX"),m=n("6889"),g=n("ponP"),h=n("brpS"),b=n("JsuU"),f=n("jGY4"),j=n("jAab"),x=n("zdTk"),y=n("ByPJ"),O=n("Mfcq"),v=n("rRMa");const _=a.default.section.withConfig({displayName:"table__TableSection",componentId:"sh0nx4-0"})(["width:1024px;margin:0 auto;"]),w=a.default.div.withConfig({displayName:"table__TitleContainer",componentId:"sh0nx4-1"})(["",";width:100%;margin-top:32px;margin-bottom:12px;text-align:left;display:grid;grid-template-columns:1fr 160px 142px;grid-column-gap:24px;"],b.Subtitles["subtitle-02"]),C=a.default.h2.withConfig({displayName:"table__TitleText",componentId:"sh0nx4-2"})(["",";color:",";"],b.Headings["heading-02"],Object(b.cssVariables)("neutral-7")),S=a.default.div.withConfig({displayName:"table__TitleSuffix",componentId:"sh0nx4-3"})(["display:flex;align-items:center;",";color:",";b{margin-right:4px;font-weight:600;color:",";}a{margin-right:4px;}"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-7"),Object(b.cssVariables)("purple-7")),M=a.default.div.withConfig({displayName:"table__TableWrapper",componentId:"sh0nx4-4"})(["display:flex;flex-direction:column;width:100%;padding:0 24px 24px;border:1px solid ",";border-radius:4px;"],Object(b.cssVariables)("neutral-3")),k=a.default.div.withConfig({displayName:"table__Column",componentId:"sh0nx4-5"})(["display:flex;align-items:center;",";padding-left:8px;"],b.Body["body-short-01"]),I=a.default.div.withConfig({displayName:"table__Row",componentId:"sh0nx4-6"})(["display:grid;align-items:center;grid-template-columns:36px 544px 1fr 1fr 1fr;grid-auto-flow:row;padding:8px 0;border-bottom:1px solid ",";"],Object(b.cssVariables)("neutral-3")),P=Object(a.default)(I).withConfig({displayName:"table__Header",componentId:"sh0nx4-7"})(["padding:28px 8px;","{",";color:",";}"],k,b.Typography["label-03"],Object(b.cssVariables)("neutral-10"));var A=n("KQa7"),T=n("nKUr");const N=a.default.div.withConfig({displayName:"features__InfoText",componentId:"ax4obs-0"})(["margin-right:4px;"]),D=Object(a.default)(b.TooltipTargetIcon).attrs({size:16,icon:"info",color:Object(b.cssVariables)("neutral-6")}).withConfig({displayName:"features__InfoIcon",componentId:"ax4obs-1"})([""]),E=({text:e,content:t})=>Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(N,{children:e}),t&&Object(T.jsx)(b.ContextualHelp,{portalId:"portal_tooltip",className:"pricingFeatureContextual",content:t,tooltipContentStyle:Object(a.css)(["max-width:256px;",";cursor:default;"],b.Body["body-short-01"]),placement:"right",popperProps:{modifiers:{offset:{offset:"0, 8"}}},children:Object(T.jsx)(D,{})})]}),L={key:"monthly_active_user",name:"common.features.name.monthly_active_user",description:"common.features.tooltip.monthly_active_user",plans:{starter:{supported:!0,isAddon:!1,description:"Up to 100,000",hasOverage:!0},pro:{supported:!0,isAddon:!1,description:"Up to 100,000",hasOverage:!0},enterprise:{supported:!0,isAddon:!1,description:"Millions",hasOverage:!0}}},F={key:"peak_connection",name:"common.features.name.peak_connection",description:null,plans:{starter:{supported:!0,isAddon:!1,description:"2% of MAU",hasOverage:!0},pro:{supported:!0,isAddon:!1,description:"2% of MAU",hasOverage:!0},enterprise:{supported:!0,isAddon:!1,description:"2% of MAU",hasOverage:!0}}},z={key:"messages_per_month",name:"common.features.name.messages_per_month",description:"common.features.tooltip.messages_per_month",plans:{starter:{supported:!0,isAddon:!1,description:"Unlimited",hasOverage:!1},pro:{supported:!0,isAddon:!1,description:"Unlimited",hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:"Unlimited",hasOverage:!1}}},R={key:"message_storage",name:"common.features.name.message_storage",description:"common.features.tooltip.message_storage",plans:{starter:{supported:!0,isAddon:!1,description:"Unlimited",hasOverage:!1},pro:{supported:!0,isAddon:!1,description:"Unlimited",hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:"Unlimited",hasOverage:!1}}},B={key:"file_storage",name:"common.features.name.file_storage",description:"common.features.tooltip.file_storage",plans:{starter:{supported:!0,isAddon:!1,description:"1GB",hasOverage:!0},pro:{supported:!0,isAddon:!1,description:"10GB",hasOverage:!0},enterprise:{supported:!0,isAddon:!0,description:null,hasOverage:!0}}},V={key:"upload_traffic",name:"common.features.name.upload_traffic",description:"common.features.tooltip.upload_traffic",plans:{starter:{supported:!0,isAddon:!1,description:"1GB",hasOverage:!0},pro:{supported:!0,isAddon:!1,description:"10GB",hasOverage:!0},enterprise:{supported:!0,isAddon:!0,description:null,hasOverage:!0}}},U={key:"offline_messaging",name:"common.features.name.offline_messaging",description:"common.features.tooltip.offline_messaging",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},q={key:"smart_throttling",name:"common.features.name.smart_throttling",description:"common.features.tooltip.smart_throttling",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},W={key:"dynamic_partitioning",name:"common.features.name.dynamic_partitioning",description:"common.features.tooltip.dynamic_partitioning",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},H={key:"do_not_disturb_push",name:"common.features.name.do_not_disturb_push",description:"common.features.tooltip.do_not_disturb_push",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},$={key:"meta_array_api",name:"common.features.name.meta_array_api",description:"common.features.tooltip.meta_array_api",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Y={key:"announcement",name:"common.features.name.announcement",description:"common.features.tooltip.announcement",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!0},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!0}}},K={key:"message_search",name:"common.features.name.message_search",description:"common.features.tooltip.message_search",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!0},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!0}}},G={key:"private_one_to_one_chat",name:"common.features.name.private_one_to_one_chat",description:"common.features.tooltip.private_one_to_one_chat",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},X={key:"group_chat",name:"common.features.name.group_chat",description:"common.features.tooltip.group_chat",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Q={key:"supergroup",name:"common.features.name.supergroup",description:"common.features.tooltip.supergroup",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},J={key:"typing_indicators",name:"common.features.name.typing_indicators",description:"common.features.tooltip.typing_indicators",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Z={key:"read_receipts",name:"common.features.name.read_receipts",description:"common.features.tooltip.read_receipts",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},ee={key:"presence",name:"common.features.name.presence",description:"common.features.tooltip.presence",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},te={key:"reactions",name:"common.features.name.reactions",description:"common.features.tooltip.reactions",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},ne={key:"mentions",name:"common.features.name.mentions",description:"common.features.tooltip.mentions",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},ae={key:"unread_message_count",name:"common.features.name.unread_message_count",description:"common.features.tooltip.unread_message_count",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},ie={key:"push_notifications",name:"common.features.name.push_notifications",description:"common.features.tooltip.push_notifications",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},oe={key:"share_files_and_multimedia",name:"common.features.name.share_files_and_multimedia",description:"common.features.tooltip.share_files_and_multimedia",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},re={key:"structured_message_templates",name:"common.features.name.structured_message_templates",description:"common.features.tooltip.structured_message_templates",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},se={key:"auto_thumbnail",name:"common.features.name.auto_thumbnail",description:"common.features.tooltip.auto_thumbnail",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!0},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!0},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!0}}},le={key:"delivery_receipt",name:"common.features.name.delivery_receipt",description:"common.features.tooltip.delivery_receipt",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},ce={key:"auto_message_translation",name:"common.features.name.auto_message_translation",description:"common.features.tooltip.auto_message_translation",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!0},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!0}}},de={key:"on_demand_translation",name:"common.features.name.on_demand_translation",description:"common.features.tooltip.on_demand_translation",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},ue={key:"push_translation",name:"common.features.name.push_translation",description:"common.features.tooltip.push_translation",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},pe={key:"user_reporting",name:"common.features.name.user_reporting",description:"common.features.tooltip.user_reporting",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},me={key:"user_to_user_blocking",name:"common.features.name.user_to_user_blocking",description:"common.features.tooltip.user_to_user_blocking",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},ge={key:"mute_user",name:"common.features.name.mute_user",description:"common.features.tooltip.mute_user",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},he={key:"ban_user",name:"common.features.name.ban_user",description:"common.features.tooltip.ban_user",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},be={key:"deactivate_user",name:"common.features.name.deactivate_user",description:"common.features.tooltip.deactivate_user",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},fe={key:"channel_operators",name:"common.features.name.channel_operators",description:"common.features.tooltip.channel_operators",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},je={key:"domain_filter",name:"common.features.name.domain_filter",description:"common.features.tooltip.domain_filter",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},xe={key:"span_flood_protection",name:"common.features.name.span_flood_protection",description:"common.features.tooltip.span_flood_protection",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},ye={key:"moderation_tools",name:"common.features.name.moderation_tools",description:"common.features.tooltip.moderation_tools",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Oe={key:"image_moderation",name:"common.features.name.image_moderation",description:"common.features.tooltip.image_moderation",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!0},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!0}}},ve={key:"profanity_filter",name:"common.features.name.profanity_filter",description:"common.features.tooltip.profanity_filter",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},_e={key:"freeze_channel",name:"common.features.name.freeze_channel",description:"common.features.tooltip.freeze_channel",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},we={key:"analytics_dashboard",name:"common.features.name.analytics_dashboard",description:"common.features.tooltip.analytics_dashboard",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Ce={key:"advanced_analytics",name:"common.features.name.advanced_analytics",description:"common.features.tooltip.advanced_analytics",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Se={key:"message_retrieval",name:"common.features.name.message_retrieval",description:"common.features.tooltip.message_retrieval",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Me={key:"data_export",name:"common.features.name.data_export",description:"common.features.tooltip.data_export",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!1,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!0,description:null,hasOverage:!1}}},ke={key:"bot_interface",name:"common.features.name.bot_interface",description:"common.features.tooltip.bot_interface",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!0},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!0},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!0}}},Ie={key:"post_event_webhooks",name:"common.features.name.post_event_webhooks",description:"common.features.tooltip.post_event_webhooks",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Pe={key:"tls_ssl_encryption",name:"common.features.name.tls_ssl_encryption",description:null,plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Ae={key:"file_encryption",name:"common.features.name.file_encryption",description:"common.features.tooltip.file_encryption",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Te={key:"gdpr_api",name:"common.features.name.gdpr_api",description:"common.features.tooltip.gdpr_api",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Ne={key:"ip_whitelisting",name:"common.features.name.ip_whitelisting",description:"common.features.tooltip.ip_whitelisting",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!1,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},De={key:"soc2",name:"common.features.name.soc2",description:null,plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Ee={key:"iso27001",name:"common.features.name.iso27001",description:null,plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Le={key:"gdpr",name:"common.features.name.gdpr",description:null,plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Fe={key:"eu_us_privacy_shield",name:"common.features.name.eu_us_privacy_shield",description:null,plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},ze={key:"hipaa",name:"common.features.name.hipaa",description:null,plans:{starter:{supported:!0,isAddon:!0,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!0,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!0,description:null,hasOverage:!1}}},Re={key:"choose_your_aws_region",name:"common.features.name.choose_your_aws_region",description:"common.features.tooltip.choose_your_aws_region",plans:{starter:{supported:!0,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Be={key:"private_dedicated_servers",name:"common.features.name.private_dedicated_servers",description:null,plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Ve={key:"public_static_ip",name:"common.features.name.public_static_ip",description:"common.features.tooltip.public_static_ip",plans:{starter:{supported:!1,isAddon:!1,description:null,hasOverage:!1},pro:{supported:!0,isAddon:!1,description:null,hasOverage:!1},enterprise:{supported:!0,isAddon:!1,description:null,hasOverage:!1}}},Ue=Object(a.default)(I).withConfig({displayName:"FeaturesTable__SubRow",componentId:"sc-18ewmdf-0"})(["cursor:default;position:relative;",";"],({$isLastRow:e})=>!e&&Object(a.css)(["border-bottom:0;&:before{content:'';display:block;position:absolute;bottom:0;right:0;width:calc(100% - 36px);height:1px;background:",";}"],Object(b.cssVariables)("neutral-3"))),qe=Object(a.default)(b.Icon).withConfig({displayName:"FeaturesTable__FoldingIcon",componentId:"sc-18ewmdf-1"})(["transform:rotate(","deg);transition:",";"],({$isOpen:e})=>e?0:-90,Object(b.transitions)({duration:.3,properties:["transform"]})),We=a.default.div.withConfig({displayName:"FeaturesTable__FoldableTableBody",componentId:"sc-18ewmdf-2"})(["display:",";"],({$isOpen:e})=>e?"block":"none"),He=Object(a.default)(P).withConfig({displayName:"FeaturesTable__FoldableTableHead",componentId:"sc-18ewmdf-3"})(["cursor:pointer;"]),$e=a.default.div.withConfig({displayName:"FeaturesTable__Footer",componentId:"sc-18ewmdf-4"})(["display:flex;justify-content:flex-end;margin:24px 0;a{font-size:14px;font-weight:600;}"]),Ye=a.default.div.attrs({children:"$"}).withConfig({displayName:"FeaturesTable__AddOnIndicator",componentId:"sc-18ewmdf-5"})(["color:",";font-weight:500;font-size:16px;margin-left:4px;"],Object(b.cssVariables)("purple-7")),Ke=a.default.div.attrs({children:"*"}).withConfig({displayName:"FeaturesTable__OverageIndicator",componentId:"sc-18ewmdf-6"})(["color:",";margin-left:4px;font-weight:600;"],Object(b.cssVariables)("purple-7")),Ge=Object(i.memo)(({defaultIsOpen:e=!0,features:t,headColumnNodes:n})=>{const a=Object(r.a)(),[o,s]=Object(i.useState)(e),l=Object(i.useCallback)(()=>t.map(({key:e,name:n,description:i,plans:r},s)=>Object(T.jsx)(v.a,{show:o,delay:s/30,from:"bottom",children:Object(T.jsxs)(Ue,{$isLastRow:s===t.length-1,children:[Object(T.jsx)(k,{}),Object(T.jsx)(k,{children:Object(T.jsx)(E,{text:a.formatMessage({id:n}),content:i?a.formatMessage({id:i}):void 0},e)}),Object.entries(r).map(([,{supported:e,isAddon:t,description:n,hasOverage:a}],i)=>e?t?Object(T.jsxs)(k,{children:[Object(T.jsx)(Ye,{}),a&&Object(T.jsx)(Ke,{})]},i):n?Object(T.jsxs)(k,{children:[n,a&&Object(T.jsx)(Ke,{})]},i):Object(T.jsxs)(k,{children:[Object(T.jsx)(b.Icon,{icon:"done",size:20,color:Object(b.cssVariables)("purple-7")}),a&&Object(T.jsx)(Ke,{})]},i):Object(T.jsxs)(k,{children:[Object(T.jsx)(b.Icon,{icon:"close",size:20,color:Object(b.cssVariables)("neutral-3")}),a&&Object(T.jsx)(Ke,{})]},i))]})},s)),[t,a,o]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(He,{onClick:()=>s(!o),children:[Object(T.jsx)(k,{children:Object(T.jsx)(qe,{icon:"chevron-down",size:20,$isOpen:o})}),n.map((e,t)=>Object(T.jsx)(k,{children:e},t))]}),Object(T.jsx)(We,{$isOpen:o,children:l()})]})}),Xe=({showStarter1kOption:e=!1})=>{const t=Object(r.a)(),n=Object(l.k)(),a=Object(u.W)(),i=()=>{a({dialogTypes:O.a.Overage,dialogProps:{showStarter1kOption:e}})},o=[{title:A.e.usage,rows:[L,F,z,R,B,V]},{title:A.e.advancedMessaging,rows:[U,q,W,H,$,Y,K]},{title:A.e.modernMessagingEssentials,rows:[G,X,Q,J,Z,ee,te,ne,ae,ie,oe,re,se,le]},{title:A.e.translation,rows:[ce,de,ue]},{title:A.e.moderation,rows:[pe,me,ge,he,be,fe,je,xe,ye,Oe,ve,_e]},{title:A.e.dataAndAnalytics,rows:[we,Ce,Se,Me]},{title:A.e.integrations,rows:[ke,Ie]},{title:A.e.security,rows:[Pe,Ae,Te,Ne]},{title:A.e.compliance,rows:[De,Ee,Le,Fe,ze]},{title:A.e.infrastructure,rows:[Re,Be,Ve]}];return Object(T.jsxs)(_,{children:[Object(T.jsxs)(w,{children:[Object(T.jsx)(C,{"data-trigger":"features",children:t.formatMessage({id:"common.features.table.title"})}),Object(T.jsx)(S,{children:t.formatMessage({id:"common.features.table.legends.available"},{b:e=>Object(T.jsx)("b",{children:e})})}),Object(T.jsx)(S,{children:t.formatMessage({id:"common.features.table.legends.overages"},{b:e=>Object(T.jsx)("b",{children:e}),a:e=>Object(T.jsx)(b.Link,{variant:b.LinkVariant.Inline,onClick:i,children:e})})})]}),Object(T.jsxs)(M,{children:[o.map(({title:e,rows:n})=>Object(T.jsx)(Ge,{features:n,headColumnNodes:e===A.e.usage?[t.formatMessage({id:e}),t.formatMessage({id:"common.subscriptionPlanDialog.table.features.planType.starter"}),t.formatMessage({id:"common.subscriptionPlanDialog.table.features.planType.pro"}),t.formatMessage({id:"common.subscriptionPlanDialog.table.features.planType.enterprise"})]:[t.formatMessage({id:e})]},e)),Object(T.jsxs)(P,{children:[Object(T.jsx)(k,{}),Object(T.jsx)(k,{children:t.formatMessage({id:"common.features.table.th.support.title"})}),Object(T.jsx)(k,{children:t.formatMessage({id:"common.features.table.th.support.baseL1"})}),Object(T.jsx)(k,{children:t.formatMessage({id:"common.features.table.th.support.baseL1"})}),Object(T.jsx)(k,{children:t.formatMessage({id:"common.features.table.th.support.all"})})]}),Object(T.jsx)($e,{children:Object(T.jsx)(b.Link,{iconProps:{icon:"open-in-new",size:16},onClick:()=>{n.push("/settings/general/plans/support",{background:n.location})},children:t.formatMessage({id:"common.features.table.th.support.link.viewMore"})})})]})]})};var Qe=n("Qyje"),Je=n.n(Qe),Ze=n("jHpn");const et=Object(a.default)(I).withConfig({displayName:"PricingTable__PricingRow",componentId:"aqm6me-0"})(["grid-template-columns:",";","{",";font-weight:600;}"],({showStarter1kOption:e})=>e?"2.8fr repeat(6, 1fr)":"3.8fr repeat(5, 1fr)",k,b.Headings["heading-01"]),tt=Object(a.default)(et).withConfig({displayName:"PricingTable__PricingHeader",componentId:"aqm6me-1"})(["padding:28px 8px;","{",";font-weight:600;}"],k,b.Typography["label-03"]),nt=Object(a.default)(b.Link).attrs({useReactRouter:!0}).withConfig({displayName:"PricingTable__UnderlinedLink",componentId:"aqm6me-2"})(["text-decoration:underline;font-weight:500;"]),at=Object(a.default)(k).withConfig({displayName:"PricingTable__EnterpriseColumn",componentId:"aqm6me-3"})(["grid-column:",";justify-content:center;"],({showStarter1kOption:e})=>e?"2 / span 6":"2 / span 5"),it=({plans:e,intl:t,showStarter1kOption:n})=>{const a=e=>{const n=Je.a.stringify({category:"sales_inquiry",subject:t.formatMessage({id:"common.subscriptionPlanDialog.talkToSales.supportForm.subject"},{planName:e})});return Object(T.jsx)(nt,{href:`/settings/contact_us?${n}`,children:t.formatMessage({id:"common.pricing.table.td.talkToSales"})})},i=e=>Object(Ze.d)(e.subscriptionName)?a(e.displayName):Object(Ze.b)(e.baseFee);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(v.a,{delay:0,from:"bottom",children:Object(T.jsxs)(et,{showStarter1kOption:n,children:[Object(T.jsx)(k,{children:t.formatMessage({id:"common.pricing.table.planType.starter"})}),e.starter.filter(e=>n||"plan_a_1k"!==e.subscriptionName).map(e=>Object(T.jsx)(k,{children:i(e)},e.subscriptionName))]})}),Object(T.jsx)(v.a,{delay:1/30,from:"bottom",children:Object(T.jsxs)(et,{showStarter1kOption:n,children:[Object(T.jsx)(k,{children:t.formatMessage({id:"common.pricing.table.planType.pro"})}),n&&Object(T.jsx)(k,{}),e.pro.map(e=>Object(T.jsx)(k,{children:i(e)},e.subscriptionName))]})}),Object(T.jsx)(v.a,{delay:2/30,from:"bottom",children:Object(T.jsxs)(et,{showStarter1kOption:n,children:[Object(T.jsx)(k,{children:t.formatMessage({id:"common.pricing.table.planType.enterprise"})}),Object(T.jsx)(at,{showStarter1kOption:n,children:a(t.formatMessage({id:"common.pricing.table.planType.enterprise"}))})]})})]})};var ot=Object(a.default)(S).withConfig({displayName:"PricingTable___StyledTitleSuffix",componentId:"aqm6me-4"})(["grid-column:2 / span 2;justify-content:flex-end;"]);var rt=({plans:e,showStarter1kOption:t})=>{const n=Object(r.a)();return Object(T.jsxs)(_,{children:[Object(T.jsxs)(w,{children:[Object(T.jsx)(C,{children:n.formatMessage({id:"common.pricing.table.title"})}),Object(T.jsx)(ot,{children:n.formatMessage({id:"common.pricing.table.billedMonthly"})})]}),Object(T.jsxs)(M,{children:[Object(T.jsxs)(tt,{showStarter1kOption:t,children:[Object(T.jsx)(k,{}),t&&Object(T.jsx)(k,{children:n.formatMessage({id:"common.pricing.table.th.1k"})}),Object(T.jsx)(k,{children:n.formatMessage({id:"common.pricing.table.th.5k"})}),Object(T.jsx)(k,{children:n.formatMessage({id:"common.pricing.table.th.10k"})}),Object(T.jsx)(k,{children:n.formatMessage({id:"common.pricing.table.th.25k"})}),Object(T.jsx)(k,{children:n.formatMessage({id:"common.pricing.table.th.50k"})}),Object(T.jsx)(k,{children:n.formatMessage({id:"common.pricing.table.th.100k"})})]}),it({plans:e,intl:n,showStarter1kOption:t})]})]})},st=n("dLU1"),lt=n("sWYD"),ct=n("tSIP"),dt=n("kmMa"),ut=n("3F6K");let pt,mt;!function(e){e.NO_PLAN="NO_PLAN",e.HAS_PLAN="HAS_PLAN"}(pt||(pt={})),function(e){e.REQUESTED_CANCEL_PLAN="REQUEST_CANCEL_PLAN",e.REQUESTED_LOWER_FEE_PLAN="REQUESTED_LOWER_FEE_PLAN",e.SELECTED_TALK_TO_SALES_PLAN="SELECTED_TALK_TO_SALES_PLAN",e.SELECTED_LOWER_FEE_PLAN="SELECTED_LOWER_FEE_PLAN",e.SELECTED_HIGHER_FEE_PLAN="SELECTED_HIGHER_FEE_PLAN",e.EMPTY="EMPTY"}(mt||(mt={}));const gt=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__SubscriptionPlanUpdaterWrapper",componentId:"sc-17a9w22-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;margin:72px -32px;padding:32px;background:",";"],Object(b.cssVariables)("bg-2")),ht=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__SubscriptionPlanUpdaterTitleContainer",componentId:"sc-17a9w22-1"})(["display:flex;width:","px;"],1024),bt=a.default.h2.withConfig({displayName:"SubscriptionPlanUpdater__SubscriptionPlanUpdaterTitle",componentId:"sc-17a9w22-2"})(["",";flex:auto;margin-bottom:12px;font-weight:600;color:",";"],b.Subtitles["subtitle-02"],Object(b.cssVariables)("neutral-7")),ft=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__PlanUpdaterContainer",componentId:"sc-17a9w22-3"})(["display:grid;grid-template-columns:","px auto;grid-template-areas:'current future';position:relative;width:","px;min-height:330px;background:white;border-radius:4px;"],320,1024),jt=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__PlanUpdaterColumn",componentId:"sc-17a9w22-4"})(["display:flex;flex-direction:column;padding:24px;",";"],({showVerticalDivider:e})=>e&&Object(a.css)(["border-left:1px solid ",";"],Object(b.cssVariables)("neutral-3")));var xt=Object(a.default)(jt).withConfig({displayName:"SubscriptionPlanUpdater___StyledPlanUpdaterColumn2",componentId:"sc-17a9w22-5"})(["grid-area:future;"]),yt=Object(a.default)(jt).withConfig({displayName:"SubscriptionPlanUpdater___StyledPlanUpdaterColumn",componentId:"sc-17a9w22-6"})(["grid-area:current;"]);const Ot=Object(a.default)(b.Icon).attrs({icon:"arrow-right",size:24}).withConfig({displayName:"SubscriptionPlanUpdater__ArrowRight",componentId:"sc-17a9w22-7"})(["position:absolute;right:0;top:50%;transform:translate(150%,-50%);"]),vt=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__ScheduledPlanBox",componentId:"sc-17a9w22-8"})(["display:flex;flex-direction:inherit;position:relative;padding:inherit;height:100%;border-radius:4px;",";"],b.shadow[2]),_t=a.default.h3.withConfig({displayName:"SubscriptionPlanUpdater__PlanTitle",componentId:"sc-17a9w22-9"})(["",";margin-bottom:16px;color:",";"],b.Typography["label-03"],Object(b.cssVariables)("neutral-7")),wt=a.default.strong.withConfig({displayName:"SubscriptionPlanUpdater__CurrentPlanName",componentId:"sc-17a9w22-10"})(["display:flex;flex-direction:column;align-items:flex-start;",";color:",";"],b.Headings["heading-03"],({$isNoPlan:e})=>e?Object(b.cssVariables)("red-5"):Object(b.cssVariables)("neutral-10")),Ct=a.default.b.withConfig({displayName:"SubscriptionPlanUpdater__CurrentPlanFee",componentId:"sc-17a9w22-11"})(["",";color:",";"],b.Headings["heading-05"],Object(b.cssVariables)("neutral-10")),St=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__PlanFee",componentId:"sc-17a9w22-12"})(["display:flex;flex:auto;align-items:flex-end;",";color:",";u{margin-left:4px;text-decoration:none;transform:translateY(-1px);}"],b.Subtitles["subtitle-01"],Object(b.cssVariables)("neutral-7")),Mt=a.default.span.withConfig({displayName:"SubscriptionPlanUpdater__Quota",componentId:"sc-17a9w22-13"})(["",";color:",";"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-7")),kt=a.default.strong.withConfig({displayName:"SubscriptionPlanUpdater__SubscriptionPlanItemType",componentId:"sc-17a9w22-14"})(["padding-top:10px;",";color:",";pointer-events:none;"],b.Typography["label-02"],Object(b.cssVariables)("neutral-7")),It=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__DescriptionContainer",componentId:"sc-17a9w22-15"})(["display:flex;flex:auto;padding:16px 0 24px;border-bottom:1px solid ",";> div{display:flex;flex-direction:column;width:",";height:100%;",";color:",";&:nth-child(2){flex:1;width:auto;padding:0 16px;}strong{display:block;font-weight:600;}}"],Object(b.cssVariables)("neutral-3"),({$hideLabel:e})=>e?"100%":"104px",b.Body["body-short-01"],Object(b.cssVariables)("neutral-7")),Pt=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__ScheduledDescriptionContainer",componentId:"sc-17a9w22-16"})(["display:flex;flex-direction:column;justify-content:flex-end;height:100%;",";color:",";strong{display:block;font-weight:600;}"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-7")),At=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__ButtonContainer",componentId:"sc-17a9w22-17"})(["margin-top:24px;margin-left:196px;"]),Tt=Object(a.default)(At).withConfig({displayName:"SubscriptionPlanUpdater__ButtonContainerWithTooltip",componentId:"sc-17a9w22-18"})(["position:relative;"]),Nt=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__MovingTooltipWrapper",componentId:"sc-17a9w22-19"})(["@keyframes move-arrow{0%{transform:translate(0,-50%);}100%{transform:translate(3px,-50%);}}position:absolute;top:50%;left:240px;margin-left:8px;animation:move-arrow 0.4s infinite alternate ease-in-out;"]),Dt=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__MovingTooltipArrow",componentId:"sc-17a9w22-20"})(["position:absolute;top:50%;left:-7px;&::before,&::after{position:absolute;top:-8px;border:8px solid transparent;content:'';pointer-events:none;}&::before{margin-left:-8px;border-right-color:",";width:8px;height:16x;}&::after{margin-left:-7px;border-right-color:#fff;width:7px;height:14px;}"],Object(b.cssVariables)("neutral-3")),Et=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__MovingTooltipContent",componentId:"sc-17a9w22-21"})(["border:1px solid #c9d0e6;border-radius:4px;background-color:#fff;padding:16px 20px 16px 12px;line-height:20px;white-space:pre;color:#212242;font-size:14px;",";"],b.shadow[8]),Lt=Object(a.default)(b.Button).withConfig({displayName:"SubscriptionPlanUpdater__ScheduledActionButton",componentId:"sc-17a9w22-22"})(["position:absolute;right:0;top:0;transform:translate(-14px,25%);> div > svg{width:16px;height:16px;}"]),Ft=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__SubscriptionPlanDropdownWrapper",componentId:"sc-17a9w22-23"})(["div[role='combobox']{",";> button{height:82px;border-color:transparent;> svg{width:28px;height:28px;fill:",";}}}&:hover{div[role='combobox'] > button{strong,span,b,u,small{color:",";}}}"],b.shadow[2],Object(b.cssVariables)("neutral-6"),Object(b.cssVariables)("purple-7")),zt=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__SubscriptionPlanItem",componentId:"sc-17a9w22-24"})(["display:flex;align-items:center;width:100%;"," div{display:flex;flex-direction:column;flex:1;align-items:flex-start;position:relative;z-index:10;&:nth-child(2){display:flex;flex-direction:row;align-items:flex-end;justify-content:flex-end;transform:translateX(","px);}strong{display:flex;align-items:center;",";}span{",";color:",";}b{",";}u{margin-left:3px;",";text-decoration:none;color:",";}small{",";text-decoration:none;color:",";background:none;}",";",";}"],({isInUse:e})=>e&&Object(a.css)(["&::before{content:'';display:block;position:absolute;left:0;top:0;z-index:5;width:4px;height:100%;background:",";}&::after{content:'';display:block;position:absolute;left:4px;top:0;z-index:1;width:calc(100% - 4px);height:100%;background:",";}"],Object(b.cssVariables)("purple-7"),Object(b.cssVariables)("neutral-2")),({isSelected:e})=>e?0:28,b.Headings["heading-02"],b.Typography["caption-01"],Object(b.cssVariables)("neutral-7"),b.Headings["heading-02"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-7"),b.Body["body-short-01"],Object(b.cssVariables)("neutral-6"),({isInUse:e})=>e&&Object(a.css)(["strong,span,b,u,small{color:",";}"],Object(b.cssVariables)("neutral-6")),({isSelected:e})=>e&&Object(a.css)(["strong,span,b,u,small{color:",";}"],Object(b.cssVariables)("purple-7"))),Rt=Object(a.default)(zt).withConfig({displayName:"SubscriptionPlanUpdater__SelectedSubscriptionPlanItem",componentId:"sc-17a9w22-25"})(["div{&:nth-child(2){transform:translateX(0);}strong{",";}span{",";}b{",";}u{",";}small{",";color:",";}",";}"],b.Headings["heading-04"],b.Body["body-short-01"],b.Headings["heading-06"],b.Subtitles["subtitle-01"],b.Subtitles["subtitle-01"],Object(b.cssVariables)("neutral-7"),({isOpen:e})=>e&&Object(a.css)(["strong,span,b,u,small{color:",";}"],Object(b.cssVariables)("purple-7"))),Bt=a.default.span.withConfig({displayName:"SubscriptionPlanUpdater__SubscriptionPlanDropdownPlaceholder",componentId:"sc-17a9w22-26"})([""," color:",";"],b.Subtitles["subtitle-03"],({isOpen:e})=>e?Object(b.cssVariables)("purple-9"):Object(b.cssVariables)("neutral-6")),Vt=a.default.span.withConfig({displayName:"SubscriptionPlanUpdater__SubscriptionPlanDropdownCancelPlan",componentId:"sc-17a9w22-27"})(["display:flex;align-items:center;",";color:",";"],b.Headings["heading-04"],({isOpen:e})=>e?Object(b.cssVariables)("purple-9"):Object(b.cssVariables)("red-5")),Ut=a.default.b.withConfig({displayName:"SubscriptionPlanUpdater__TooltipBold",componentId:"sc-17a9w22-28"})(["color:",";font-weight:600;"],Object(b.cssVariables)("purple-7")),qt=Object(i.memo)(({displayNameLozenge:e,...t})=>{const n=Object(r.a)(),{subscriptionName:a,displayName:i,quota:o,baseFee:s}=t,l=a===d.ac.Enterprise?n.formatMessage({id:"common.subscriptionPlan.enterprise.mau"}):Object(Ze.c)(o),c=Object(Ze.b)(s);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{children:[Object(T.jsxs)("strong",{"data-test-id":"FuturePlanItemDisplayName",children:[i,e]}),Object(T.jsx)("span",{"data-test-id":"FuturePlanItemQuota",children:n.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.format.mau"},{quota:l})})]}),Object(T.jsx)("div",{"data-test-id":"FuturePlanItemFee",children:Object(Ze.d)(a)?Object(T.jsx)("small",{children:n.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.dropdown.talkToSales"})}):n.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.format.baseFee"},{planFee:Object(T.jsx)(Ct,{children:c}),span:e=>Object(T.jsx)("u",{children:e})})})]})}),Wt=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__IconWrapper",componentId:"sc-17a9w22-29"})(["position:absolute;right:24px;"]),Ht=a.default.div.withConfig({displayName:"SubscriptionPlanUpdater__TogglerRendererWrapper",componentId:"sc-17a9w22-30"})(["display:inline-flex;align-items:center;padding-right:72px;padding-left:16px;width:100%;height:82px;&:hover{","{svg{fill:",";}}}","{transition:0.2s ",";",";}"],Wt,Object(b.cssVariables)("purple-7"),Wt,b.transitionDefault,({isOpen:e})=>e&&Object(a.css)(["transform:rotate(180deg);svg{fill:",";}"],Object(b.cssVariables)("purple-7")));var $t=Object(a.default)(b.Lozenge).withConfig({displayName:"SubscriptionPlanUpdater___StyledLozenge",componentId:"sc-17a9w22-31"})(["margin-left:8px;"]),Yt=Object(a.default)(b.Lozenge).withConfig({displayName:"SubscriptionPlanUpdater___StyledLozenge2",componentId:"sc-17a9w22-32"})(["margin-left:8px;"]);const Kt=Object(i.memo)(({plans:e,currentPlan:t,selectedItem:n,isLegacyStarterPlan:a,onChange:o})=>{const s=Object(r.a)(),l={subscriptionName:d.ac.Enterprise,displayName:s.formatMessage({id:"common.subscriptionPlan.enterprise.displayName"}),quota:0,baseFee:0},c=[A.b.Starter,...e.starter,A.b.Pro,...e.pro,A.b.Enterprise,l],u=Object(i.useCallback)(e=>{const n=!!t&&Object.entries(t).every(([t,n])=>e[t]===n),i=e.subscriptionName===d.ac.PlanA5K;return!a&&n||a&&n&&!i},[t,a]),p=Object(i.useMemo)(()=>Object(T.jsx)($t,{color:"purple",children:s.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.dropdown.lozenge.inUse"})}),[s]),m=Object(i.useMemo)(()=>Object(T.jsx)(Yt,{color:"orange",children:s.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.dropdown.lozenge.specialOffer"})}),[s]),h=Object(i.useCallback)(e=>u(e)?p:"plan_a_1k"===e.subscriptionName?m:void 0,[m,p,u]),f=Object(i.useCallback)(({selectedItem:e,isOpen:t})=>{const n=!e||"string"==typeof e;return Object(T.jsxs)(Ht,{isOpen:t,children:[n?Object(T.jsx)(Bt,{isOpen:t,"data-test-id":"FuturePlanPlaceHolder",children:s.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.dropdown.placeholder"})}):Object(T.jsx)(Rt,{isOpen:t,"data-test-id":"FuturePlanSelected",children:Object(T.jsx)(qt,{displayNameLozenge:h(e),...e})}),Object(T.jsx)(Wt,{children:Object(T.jsx)(b.Icon,{icon:"input-arrow-down",size:24,color:Object(b.cssVariables)("neutral-6")})})]})},[h,s]);return Object(T.jsx)(Ft,{children:Object(T.jsx)(b.Dropdown,{items:c,selectedItem:n,width:"100%",isItemDisabled:e=>"string"==typeof e||u(e),itemToElement:e=>"string"==typeof e?Object(T.jsx)(kt,{children:e}):Object(T.jsx)(zt,{isInUse:u(e),isSelected:e.subscriptionName===(null==n?void 0:n.subscriptionName),children:Object(T.jsx)(qt,{displayNameLozenge:h(e),...e})}),itemToString:e=>"string"==typeof e?e:e.subscriptionName,toggleRenderer:f,onChange:Object(g.onDropdownChangeIgnoreNull)(o),stateReducer:(e,t)=>{const n=document.getElementById("SubscriptionPlanModal");return n&&"boolean"==typeof t.isOpen&&(t.isOpen?n.style.overflowY="hidden":n.style.overflowY="auto"),t},showArrow:!1})})}),Gt=e=>({subscriptionName:e.subscription_name,displayName:e.display_name,quota:e.plan.mau.purchased_units,baseFee:e.plan_value});var Xt=Object(a.default)(b.Lozenge).withConfig({displayName:"SubscriptionPlanUpdater___StyledLozenge3",componentId:"sc-17a9w22-33"})(["margin-top:4px;"]),Qt=Object(a.default)(b.Button).withConfig({displayName:"SubscriptionPlanUpdater___StyledButton",componentId:"sc-17a9w22-34"})(["",""],e=>e._css),Jt=Object(a.default)("strong").withConfig({displayName:"SubscriptionPlanUpdater___StyledStrong",componentId:"sc-17a9w22-35"})(["color:",";"],e=>e._css2),Zt=Object(a.default)("p").withConfig({displayName:"SubscriptionPlanUpdater___StyledP",componentId:"sc-17a9w22-36"})(["color:",";"],e=>e._css3),en=Object(a.default)(b.Lozenge).withConfig({displayName:"SubscriptionPlanUpdater___StyledLozenge4",componentId:"sc-17a9w22-37"})(["margin-left:8px;"]),tn=Object(a.default)("strong").withConfig({displayName:"SubscriptionPlanUpdater___StyledStrong2",componentId:"sc-17a9w22-38"})(["color:",";"],e=>e._css4),nn=Object(a.default)("p").withConfig({displayName:"SubscriptionPlanUpdater___StyledP2",componentId:"sc-17a9w22-39"})(["color:",";"],e=>e._css5),an=Object(a.default)(b.Link).withConfig({displayName:"SubscriptionPlanUpdater___StyledLink",componentId:"sc-17a9w22-40"})(["",";"],e=>e._css6),on=Object(a.default)(b.Link).withConfig({displayName:"SubscriptionPlanUpdater___StyledLink2",componentId:"sc-17a9w22-41"})(["text-decoration:underline;"]),rn=Object(a.default)(b.InlineNotification).withConfig({displayName:"SubscriptionPlanUpdater___StyledInlineNotification",componentId:"sc-17a9w22-42"})(["margin-bottom:8px;max-width:1024px;b{font-weight:600;}"]);var sn=Object(i.memo)(e=>{var t,n,o;const{currentSubscription:s,futureSubscription:c,plans:p,cardInfo:m,setIs1kInterested:g,planA1kAvailable:h,showStarter1kOption:f}=e,x=Object(r.a)(),y=Object(l.k)(),{isOrganizationDeactivated:v}=Object(j.a)(),_=Object(dt.a)(),{showChangePlanDialog:w,showUndoCancelSubscriptionDialog:C,showUndoPlanChangeRequestDialog:S,show1kSubscriptionDialog:M,showReasonForCancelDialog:k,showCancelSubscriptionDialog:I}=Object(ut.a)(),[P,N]=Object(i.useState)(null),D=s?Gt(s):null,E=c?Gt(c):null;Object(i.useEffect)(()=>{!s&&c||N(null)},[s,c]);const[L,F]=Object(i.useState)(null);Object(u.s)(L,{ignoreDuplicates:!0,onClose:()=>{F(null)}});const z=Object(i.useMemo)(()=>null!=m&&Object.keys(m).length>0,[m]),R=null!=(t=null==D?void 0:D.displayName)?t:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.current.displayName.unsubscribed"}),B=Object(Ze.c)(null!=(n=null==D?void 0:D.quota)?n:0),V=Object(Ze.b)(null!=(o=null==D?void 0:D.baseFee)?o:0),U=!!P&&Object(Ze.d)(P.subscriptionName),q=Object(Ze.a)(s),W=Object(i.useMemo)(()=>{const e=(()=>{var e;const t=null!=(e=null==s?void 0:s.plan_value)?e:0;if(P)return Object(Ze.d)(P.subscriptionName)?mt.SELECTED_TALK_TO_SALES_PLAN:t<=P.baseFee?mt.SELECTED_HIGHER_FEE_PLAN:mt.SELECTED_LOWER_FEE_PLAN;if(s){if(s.subscription_name!==d.ac.FreeTrial&&s.end_date)return mt.REQUESTED_CANCEL_PLAN;if(c&&s.plan_value>c.plan_value)return mt.REQUESTED_LOWER_FEE_PLAN}return mt.EMPTY})();return{current:s?pt.HAS_PLAN:pt.NO_PLAN,future:e}},[s,c,P]),H=[mt.REQUESTED_CANCEL_PLAN,mt.REQUESTED_LOWER_FEE_PLAN].includes(W.future),$=Object(i.useCallback)(({onSuccess:e})=>_({dialogTypes:O.a.RegisterCard,dialogProps:{onSuccess:e}}),[_]),Y=Object(i.useCallback)(()=>{const e=P&&A.c.includes(P.subscriptionName)?x.formatMessage({id:"common.subscriptionPlanDialog.talkToSales.supportForm.subject"},{planName:P.displayName}):null,t={category:"sales_inquiry",...e&&{subject:e}};y.push(`/settings/contact_us?${Je.a.stringify(t)}`)},[y,x,P]),K=Object(i.useCallback)(()=>{s&&k({onSubmit:({endReason:e})=>{I({currentSubscription:s,endReason:e})}})},[s,I,k]),G=Object(i.useCallback)(()=>{if(s)if(h)if(f)K();else{const e=p.starter.find(({subscriptionName:e})=>"plan_a_1k"===e);M({onSubmit:()=>{g(!0),N(null!=e?e:null)},onNoThanksClick:()=>{K()}})}else K()},[s,h,p.starter,g,M,f,K]),X=Object(i.useCallback)(()=>{c&&S({futureSubscription:c})},[c,S]),Q=Object(i.useCallback)(()=>{s&&C({currentSubscription:s})},[s,C]),J=Object(i.useCallback)(()=>{P?(L&&F(null),!s||z?w({currentSubscription:null!=s?s:null,selectedPlan:P}):$({onSuccess:()=>{w({currentSubscription:s,selectedPlan:P})}})):F(x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.toast.error.noSelectedPlan"}))},[s,L,z,x,P,$,w]),Z=Object(i.useMemo)(()=>({LABEL:{STARTS_ON:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.guide.label.startsOn"}),EFFECTIVE:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.guide.label.effective"}),CANCEL_STARTS_ON:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.guide.label.cancelPlanStartsOn"})},DATE:{NO_PLAN:d.Z,TALK_TO_SALES:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.guide.date.talkToSales"}),IMMEDIATELY:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.guide.date.immediately"}),LOWER_PLAN:c?Object(lt.a)(new Date(c.start_date),"MMMM d, yyyy"):Object(lt.a)(Object(ct.a)(Object(st.a)(Date.now(),1),1),"MMMM d, yyyy"),CANCEL_PLAN:null!=s&&s.end_date?Object(lt.a)(Object(ct.a)(Object(st.a)(new Date(s.end_date),1),1),"MMMM d, yyyy"):d.Z},DESCRIPTION:{NO_PLAN:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.guide.description.noPlan"}),TALK_TO_SALES:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.guide.description.changeToTalkToSalesPlan"}),IMMEDIATELY:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.guide.description.changeToHigherFeePlan"},{effectiveDate:Object(lt.a)(Date.now(),"MMM d, yyyy")}),TO_LOWER_PLAN:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.guide.description.changeToLowerFeePlan"}),CANCEL_SCHEDULED:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.guide.description.cancelPlan"})}}),[s,c,x]),ee=Object(i.useMemo)(()=>({CHANGE_NOW:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.button.changeNow"}),SCHEDULE:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.button.schedule"}),CANCEL_REQUEST:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.button.cancelRequest"}),SUBSCRIBE_AGAIN:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.button.subscribeAgain"}),TALK_TO_SALES:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.button.talkToSales"})}),[x]),te=Object(i.useMemo)(()=>{switch(W.future){case mt.REQUESTED_CANCEL_PLAN:return{label:Z.LABEL.CANCEL_STARTS_ON,date:{text:Z.DATE.CANCEL_PLAN,color:Object(b.cssVariables)("red-5")},description:{text:Z.DESCRIPTION.CANCEL_SCHEDULED,color:Object(b.cssVariables)("neutral-10")},button:{text:ee.SUBSCRIBE_AGAIN,props:{buttonType:"primary",variant:"ghost",icon:"rollback",onClick:Q}}};case mt.REQUESTED_LOWER_FEE_PLAN:return{label:Z.LABEL.STARTS_ON,date:{text:Z.DATE.LOWER_PLAN,color:Object(b.cssVariables)("red-5")},description:{text:Z.DESCRIPTION.TO_LOWER_PLAN,color:Object(b.cssVariables)("neutral-10")},button:{text:ee.CANCEL_REQUEST,props:{buttonType:"primary",variant:"ghost",icon:"rollback",onClick:X}}};case mt.SELECTED_TALK_TO_SALES_PLAN:return{label:null,date:{text:Z.DATE.TALK_TO_SALES,color:Object(b.cssVariables)("purple-7")},description:{text:Z.DESCRIPTION.TALK_TO_SALES,color:Object(b.cssVariables)("neutral-10")},button:{text:ee.TALK_TO_SALES,props:{buttonType:"primary",width:232,onClick:Y}}};case mt.SELECTED_HIGHER_FEE_PLAN:return{label:Z.LABEL.EFFECTIVE,date:{text:Z.DATE.IMMEDIATELY,color:Object(b.cssVariables)("purple-7")},description:{text:Z.DESCRIPTION.IMMEDIATELY,color:Object(b.cssVariables)("neutral-10")},button:{text:U?ee.TALK_TO_SALES:ee.CHANGE_NOW,props:{buttonType:"primary",width:232,onClick:J}}};case mt.SELECTED_LOWER_FEE_PLAN:return{label:Z.LABEL.EFFECTIVE,date:{text:Z.DATE.LOWER_PLAN,color:Object(b.cssVariables)("red-5")},description:{text:Z.DESCRIPTION.TO_LOWER_PLAN,color:Object(b.cssVariables)("neutral-10")},button:{text:U?ee.TALK_TO_SALES:ee.SCHEDULE,props:{buttonType:"primary",width:232,onClick:J}}};default:return{label:Z.LABEL.EFFECTIVE,date:{text:Z.DATE.NO_PLAN,color:Object(b.cssVariables)("neutral-7")},description:{text:null,color:Object(b.cssVariables)("neutral-7")},button:{text:ee.CHANGE_NOW,props:{buttonType:"primary",width:232,onClick:J}}}}},[ee,Z,Y,Q,J,X,U,W]),ne=Object(i.useMemo)(()=>Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(wt,{$isNoPlan:W.current===pt.NO_PLAN,"data-test-id":"CurrentPlanName",children:[R,v&&Object(T.jsx)(Xt,{color:"red",children:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.current.lozenge.organizationDeactivated"})})]}),W.current===pt.HAS_PLAN&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Mt,{"data-test-id":"CurrentPlanQuota",children:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.format.mau"},{quota:B})}),Object(T.jsx)(St,{"data-test-id":"CurrentPlanFee",children:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.format.baseFee"},{planFee:Object(T.jsx)(Ct,{children:V}),span:e=>Object(T.jsx)("u",{children:e})})})]})]}),[V,R,B,x,v,W]),ae=Object(i.useMemo)(()=>h?f?p:{...p,starter:p.starter.filter(({subscriptionName:e})=>"plan_a_1k"!==e)}:p,[f,h,p]),ie=Object(i.useCallback)(()=>{const e=()=>{var e;return Object(T.jsx)(Qt,{...te.button.props,"data-test-id":"ChangePlanActionButton",disabled:!P,_css:"number"==typeof(null==(e=te.button.props)?void 0:e.width)?Object(a.css)(["width:","px;"],te.button.props.width):void 0,children:te.button.text})};return"plan_a_1k"===(null==P?void 0:P.subscriptionName)?Object(T.jsxs)(Tt,{children:[e(),Object(T.jsxs)(Nt,{"data-test-id":"starter1kTooltip",children:[Object(T.jsx)(Dt,{}),Object(T.jsx)(Et,{children:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.button.1kTooltip"},{b:e=>Object(T.jsx)(Ut,{children:e})})})]})]}):Object(T.jsx)(At,{children:e()})},[te.button.props,te.button.text,x,P]),oe=Object(i.useMemo)(()=>Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Kt,{plans:ae,currentPlan:D,selectedItem:P,isLegacyStarterPlan:q,onChange:N}),Object(T.jsxs)(It,{$hideLabel:!te.label,children:[te.label&&Object(T.jsx)("div",{"data-test-id":"FuturePlanGuideLabel",children:te.label}),Object(T.jsxs)("div",{children:[Object(T.jsx)(Jt,{"data-test-id":"FuturePlanGuideDate",_css2:te.date.color,children:te.date.text}),te.description.text&&Object(T.jsx)(Zt,{"data-test-id":"FuturePlanGuideDescription",_css3:te.description.color,children:te.description.text})]})]}),ie()]}),[D,ae,te.date.color,te.date.text,te.description.color,te.description.text,te.label,q,ie,P]),re=Object(i.useMemo)(()=>Object(T.jsx)(en,{color:"blue",children:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.dropdown.lozenge.changeRequested"})}),[x]),se=Object(i.useMemo)(()=>{const e=(()=>{switch(W.future){case mt.REQUESTED_CANCEL_PLAN:return Object(T.jsxs)(Vt,{"data-test-id":"FuturePlanCancelled",children:[x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.dropdown.cancelPlan"}),re]});default:return E?Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(Rt,{"data-test-id":"FuturePlanScheduled",children:Object(T.jsx)(qt,{...E,displayNameLozenge:re})})}):null}})();return Object(T.jsxs)(T.Fragment,{children:[e,Object(T.jsxs)(Pt,{children:[Object(T.jsxs)(tn,{"data-test-id":"FuturePlanGuideScheduledDate",_css4:te.date.color,children:[te.label," ",te.date.text]}),Object(T.jsx)(nn,{"data-test-id":"FuturePlanGuideScheduledDescription",_css5:te.description.color,children:te.description.text})]})]})},[re,E,te,x,W.future]),le=s&&![d.ac.Free,d.ac.FreeTrial].includes(s.subscription_name)&&![mt.REQUESTED_CANCEL_PLAN,mt.REQUESTED_LOWER_FEE_PLAN].includes(W.future);return Object(T.jsxs)(gt,{"data-test-id":"SubscriptionPlanUpdaterWrapper",children:[Object(T.jsxs)(ht,{"data-test-id":"SubscriptionPlanUpdaterTitleContainer",children:[Object(T.jsx)(bt,{children:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.title"})}),le&&Object(T.jsx)(an,{variant:b.LinkVariant.Inline,onClick:G,_css6:b.Subtitles["subtitle-01"],children:x.formatMessage({id:"common.settings.general.subscriptionPlan.button.cancelSubscription"})})]}),q&&Object(T.jsx)(rn,{type:"warning",message:x.formatMessage({id:"common.subscriptionPlanDialog.inlineNotification.warning.legacyStarterPlan"},{b:e=>Object(T.jsx)("b",{children:e}),a:e=>Object(T.jsx)(on,{href:"/settings/contact_us?category=pricing",useReactRouter:!0,iconProps:{icon:"open-in-new",size:16},children:e})})}),Object(T.jsxs)(ft,{children:[Object(T.jsxs)(yt,{children:[Object(T.jsx)(_t,{children:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.current.title"})}),H?Object(T.jsxs)(vt,{children:[ne,Object(T.jsx)(Ot,{})]}):ne]}),Object(T.jsxs)(xt,{showVerticalDivider:!H,children:[Object(T.jsx)(_t,{children:x.formatMessage({id:"common.subscriptionPlanDialog.subscriptionUpdater.future.title"})}),H?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Lt,{...te.button.props,children:te.button.text}),Object(T.jsx)(vt,{children:se})]}):oe]})]})]})});const ln=Object(a.default)(v.a).withConfig({displayName:"FloatingPlanHeader__FixedContainer",componentId:"sc-1wb713e-0"})(["display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;z-index:9999;width:100%;height:88px;background:white;",";"],b.shadow[2]),cn=a.default.div.withConfig({displayName:"FloatingPlanHeader__CenterWrapper",componentId:"sc-1wb713e-1"})(["width:1024px;"]),dn=a.default.div.withConfig({displayName:"FloatingPlanHeader__ModalCloseButtonWrapper",componentId:"sc-1wb713e-2"})(["position:absolute;top:20px;right:40px;z-index:30;"]),un=Object(a.default)(v.a).attrs({from:"top",duration:.2}).withConfig({displayName:"FloatingPlanHeader__ModalTitle",componentId:"sc-1wb713e-3"})(["position:absolute;top:0;left:0;z-index:10;display:flex;justify-content:center;align-items:center;width:100%;height:100%;",";"],b.Headings["heading-04"]),pn=a.default.div.withConfig({displayName:"FloatingPlanHeader__TableHead",componentId:"sc-1wb713e-4"})(["display:grid;grid-template-columns:612px 1fr 1fr 1.3fr;width:100%;transform:translateX(-8px);"]),mn=Object(a.default)(v.a).attrs({from:"bottom",duration:.2}).withConfig({displayName:"FloatingPlanHeader__TableColumn",componentId:"sc-1wb713e-5"})(["position:relative;",";"],b.Headings["heading-02"]);var gn=({isVisible:e,currentKey:t,onCloseModalClick:n})=>{const a=Object(r.a)(),i="features"===t;return Object(T.jsxs)(ln,{show:e,distance:96,from:"top",children:[Object(T.jsx)(dn,{children:Object(T.jsx)(y.a.ModalCloseButton,{onClick:n})}),Object(T.jsxs)(cn,{children:[Object(T.jsx)(un,{show:!i,children:a.formatMessage({id:A.d.subscriptionPlanModalTitle})},t),Object(T.jsx)(pn,{children:[A.d.features,"common.subscriptionPlanDialog.table.features.planType.starter","common.subscriptionPlanDialog.table.features.planType.pro","common.subscriptionPlanDialog.table.features.planType.enterprise"].map(e=>Object(T.jsx)(mn,{show:i,children:a.formatMessage({id:e})},e))})]})]})},hn=(n("E9XD"),n("DzJC")),bn=n.n(hn);var fn=({children:e,verticalOffset:t=0})=>{const[n,a]=Object(i.useState)(null),[o,r]=Object(i.useState)(null),[s,l]=Object(i.useState)("DOWN"),c=Object(i.useRef)(null),d=Object(i.useRef)(n),u=Object(i.useRef)(0),p=Object(i.useRef)("DOWN"),m=Object(i.useCallback)(()=>{const e=document.querySelector("[data-scroll]");return null!=e?e:window||document.documentElement},[]),g=Object(i.useCallback)(()=>{var e;const t=document.querySelector("[data-scroll]");return null!=(e=null==t?void 0:t.scrollTop)?e:window.pageYOffset||document.documentElement.scrollTop},[]),h=Object(i.useCallback)(()=>{const e=g(),t=e>u.current?"DOWN":"UP";s!==t&&l(t),u.current=e,p.current=t},[s,g]),b=Object(i.useCallback)(()=>{var e;return null==(e=c.current)?void 0:e.reduce((e,n,a)=>{const{top:i}=n.getBoundingClientRect(),o=i<(0===a?0:t),r=n.dataset.trigger;return r&&(e[r]={isPassed:o,order:a}),e},{})},[t]),f=Object(i.useCallback)(()=>{const e=b();if(null!=d.current&&e){let n=null;if(Object.keys(d.current).some(t=>{var a;const i=(null==(a=d.current)?void 0:a[t].isPassed)!==e[t].isPassed;return i&&(n=t),i})&&n){if("DOWN"===p.current&&r(n),"UP"===p.current){var t;const e=[];Object.keys(d.current).sort((e,t)=>{var n,a;return(null==(n=d.current)?void 0:n[e].order)-(null==(a=d.current)?void 0:a[t].order)}).forEach(t=>{var n;null!=(n=d.current)&&n[t].isPassed&&e.push(t)});const n=null!=(t=e[e.length-2])?t:null;r(n)}a(e),d.current=e}}},[b,d]),j=Object(i.useCallback)(()=>{(()=>{var e;const t=null!=(e=document.querySelector("[data-scroll]"))?e:document;c.current=[...t.querySelectorAll("[data-trigger]")]})();const e=b();e&&a(e)},[b]),x=Object(i.useCallback)(()=>{bn()(()=>{h(),f()},100)()},[h,f]);return Object(i.useEffect)(()=>{d.current=n},[n]),Object(i.useEffect)(()=>{j()},[j]),Object(i.useEffect)(()=>{const e=m();return e&&e.addEventListener("scroll",x),()=>{e&&e.removeEventListener("scroll",x)}},[b,m,d,x]),Object(T.jsx)(T.Fragment,{children:e({isScrollPassed:n,currentKey:o})})};const jn=a.default.div.withConfig({displayName:"SubscriptionPlanModal__Container",componentId:"ovvz8g-0"})(["display:flex;flex-direction:column;align-items:center;width:1024px;margin:0 auto;"]);var xn=Object(a.default)(b.Button).withConfig({displayName:"SubscriptionPlanModal___StyledButton",componentId:"ovvz8g-1"})(["margin-top:32px;"]),yn=Object(a.default)(b.Icon).withConfig({displayName:"SubscriptionPlanModal___StyledIcon",componentId:"ovvz8g-2"})(["margin-left:4px;"]);var On,vn=()=>{const e=Object(r.a)(),t=Object(s.f)(),n=Object(l.k)(),{isOrganizationDeactivated:a}=Object(j.a)(),{isLoading:o,isLoaded:u,subscriptions:p}=Object(i.useContext)(f.a),m=Object(i.useRef)(null),{isFetching:g,plans:h,planA1kAvailable:O}=Object(ut.b)(),{uid:v,cardInfo:_}=Object(s.g)(e=>({uid:e.organizations.current.uid,cardInfo:e.billing.cardInfo})),{current:w,future:C}=p[d.bc.Chat],S=w&&"SALES_CUSTOM"===w.subscription_type,[M,k]=Object(i.useState)(!1),[I,P]=Object(i.useState)(!1),A=(null==w?void 0:w.subscription_name)===d.ac.PlanA1K,N=(null==C?void 0:C.subscription_name)===d.ac.PlanA1K,D=O&&(I||A||N),E=()=>{var e;null==(e=m.current)||e.scrollTo(0,0)},L=Object(i.useCallback)(()=>{var e,t;a?n.push("/deactivated"):null!=(e=n.location.state)&&e.goBackTo?n.push(n.location.state.goBackTo):null!=(t=n.location.state)&&t.background?n.push(n.location.state.background.pathname):n.push("/settings/general")},[n,a]);return Object(i.useEffect)(()=>{u&&k(!0)},[u]),Object(i.useEffect)(()=>{v&&t(c.b.fetchCardInfoRequest({organization_uid:v}))},[t,v]),S?Object(T.jsx)(l.c,{to:"/settings/general"}):Object(T.jsx)(x.a,{id:"SubscriptionPlanModal",ref:m,isLoading:g||o,"aria-labelledby":"SubscriptionPlanModalTitle","aria-describedby":"SubscriptionPlanModalDescription",onClose:L,children:!g&&M&&Object(T.jsx)(fn,{verticalOffset:44,children:({isScrollPassed:t,currentKey:n})=>Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(gn,{isVisible:!!t&&Object.keys(t).some(e=>t[e].isPassed),currentKey:n,onCloseModalClick:L}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(y.a.Title,{id:"SubscriptionPlanModalTitle","data-trigger":"subscriptionPlanModalTitle",children:e.formatMessage({id:"common.subscriptionPlanDialog.title"})}),Object(T.jsx)(y.a.Subtitle,{id:"SubscriptionPlanModalDescription",children:e.formatMessage({id:"common.subscriptionPlanDialog.subTitle"})})]}),Object(T.jsx)(sn,{currentSubscription:w,futureSubscription:C,plans:h,cardInfo:_,setIs1kInterested:P,planA1kAvailable:O,showStarter1kOption:D}),Object(T.jsx)(rt,{plans:h,showStarter1kOption:D}),Object(T.jsx)(Xe,{showStarter1kOption:D}),Object(T.jsx)(jn,{children:Object(T.jsxs)(xn,{buttonType:"secondary",variant:"ghost",onClick:E,children:[e.formatMessage({id:"common.subscriptionPlanDialog.button.scrollToTop"}),Object(T.jsx)(yn,{icon:"arrow-up",size:20,color:Object(b.cssVariables)("neutral-9")})]})})]})})})},_n=n("f0Wu"),wn=n.n(_n),Cn=n("xJLq");!function(e){e.Available="Available",e.InUse="InUse",e.Scheduled="Scheduled",e.Disabled="Disabled"}(On||(On={}));const Sn=[{subscription_name:d.ac.Community,name:"Community",details:{pricing:"Free",community:"Yes",apiStatus:"Yes"}},{subscription_name:d.ac.SupportL0,name:"Base",details:{pricing:"Included in Paid Plan",community:"Yes",apiStatus:"Yes",guaranteedFirstResponseTime:"Best effort",ticketSupportInEmail:"Yes (8x5)"}},{subscription_name:d.ac.SupportL1,name:"L1",details:{pricing:"4% of monthly\nor (min. $1,000/mo) *",apiStatus:"Yes",community:"Yes",guaranteedFirstResponseTime:"P1 - 3 business hrs\nP2 - 6 business hrs\nP3 - 16 business hrs",ticketSupportInEmail:"Yes (8x5)"}},{subscription_name:d.ac.SupportL2,name:"L2",details:{pricing:"6% of monthly\nor (min. $2,000/mo) *",community:"Yes",apiStatus:"Yes",guaranteedFirstResponseTime:"P1 - 2 business hrs\nP2 - 4 business hrs\nP3 - 8 business hrs",ticketSupportInEmail:"Yes (8x5)",emergencyHotline:"Yes"}},{subscription_name:d.ac.SupportL3,name:"L3",details:{pricing:"8% of monthly\nor (min. $5,000/mo) *",community:"Yes",apiStatus:"Yes",guaranteedFirstResponseTime:"P1 - 1 hr (24x7)\nP2 - 3 business hrs\nP3 - 6 business hrs",ticketSupportInEmail:"Yes (24x7)",emergencyHotline:"Yes",slackSupport:"Optional with extra payment",customerSuccessManager:"Yes",quarterlyBusinessReview:"Yes"}}],Mn=a.default.div.withConfig({displayName:"SupportPlanModal__ModalBody",componentId:"sc-54gg56-0"})(["display:flex;flex-direction:column;align-items:center;width:1024px;margin:0 auto;"]),kn=a.default.div.withConfig({displayName:"SupportPlanModal__SupportPlansWrapper",componentId:"sc-54gg56-1"})(["width:100%;padding:24px;margin-bottom:32px;border:1px solid ",";border-radius:4px;"],Object(b.cssVariables)("neutral-3")),In=a.default.table.withConfig({displayName:"SupportPlanModal__SupportPlansTable",componentId:"sc-54gg56-2"})(["border-collapse:collapse;tr{border-bottom:1px solid ",";}td{vertical-align:top;padding:12px 8px;font-size:14px;line-height:20px;color:",";white-space:pre-wrap;}thead{border-bottom:1px solid ",";th{width:165px;height:112px;padding:16px 8px 12px;}th:first-child{width:120px;}}tbody > tr td:first-child{width:120px;word-break:break-word;font-size:13px;font-weight:600;line-height:16px;}"],Object(b.cssVariables)("neutral-3"),Object(b.cssVariables)("neutral-10"),Object(b.cssVariables)("neutral-3")),Pn=a.default.div.withConfig({displayName:"SupportPlanModal__SupportPlanHeader",componentId:"sc-54gg56-3"})(["display:flex;flex-direction:column;"]),An=a.default.div.withConfig({displayName:"SupportPlanModal__SupportPlanNameWrapper",componentId:"sc-54gg56-4"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin-bottom:20px;height:52px;"]),Tn=a.default.div.withConfig({displayName:"SupportPlanModal__SupportPlanName",componentId:"sc-54gg56-5"})([""," color:",";"],b.Headings["heading-05"],({status:e})=>e===On.InUse?Object(b.cssVariables)("purple-7"):e===On.Disabled?Object(b.cssVariables)("neutral-6"):Object(b.cssVariables)("neutral-10")),Nn=a.default.div.withConfig({displayName:"SupportPlanModal__SupportPlanStatusWrapper",componentId:"sc-54gg56-6"})(["display:flex;height:32px;align-items:center;"]),Dn=a.default.div.withConfig({displayName:"SupportPlanModal__ScheduledDate",componentId:"sc-54gg56-7"})([""," color:",";"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-7")),En=a.default.div.withConfig({displayName:"SupportPlanModal__CurrentPlan",componentId:"sc-54gg56-8"})(["display:flex;align-items:center;justify-content:center;width:100%;height:32px;border:1px solid ",";border-radius:4px;"," color:",";"],Object(b.cssVariables)("neutral-2"),b.Headings["heading-01"],Object(b.cssVariables)("purple-7")),Ln=a.default.div.withConfig({displayName:"SupportPlanModal__FreeTrialOnly",componentId:"sc-54gg56-9"})(["",";color:",";"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-7")),Fn=a.default.p.withConfig({displayName:"SupportPlanModal__Footnote",componentId:"sc-54gg56-10"})(["margin-top:16px;"," color:",";text-align:right;"],b.Subtitles["subtitle-01"],Object(b.cssVariables)("neutral-10")),zn=a.default.div.withConfig({displayName:"SupportPlanModal__DetailsWrapper",componentId:"sc-54gg56-11"})(["width:100%;border-bottom:1px solid ",";"],Object(b.cssVariables)("neutral-3")),Rn=a.default.div.withConfig({displayName:"SupportPlanModal__DetailWrapper",componentId:"sc-54gg56-12"})(["display:flex;flex-direction:row;margin-bottom:32px;"]),Bn=a.default.div.withConfig({displayName:"SupportPlanModal__DetailName",componentId:"sc-54gg56-13"})(["width:232px;"," color:",";"],b.Subtitles["subtitle-02"],Object(b.cssVariables)("neutral-10")),Vn=a.default.div.withConfig({displayName:"SupportPlanModal__DetailDescriptionWrapper",componentId:"sc-54gg56-14"})(["width:calc(1024px - 232px);padding-left:32px;"," color:",";"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-10")),Un=Object(a.default)(b.Table).withConfig({displayName:"SupportPlanModal__SupportPriorityTable",componentId:"sc-54gg56-15"})(["margin-top:16px;strong{font-weight:600;}td{white-space:pre-wrap;}"]),qn=a.default.p.withConfig({displayName:"SupportPlanModal__Policy",componentId:"sc-54gg56-16"})(["margin-top:32px;"," color:",";"],b.Typography["label-03"],Object(b.cssVariables)("neutral-6")),Wn=a.default.span.withConfig({displayName:"SupportPlanModal__Asterisk",componentId:"sc-54gg56-17"})(["color:",";"],Object(b.cssVariables)("red-5"));var Hn=Object(a.default)(b.Icon).withConfig({displayName:"SupportPlanModal___StyledIcon",componentId:"sc-54gg56-18"})(["margin-left:4px;"]),$n=Object(a.default)(b.ContextualHelp).withConfig({displayName:"SupportPlanModal___StyledContextualHelp",componentId:"sc-54gg56-19"})(["width:100%;"]),Yn=Object(a.default)(b.Button).withConfig({displayName:"SupportPlanModal___StyledButton",componentId:"sc-54gg56-20"})(["width:100%;"]),Kn=Object(a.default)(b.Button).withConfig({displayName:"SupportPlanModal___StyledButton2",componentId:"sc-54gg56-21"})(["width:100%;"]),Gn=Object(a.default)(b.Button).withConfig({displayName:"SupportPlanModal___StyledButton3",componentId:"sc-54gg56-22"})(["margin-top:32px;"]),Xn=Object(a.default)(b.Icon).withConfig({displayName:"SupportPlanModal___StyledIcon2",componentId:"sc-54gg56-23"})(["margin-left:2px;"]);var Qn=()=>{const e=Object(l.k)(),t=Object(i.useRef)(null),{current:n,future:o}=Object(i.useContext)(Cn.a),r=()=>{e.push("/settings/contact_us?category=pricing")},s=Object(i.useCallback)(()=>{var t;null!=(t=e.location.state)&&t.background?e.goBack():e.push("/settings/general")},[e]),c=(e,t)=>e===On.Scheduled?Object(T.jsx)(Dn,{children:o?`Starts on ${wn()(o.start_date).format(d.A)})`:"Scheduled"}):e===On.InUse?Object(T.jsxs)(En,{"data-test-id":"SupportPlanModalCurrentPlan",children:["Current plan",Object(T.jsx)(Hn,{icon:"done",size:16,color:Object(b.cssVariables)("purple-7")})]}):t===d.ac.Community?Object(T.jsx)(Ln,{"data-test-id":"SupportPlanFreeTrialOnly",children:"Free trial only"}):e===On.Disabled?Object(T.jsx)($n,{content:"You can't choose because you are already scheduling to change to another plan.",placement:"bottom",tooltipContentStyle:Object(a.css)(["width:256px;margin-top:3px;text-align:left;font-weight:400;"]),children:Object(T.jsx)(Yn,{buttonType:"primary",size:"small",disabled:!0,"data-test-id":"SupportPlanModalDisabledContactSales",children:"Contact sales"})}):Object(T.jsx)(Kn,{buttonType:"primary",size:"small","data-test-id":"SupportPlanContactSales",onClick:r,children:"Contact sales"});return Object(T.jsxs)(x.a,{ref:t,id:"SupportPlanModal","aria-labelledby":"SupportPlanModalTitle","aria-describedby":"SupportPlanModalDescription",onClose:s,children:[Object(T.jsxs)(y.a,{children:[Object(T.jsx)(y.a.Title,{id:"SupportPlanModalTitle",children:"Sendbird Support Plans"}),Object(T.jsxs)(y.a.Subtitle,{id:"SupportPlanModalDescription",children:[Object(T.jsx)("strong",{children:"24x7 global support, guaranteed response times, customer success manager, slack support"}),Object(T.jsx)("br",{}),"Sendbird provides customers with several support options. The base plan comes free with any paid plan. Starter and Pro customers can optionally upgrade to Level 1 support for guaranteed response times. Enterprise plan customers can upgrade to any level of their choosing."]})]}),Object(T.jsxs)(Mn,{children:[Object(T.jsxs)(kn,{children:[Object(T.jsxs)(In,{children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{}),Sn.map(({subscription_name:e,name:t},a)=>{const i=(e=>(n?n.subscription_name===e:e===d.ac.Community)?On.InUse:o&&o.subscription_name===e?On.Scheduled:o&&o.subscription_name!==e?On.Disabled:On.Available)(e);return Object(T.jsx)("th",{children:Object(T.jsxs)(Pn,{children:[Object(T.jsxs)(An,{children:[Object(T.jsx)(Tn,{status:i,children:t}),i===On.InUse&&Object(T.jsx)(b.Lozenge,{variant:b.LozengeVariant.Light,color:"purple",children:"IN USE"}),i===On.Scheduled&&Object(T.jsx)(b.Lozenge,{variant:b.LozengeVariant.Light,color:"blue",children:"SCHEDULED"})]}),Object(T.jsx)(Nn,{children:c(i,e)})]})},a)})]})}),Object(T.jsxs)("tbody",{children:[Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"Pricing"}),Sn.map(({details:{pricing:e}},t)=>Object(T.jsx)("td",{children:e.split(/(\*)/).map(e=>{const t="*"===e?Wn:i.Fragment;return Object(T.jsx)(t,{children:e},e)})},t))]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"Community Access/Support"}),Sn.map(({details:{community:e}},t)=>Object(T.jsx)("td",{children:e},t))]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"API Status (in Q2)"}),Sn.map(({details:{apiStatus:e}},t)=>Object(T.jsx)("td",{children:e},t))]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"Guaranteed first response time"}),Sn.map(({details:{guaranteedFirstResponseTime:e}},t)=>Object(T.jsx)("td",{children:e||d.Z},t))]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"Ticket Support in Email"}),Sn.map(({details:{ticketSupportInEmail:e}},t)=>Object(T.jsx)("td",{children:e||d.Z},t))]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"Emergency Hotline"}),Sn.map(({details:{emergencyHotline:e}},t)=>Object(T.jsx)("td",{children:e||d.Z},t))]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"Slack Support"}),Sn.map(({details:{slackSupport:e}},t)=>Object(T.jsx)("td",{children:e||d.Z},t))]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"Customer success manager"}),Sn.map(({details:{customerSuccessManager:e}},t)=>Object(T.jsx)("td",{children:e||d.Z},t))]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"Quarterly business review"}),Sn.map(({details:{quarterlyBusinessReview:e}},t)=>Object(T.jsx)("td",{children:e||d.Z},t))]})]})]}),Object(T.jsxs)(Fn,{children:[Object(T.jsx)(Wn,{children:"*"})," Annual pricing is available upon request"]})]}),Object(T.jsxs)(zn,{children:[Object(T.jsxs)(Rn,{children:[Object(T.jsx)(Bn,{children:"Guaranteed first response time"}),Object(T.jsxs)(Vn,{children:["The speed of our support team's response time depends on the priority level you select when you submit your ticket, your support plan, and how your plan works with our business hours. Your ticket’s priority level can be reclassified by the agent to be higher or lower based on how an issue impacts your business.",Object(T.jsx)(Un,{columns:[{title:"Priority",dataIndex:"priority",width:"88px"},{title:"Status",dataIndex:"status",width:"392px",render:({status:e})=>e},{title:"L1",dataIndex:"l1",width:"88px"},{title:"L2",dataIndex:"l2",width:"88px"},{title:"L3",dataIndex:"l3",width:"88px"}],dataSource:[{priority:"P1",status:Object(T.jsxs)("p",{children:[Object(T.jsx)("strong",{children:"Key functionality impaired in production: No workaround"}),Object(T.jsx)("br",{}),"Only applies to apps in production for key functionality. Represents a complete loss of service or significant features that are completely unavailable, and no workaround exists. Features in Early Access Program (EAP) do not apply."]}),l1:"Within 3\nbusiness hours",l2:"Within 2\nbusiness hours",l3:"Within 1\nhr(24x7)"},{priority:"P2",status:Object(T.jsxs)("p",{children:[Object(T.jsx)("strong",{children:"Moderate impact in production with workaround"}),Object(T.jsx)("br",{}),"Includes intermittent issues and reduced quality of service in production. A workaround may be available. Features in Early Access Program (EAP) do not apply."]}),l1:"Within 6\nbusiness hours",l2:"Within 4\nbusiness hours",l3:"Within 3\nbusiness hours"},{priority:"P3",status:Object(T.jsxs)("p",{children:[Object(T.jsx)("strong",{children:"General Issue"}),Object(T.jsx)("br",{}),"Includes bugs and development issues, product questions and enhancement requests."]}),l1:"Within 16\nbusiness hours",l2:"Within 8\nbusiness hours",l3:"Within 6\nbusiness hours"}]})]})]}),Object(T.jsxs)(Rn,{children:[Object(T.jsx)(Bn,{children:"Business Hour and Day"}),Object(T.jsx)(Vn,{children:"The business day runs from 8AM to 5PM local time per the time zone selected by the customer (PT, KST) from Monday through Friday, excluding local public holidays."})]})]}),Object(T.jsx)(qn,{children:"Sendbird may, at its sole discretion, update these support plans at any time; however, in no event will any update to these support plans result in any material reduction in the features of the individual support plan to which you are subscribed at the time of such update. The then-current support plans will be available on this webpage."}),Object(T.jsxs)(Gn,{buttonType:"secondary",variant:"ghost",onClick:()=>{var e;null==(e=t.current)||e.scrollTo(0,0)},children:["Move to top ",Object(T.jsx)(Xn,{icon:"arrow-up",size:20,color:Object(b.cssVariables)("neutral-9")})]})]})]})},Jn=n("ByFW"),Zn=n("hZco"),ea=n("NKCw"),ta=n("qPyV"),na=n.n(ta),aa=n("cAlb"),ia=n("26RP");const oa={value:"infinite scroll observer",label:""},ra=a.default.div.withConfig({displayName:"AppIdSelect__ObserverItem",componentId:"sc-1acmee9-0"})(["position:relative;top:-48px;"]),sa=a.default.div.withConfig({displayName:"AppIdSelect__ItemContainer",componentId:"sc-1acmee9-1"})(["overflow:hidden;"]),la=Object(a.default)(m.lb).withConfig({displayName:"AppIdSelect__AppID",componentId:"sc-1acmee9-2"})(["font-size:14px;font-weight:500;line-height:20px;color:inherit;"]),ca=Object(a.default)(m.lb).withConfig({displayName:"AppIdSelect__AppName",componentId:"sc-1acmee9-3"})(["font-size:12px;font-weight:400;line-height:16px;color:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;"]);var da=Object(a.default)("div").withConfig({displayName:"AppIdSelect___StyledDiv",componentId:"sc-1acmee9-4"})(["padding-top:40px;padding-bottom:44px;",";color:",";text-align:center;"],e=>e._css,e=>e._css2);const ua=({name:e,label:t,width:n,size:a,placeholder:o,disabled:s,error:l,selectedItem:c,onChange:d,applications:u,applicationSearch:{fetchNextResults:p,updateSearchQuery:m,searchQuery:g,hasMore:h}})=>{const f=Object(r.a)(),j=e=>{const t=new IntersectionObserver(([e])=>{e.isIntersecting&&p()},{root:null==e?void 0:e.closest('ul[role="listbox"]')});return e&&t.observe(e),()=>{t.disconnect()}},x=Object(i.useMemo)(()=>u.map(({app_id:e})=>({value:e,label:e})).concat(h?[oa]:[]),[h,u]),y=Object(i.useMemo)(()=>c?{value:c,label:c}:null,[c]),O=Object(T.jsx)(da,{_css:b.Subtitles["subtitle-01"],_css2:Object(b.cssVariables)("neutral-5"),children:f.formatMessage({id:"common.support.form.label.appIdSearchNoResults"})});return Object(T.jsx)(b.InputSelect,{name:e,label:t,items:x,width:n,size:a,selectedItem:y,onChange:e=>d(null==e?void 0:e.value),disabled:s,placeholder:o,itemToElement:({value:e})=>{const t=u.find(t=>t.app_id===e);return e===oa.value?Object(T.jsx)(ra,{ref:j}):Object(T.jsxs)(sa,{children:[Object(T.jsx)(la,{content:null==t?void 0:t.app_id,highlightedText:g}),Object(T.jsx)(ca,{content:null==t?void 0:t.app_name,highlightedText:g})]})},isItemDisabled:e=>e.value===oa.value,itemToString:e=>e.label,useSearch:!0,searchPlaceholder:f.formatMessage({id:"common.support.form.label.appIdSearchPlaceholder"}),onSearchChange:m,emptyView:O,error:l})},pa=(a.default.a.withConfig({displayName:"components__SupportPolicy",componentId:"htzz5o-0"})(["font-size:14px;"]),Object(a.default)(b.InputText).withConfig({displayName:"components__SupportInput",componentId:"htzz5o-1"})(["height:40px;color:",";&:focus{box-shadow:none;}",";"],Object(b.cssVariables)("neutral-10"),e=>e.readOnly?Object(a.css)(["&:focus{border:1px solid ",";}"],Object(b.cssVariables)("neutral-3")):"")),ma=Object(a.default)(m.i).withConfig({displayName:"components__SupportTextarea",componentId:"htzz5o-2"})(["min-height:120px;color:",";"],Object(b.cssVariables)("neutral-10")),ga=a.default.div.withConfig({displayName:"components__SupportFormSet",componentId:"htzz5o-3"})(["position:relative;& + &{margin-top:24px;}.Select-control{height:40px;}.Select-value-label{color:"," !important;}.Select-value{line-height:38px;}",";"],Object(b.cssVariables)("neutral-10"),e=>e.hasError?Object(a.css)(["","{border:1px solid ",";}","{border:1px solid ",";}"],pa,Object(b.cssVariables)("red-5"),ma,Object(b.cssVariables)("red-5")):""),ha=(Object(a.default)(ga).withConfig({displayName:"components__HalfSupportFormSet",componentId:"htzz5o-4"})(["width:48%;display:inline-block;vertical-align:top;& + &{margin-left:4%;margin-top:0;}"]),a.default.div.withConfig({displayName:"components__SupportFormError",componentId:"htzz5o-5"})(["margin-top:4px;margin-bottom:4px;font-size:12px;line-height:1;color:",";"],Object(b.cssVariables)("red-5")),Object(a.default)(m.bb).withConfig({displayName:"components__SupportFormAction",componentId:"htzz5o-6"})(["margin-top:24px;"])),ba=a.default.div.withConfig({displayName:"components__SupportCommunity",componentId:"htzz5o-7"})(["padding:16px;background:",";border-radius:4px;font-size:14px;font-weight:500;line-height:20px;letter-spacing:-0.13px;color:",";display:flex;flex-direction:column;"],Object(b.cssVariables)("neutral-1"),Object(b.cssVariables)("neutral-10")),fa=a.default.h3.withConfig({displayName:"components__SCTitle",componentId:"htzz5o-8"})(["font-size:16px;font-weight:500;line-height:20px;letter-spacing:-0.15px;margin-bottom:8px;"]),ja=a.default.p.withConfig({displayName:"components__SCDescription",componentId:"htzz5o-9"})(["font-size:14px;line-height:20px;color:",";margin-bottom:24px;"],Object(b.cssVariables)("neutral-7")),xa=a.default.div.withConfig({displayName:"components__SCLink",componentId:"htzz5o-10"})(["flex-grow:1;"]),ya=a.default.div.withConfig({displayName:"components__CommunityPlanGuide",componentId:"htzz5o-11"})(["margin:24px 0;font-size:14px;line-height:20px;letter-spacing:-0.1px;color:",";p{margin-bottom:8px;}& + button{width:100%;justify-content:center;}"],Object(b.cssVariables)("neutral-10"));var Oa=n("TFIY");const va=a.default.div.withConfig({displayName:"SupportForm__AttachmentsFormGroup",componentId:"sc-1g80l3-0"})(["display:grid;grid-template-columns:1fr 1fr;align-items:center;"]),_a=a.default.label.withConfig({displayName:"SupportForm__AttachmentsLabel",componentId:"sc-1g80l3-1"})(["color:",";font-size:12px;font-weight:500;"],Object(b.cssVariables)("neutral-10")),wa=a.default.label.withConfig({displayName:"SupportForm__AttachmentsInput",componentId:"sc-1g80l3-2"})(["display:flex;justify-content:flex-end;input[type='file']{display:none;}"]),Ca=a.default.ul.withConfig({displayName:"SupportForm__AttachmentsFiles",componentId:"sc-1g80l3-3"})(["border-top:1px solid ",";margin-top:8px;padding-top:18px;padding-bottom:10px;list-style:none;li{display:flex;align-items:center;& + &{margin-top:4px;}}"],Object(b.cssVariables)("neutral-3")),Sa=a.default.div.withConfig({displayName:"SupportForm__AttachmentFileName",componentId:"sc-1g80l3-4"})(["",";color:",";max-width:468px;margin-right:2px;"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-7")),Ma=a.default.p.withConfig({displayName:"SupportForm__AttachmentsHelpText",componentId:"sc-1g80l3-5"})(["margin-top:8px;border-top:1px solid ",";padding-top:8px;display:flex;justify-content:flex-end;",";color:",";"],Object(b.cssVariables)("neutral-3"),b.Body["body-short-01"],Object(b.cssVariables)("neutral-6")),ka={sales_inquiry:"Sales Inquiry",best_practices_and_strategy_questions:"Best Practices & Strategy Questions",technical_issue:"Technical Issue",feedback_and_feature_request:"Feedback & Feature Request",other_issues:"Other issues",subscription_and_billing:"Subscription & Billing",pricing:"Subscription & Billing",service_limit_increase:"Service Limit Increase"},Ia=["Sales Inquiry","Service Limit Increase","Subscription & Billing"],Pa=["Best Practices & Strategy Questions","Technical Issue","Feedback & Feature Request"],Aa=[...Pa,"Other issues"],Ta=[...Ia,...Aa],Na=["Chat","Calls","Desk","Dashboard"],Da=["Platform API","JavaScript","Android","iOS"],Ea=[...Da,".Net","Unity","Others"],La=["P3: General Issue","P2: Moderate impact in Production with workarounds","P1: Key functionality impaired in Production: No workarounds"],Fa={Product__c:"Chat",Development_Platform__c:"Platform API",Subject:"Error type: Free trial couldn't be activated.",Issue_Type__c:"Technical Issue",Priority:"P3: General Issue",Attachments:null};var za=Object(a.default)("div").withConfig({displayName:"SupportForm___StyledDiv",componentId:"sc-1g80l3-6"})(["white-space:pre-line;"]);const Ra=o.a.memo(()=>{const e=Object(r.a)(),t=Object(l.k)(),n=Object(u.W)(),[o,s]=Object(i.useState)(!1),[c,p]=Object(i.useState)([]),{isFreeTrialMissing:m,isLoading:g}=Object(h.b)(),{isAvailable:f,isLoading:j}=Object(Oa.a)(),{fetchNextResults:x,items:y,updateSearchQuery:v,searchQuery:_,hasMore:w}=Object(u.f)(d.b,"app_name",u.b.AppNameOrAppID),C=Object(i.useRef)(null),{control:S,errors:M,handleSubmit:k,register:I,reset:P,watch:A,setValue:N}=Object(ea.d)({mode:"onChange",defaultValues:{Product__c:null,Development_Platform__c:null,App_ID__c:"",Subject:"",Description:"",Issue_Type__c:null,Priority:null,Attachments:null}});Object(i.useEffect)(()=>{var e;const n=Je.a.parse(t.location.search.slice(1)),a=null!=(e=n.subject)?e:null,i=Object.prototype.hasOwnProperty.call(n,"category")?n.category:"";j&&(ka[i]&&N("Issue_Type__c",ka[i],{shouldValidate:!0}),a&&N("Subject",a))},[j,t.location,N]),Object(i.useEffect)(()=>{var e,t;m&&[{name:"Product__c",value:Fa.Product__c},{name:"Development_Platform__c",value:Fa.Development_Platform__c},{name:"App_ID__c",value:null!=(e=null==(t=y[0])?void 0:t.app_id)?e:""},{name:"Subject",value:Fa.Subject},{name:"Issue_Type__c",value:Fa.Issue_Type__c},{name:"Priority",value:Fa.Priority},{name:"Attachments",value:null}].forEach(({name:e,value:t})=>N(e,t))},[y,m,N]);const D=A("Product__c"),E=[{label:e.formatMessage({id:"common.support.form.label.product"}),name:"Product__c",type:"select",placeholder:e.formatMessage({id:"common.support.form.label.productPlaceholder"}),items:Na,validateOptions:{required:e.formatMessage({id:"common.support.form.error.productRequired"})}},{label:e.formatMessage({id:"common.support.form.label.developmentPlatform"}),name:"Development_Platform__c",type:"select",placeholder:e.formatMessage({id:"common.support.form.label.developmentPlatformPlaceholder"}),items:!D||"Calls"!==D&&"Desk"!==D?Ea:Da,validateOptions:{required:e.formatMessage({id:"common.support.form.error.developmentPlatformRequired"})}},{label:e.formatMessage({id:"common.support.form.label.appId"}),name:"App_ID__c",type:"app_id_select",placeholder:e.formatMessage({id:"common.support.form.label.appIdPlaceholder"}),validateOptions:{required:e.formatMessage({id:"common.support.form.error.appIdRequired"})}}],L=Object(i.useCallback)(e=>M[e]?{hasError:!0,message:M[e].message||""}:void 0,[M]),F=e=>({label:e,value:e}),z=g||m,R=({type:e,name:t,label:n,items:a,placeholder:i="",validateOptions:o})=>{if("text"===e)return Object(T.jsx)(ga,{"data-test-id":n,children:Object(T.jsx)(b.InputText,{ref:o?I(o):I,name:t,label:n,defaultValue:"",placeholder:i,disabled:g,readOnly:m,required:!0,error:L(t)},`${t}_${e}_field`)},`${t}_${e}`);if("app_id_select"===e){const a=A(t);return Object(T.jsx)(ga,{"data-test-id":n,children:Object(T.jsx)(ea.a,{name:t,control:S,rules:o||{required:!0},render:({onChange:e})=>Object(T.jsx)(ua,{onChange:e,label:n,width:"100%",size:"medium",disabled:z,applications:y,applicationSearch:{fetchNextResults:x,updateSearchQuery:v,searchQuery:_,hasMore:w},selectedItem:a,placeholder:i,error:L(t)})},`${t}_${e}_field`)},`${t}_${e}`)}if("select"===e){const r=a?a.map(F):[],s=A(t),l=s?{label:s,value:s}:null;return Object(T.jsx)(ga,{"data-test-id":n,children:Object(T.jsx)(ea.a,{name:t,control:S,rules:o||{required:!0},required:!0,render:({onChange:t,onBlur:a,name:o,value:s})=>Object(T.jsx)(b.InputSelect,{onChange:e=>t(null==e?void 0:e.value),value:s,onBlur:a,name:o,label:n,items:r,width:"100%",size:"medium",selectedItem:l,placeholder:i,disabled:z,error:L(o)},`${o}_${e}_field`)})},`${t}_${e}`)}return null},B=A("Issue_Type__c"),V=!m&&B&&Aa.includes(B)&&!f,U=B&&!Ia.includes(B),q=e=>t=>{t.preventDefault(),p(c.filter(({name:t})=>t!==e.name))};return Object(T.jsxs)("div",{children:[j&&Object(T.jsx)(b.SpinnerFull,{}),Object(T.jsxs)("form",{onSubmit:k(async t=>{try{s(!0);const n=new FormData;Object.keys(t).forEach(e=>{n.append(e,"object"==typeof t[e]?t[e].value:t[e])}),c.length>0&&c.forEach(e=>{n.append("Attachments",e)}),await Object(aa.submitSupportForm)(n),b.toast.success({message:e.formatMessage({id:"common.support.alert.formSubmitted"})})}catch(e){const t=Object(ia.b)(e);b.toast.warning({message:t})}finally{p([])}var n,a;m?[{name:"Product__c",value:Fa.Product__c},{name:"Development_Platform__c",value:Fa.Development_Platform__c},{name:"App_ID__c",value:null!=(n=null==(a=y[0])?void 0:a.app_id)?n:""},{name:"Subject",value:Fa.Subject},{name:"Issue_Type__c",value:Fa.Issue_Type__c},{name:"Priority",value:Fa.Priority},{name:"Description",value:""},{name:"Attachments",value:null}].forEach(({name:e,value:t})=>N(e,t)):P(),s(!1)}),"data-test-id":"SupportForm",style:{display:j?"none":void 0},children:[R({label:e.formatMessage({id:"common.support.form.label.issueType"}),name:"Issue_Type__c",type:"select",placeholder:e.formatMessage({id:"common.support.form.label.issueTypePlaceholder"}),items:Ta,validateOptions:{required:e.formatMessage({id:"common.support.form.error.issueTypeRequired"})}}),V?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(ya,{children:[Object(T.jsx)("p",{children:e.formatMessage({id:"common.support.communityPlanGuide.desc"})}),Object(T.jsx)(b.Link,{onClick:()=>{t.push("/settings/general")},iconProps:{icon:"chevron-right",size:16},children:e.formatMessage({id:"common.support.communityPlanGuide.link"})})]}),Object(T.jsx)(b.Button,{type:"button",buttonType:"primary",onClick:()=>{window.open(`https://community.sendbird.com${"Feedback & Feature Request"===B?"/c/feature-requests":""}`)},icon:"open-in-new",children:e.formatMessage({id:"common.support.communityBanner_btn.cta"})})]}):Object(T.jsxs)(T.Fragment,{children:[Pa.includes(B||"")&&E.map(R),Object(T.jsx)(ga,{children:Object(T.jsx)(b.InputText,{ref:I,name:"Subject",label:e.formatMessage({id:"common.support.form.label.subject"}),placeholder:e.formatMessage({id:"common.support.form.label.subjectPlaceholder"}),disabled:g,readOnly:m,required:!0,error:L(name)},"subject_field")},"subject_formSet"),Object(T.jsx)(ga,{children:Object(T.jsx)(b.InputTextarea,{ref:I,name:"Description",label:Object(T.jsxs)(T.Fragment,{children:[e.formatMessage({id:"common.support.form.label.description"}),Object(T.jsx)(b.ContextualHelp,{content:Object(T.jsx)(za,{children:e.formatMessage({id:"common.support.form.label.descriptionTooltipContent"},{b:e=>Object(T.jsx)("strong",{children:e})})}),tooltipContentStyle:Object(a.css)(["width:400px;font-weight:400;strong{font-weight:600;}"]),children:Object(T.jsx)(b.TooltipTargetIcon,{icon:"info"})})]}),placeholder:e.formatMessage({id:"common.support.form.label.descriptionPlaceholder"}),required:!0,error:L(name),styles:Object(a.css)(["line-height:20px;min-height:108px;"])},"description_field")},"description_formSet"),Pa.includes(B||"")&&Object(T.jsxs)(ga,{style:{marginTop:"8px"},children:[Object(T.jsxs)(va,{children:[Object(T.jsx)(_a,{children:e.formatMessage({id:"common.support.form.label.attachments"})}),Object(T.jsxs)(wa,{children:[Object(T.jsx)(b.Button,{type:"button",buttonType:"tertiary",size:"small",onClick:()=>{var e;null==(e=C.current)||e.click()},children:e.formatMessage({id:"common.support.form.button.addFiles"})}),Object(T.jsx)("input",{ref:C,type:"file",multiple:!0,onChange:t=>{const{files:a}=t.target;if(a){if(a.length>10)return void n({dialogTypes:O.a.Custom,dialogProps:{size:"small",title:e.formatMessage({id:"common.support.attachments.dialog.title"}),description:e.formatMessage({id:"common.support.attachments.dialog.description.length"}),isNegativeButtonHidden:!0,positiveButtonProps:{text:e.formatMessage({id:"common.support.attachments.dialog.ok"}),onClick:()=>{C.current&&(C.current.value="",C.current.click())}}}});if(Array.from(a).some(e=>e.size>=26214400))return void n({dialogTypes:O.a.Custom,dialogProps:{size:"small",title:e.formatMessage({id:"common.support.attachments.dialog.title"}),description:e.formatMessage({id:"common.support.attachments.dialog.description.size"}),isNegativeButtonHidden:!0,positiveButtonProps:{text:e.formatMessage({id:"common.support.attachments.dialog.ok"}),onClick:()=>{C.current&&(C.current.value="",C.current.click())}}}});const t=na()([...c,...Array.from(a)],"name");p(t)}},"data-test-id":"AttachmentsInput"})]})]}),c.length>0&&Object(T.jsx)(Ca,{children:c.map(e=>{const{name:t}=e;return Object(T.jsxs)("li",{children:[Object(T.jsx)(Sa,{children:t}),Object(T.jsx)(b.IconButton,{buttonType:"tertiary",icon:"remove-filled",size:"xsmall",onClick:q(e)})]},`attachment_${t}`)})}),Object(T.jsx)(Ma,{children:e.formatMessage({id:"common.support.form.helpText.attachments"})})]},"attachments_formSet"),U&&R({label:e.formatMessage({id:"common.support.form.label.priorityLevel"}),name:"Priority",placeholder:e.formatMessage({id:"common.support.form.label.priorityLevelPlaceholder"}),type:"select",items:La,validateOptions:{required:e.formatMessage({id:"common.support.form.error.priorityLevelRequired"})}}),Object(T.jsx)(ha,{children:Object(T.jsx)(b.Button,{buttonType:"primary",isLoading:o,disabled:o,styles:"width: 100%;",type:"submit","data-test-id":"SubmitButton",children:e.formatMessage({id:"common.support_btn.submit"})})})]})]})]})}),Ba=a.default.div.withConfig({displayName:"support__StyledSupport",componentId:"t1z5bh-0"})(["max-width:1088px;"]),Va=a.default.div.withConfig({displayName:"support__StyledSupportForm",componentId:"t1z5bh-1"})(["margin-top:24px;display:grid;grid-template-columns:1fr 1fr;grid-column-gap:32px;"]),Ua=a.default.div.withConfig({displayName:"support__SupportSectionWrapper",componentId:"t1z5bh-2"})(["display:flex;flex-direction:column;justify-content:stretch;min-height:636px;padding:24px;border-radius:4px;border:1px solid ",";"],Object(b.cssVariables)("neutral-3")),qa=a.default.div.withConfig({displayName:"support__SupportSection",componentId:"t1z5bh-3"})(["flex:1;display:flex;flex-direction:column;ul{margin:8px 0 24px;list-style:none;li{display:flex;align-items:center;",";color:",";svg{fill:",";margin-right:8px;}& + li{margin-top:8px;}}}"],b.Body["body-short-02"],Object(b.cssVariables)("neutral-7"),Object(b.cssVariables)("purple-7")),Wa=a.default.div.withConfig({displayName:"support__SupportContent",componentId:"t1z5bh-4"})(["border-bottom:1px solid ",";margin-bottom:24px;padding:0 0 24px 16px;"],Object(b.cssVariables)("neutral-3")),Ha=a.default.div.withConfig({displayName:"support__SupportSectionTitle",componentId:"t1z5bh-5"})(["",";color:",";margin-bottom:24px;"],b.Subtitles["subtitle-02"],Object(b.cssVariables)("neutral-10")),$a=a.default.div.withConfig({displayName:"support__SupportSectionLabel",componentId:"t1z5bh-6"})(["",";color:",";"],b.Headings["heading-01"],Object(b.cssVariables)("neutral-10")),Ya=a.default.div.withConfig({displayName:"support__SupportPolicy",componentId:"t1z5bh-7"})(["flex:1;display:flex;align-items:flex-end;font-size:14px;"]),Ka=a.default.div.withConfig({displayName:"support__SupportPolicyText",componentId:"t1z5bh-8"})(["display:flex;align-items:center;"]),Ga=Object(a.default)(b.Link).withConfig({displayName:"support__SupportPolicyLink",componentId:"t1z5bh-9"})(["margin-left:4px;"]),Xa=()=>{const e=Object(r.a)();return Object(T.jsxs)(Ba,{children:[Object(T.jsx)(m.Sb,{children:Object(T.jsx)(m.Sb.Title,{children:e.formatMessage({id:"common.support.title"})})}),Object(T.jsxs)(Va,{children:[Object(T.jsxs)(Ua,{children:[Object(T.jsx)(Ha,{children:e.formatMessage({id:"common.support.categories_header"})}),Object(T.jsxs)(qa,{children:[Object(T.jsxs)(Wa,{children:[Object(T.jsx)($a,{children:e.formatMessage({id:"common.support.categories.technical_title"})}),Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{children:[Object(T.jsx)(b.Icon,{icon:"done",size:20}),e.formatMessage({id:"common.support.categories.technical_lbl.sdk"})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)(b.Icon,{icon:"done",size:20}),e.formatMessage({id:"common.support.categories.technical_lbl.serverAPI"})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)(b.Icon,{icon:"done",size:20}),e.formatMessage({id:"common.support.categories.technical_lbl.reportBug"})]})]}),Object(T.jsx)($a,{children:e.formatMessage({id:"common.support.categories.sales_title"})}),Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{children:[Object(T.jsx)(b.Icon,{icon:"done",size:20}),e.formatMessage({id:"common.support.categories.sales_lbl.inquiry"})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)(b.Icon,{icon:"done",size:20}),e.formatMessage({id:"common.support.categories.sales_lbl.serviceLimit"})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)(b.Icon,{icon:"done",size:20}),e.formatMessage({id:"common.support.categories.sales_lbl.subscription"})]})]}),Object(T.jsx)($a,{children:e.formatMessage({id:"common.support.categories.others_title"})})]}),Object(T.jsxs)(ba,{children:[Object(T.jsx)(fa,{children:e.formatMessage({id:"common.support.communityBanner_title"})}),Object(T.jsx)(ja,{children:e.formatMessage({id:"common.support.communityBanner_lbl.body"})}),Object(T.jsx)(xa,{children:Object(T.jsx)(b.Link,{target:"_blank",href:"https://community.sendbird.com",iconProps:{icon:"chevron-right",size:16},children:e.formatMessage({id:"common.support.communityBanner_btn.cta"})})})]}),Object(T.jsx)(Ya,{children:Object(T.jsx)(Ka,{children:e.formatMessage({id:"common.support_btn.supportPolicy"},{a:e=>Object(T.jsx)(Ga,{iconProps:{icon:"open-in-new",size:16},href:"https://sendbird.com/support-policy",target:"_blank",children:e})})})})]})]}),Object(T.jsx)(Ra,{})]})]})};var Qa=n("RXaK"),Ja=n("2Z9k");const Za=Object(a.default)(m.Pb).withConfig({displayName:"components__SearchInput",componentId:"sc-6m0do7-0"})([""]),ei=a.default.div.withConfig({displayName:"components__SearchInputWrapper",componentId:"sc-6m0do7-1"})(["display:flex;flex-direction:row;align-items:center;margin-bottom:12px;height:32px;font-size:14px;line-height:20px;color:",";font-weight:500;","{margin-left:auto;}"],Object(b.cssVariables)("neutral-8"),Za),ti=a.default.span.withConfig({displayName:"applications__AppName",componentId:"sc-1drf02v-0"})(["color:",";font-weight:500;cursor:pointer;&:hover{text-decoration:underline;}"],Object(b.cssVariables)("purple-7")),ni=Object(a.default)(e=>Object(b.Table)(e)).withConfig({displayName:"applications__ApplicationTable",componentId:"sc-1drf02v-1"})(["flex:1;min-height:96px;"]),ai=Object(a.default)(m.Ub).withConfig({displayName:"applications__ApplicationsPagination",componentId:"sc-1drf02v-2"})(["margin-left:auto;"]),ii=()=>{const e=Object(r.a)(),t=Object(s.f)(),n=Object(u.W)(),{isOrganizationDeactivated:a}=Object(Qa.b)(),{isPermitted:o}=Object(u.h)(),l=Object(i.useContext)(Zn.f),p=Object(s.g)(e=>e.organizations.current);Object(i.useEffect)(()=>(l.setBodyFitToWindow(!0),()=>{l.setBodyFitToWindow(!1)}),[l]);const{page:m,pageSize:g,setPagination:h}=Object(u.Q)(1,10),[f,j]=Object(i.useState)("app_name"),x=Object(u.f)(g,f),y=Object(u.j)(),v=Object(i.useCallback)(e=>{x.updateSearchQuery(e)},[x]),_=Object(i.useCallback)(()=>x.clearSearchQuery(),[x]),w=Object(i.useCallback)(e=>()=>{t(c.c.changeApplicationRequest(e))},[t]),C=Object(i.useCallback)(()=>{o(["organization.applications.all"])&&n({dialogTypes:O.a.CreateApp,dialogProps:{organization:p}})},[o,n,p]),S=e=>{const t=[];return a||t.push({label:"Change app name",onClick:()=>{n({dialogTypes:O.a.ChangeAppName,dialogProps:{application:e}})}}),o(["organization.applications.all"])&&t.push({label:"Delete",onClick:()=>{n({dialogTypes:O.a.DeleteApplication,dialogProps:{application:e}})}}),t},M=Object(i.useCallback)((e,t)=>{x.items.length<e*t&&x.fetchNextResults(),h(e,t)},[x,h]),k=Object(i.useCallback)((e,t)=>{h(1,g),j(e?`${"descend"===t?"-":""}${e.dataIndex}`:"app_name")},[g,h]),I=Object(u.e)(x.items);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Zn.d,{title:e.formatMessage({id:"common.settings.applications_title"}),description:e.formatMessage({id:"common.applications.maxApplicationCount"},{max:Object(T.jsx)("strong",{children:p.max_application_count}),maxCount:p.max_application_count}),actions:o(["organization.applications.all"])?[{key:"create-app",label:e.formatMessage({id:"common.createApp"}),icon:"plus",buttonType:"primary",...a?{disabled:!0}:{}}]:[],onActionPress:C}),Object(T.jsxs)(ei,{children:[e.formatMessage({id:"label.resultCount"},{count:x.count}),Object(T.jsx)(Za,{handleChange:v,handleSearchClear:_,value:x.rawSearchQuery,ph:e.formatMessage({id:"ph.searchApplications"})})]}),Object(T.jsx)(ni,{loading:x.isFetching,columns:[{dataIndex:"app_name",title:e.formatMessage({id:"label.name"}),flex:5,defaultSortOrder:"ascend",sorter:!0,render:e=>y&&!a?Object(T.jsx)(ti,{role:"link",onClick:w(e),children:e.app_name}):e.app_name},{dataIndex:"region",title:e.formatMessage({id:"label.server"}),flex:3,render:e=>I[e.app_id],sorter:!0},{dataIndex:"created_at",title:e.formatMessage({id:"label.created"}),flex:4,render:e=>wn()(e.created_at).format(d.A),sorter:!0}],rowActions:o(["organization.applications.all"])?e=>[Object(T.jsx)(b.OverflowMenu,{items:S(e)},"settingsApplicationsOverflow")]:void 0,onSortByUpdated:k,dataSource:x.items.slice((m-1)*g,m*g),rowKey:"app_id",emptyView:Object(T.jsx)(Ja.a,{icon:"applications",title:e.formatMessage({id:x.isSearchResultVisible?"label.applicationSearchResultEmpty":"label.applicationListEmpty"}),description:e.formatMessage({id:x.isSearchResultVisible?"desc.applicationSearchResultEmpty":"desc.applicationListEmpty"})}),footer:Object(T.jsx)(ai,{current:m,total:x.count,pageSize:g,pageSizeOptions:[10,20,50,100],onChange:M,onItemsPerPageChange:M}),showScrollbars:!0})]})},oi=s.g,ri=Object(i.createContext)({isLoading:!1,cardInfo:null,load:()=>{}}),si=Object(i.createContext)({open:()=>{}}),li=Object(i.createContext)({setOnSuccess:()=>{}}),ci=({children:e})=>{const{isPermitted:t}=Object(u.h)(),n=Object(u.Y)(e=>e.organizations.current.uid),{isLoading:a,cardInfo:o,load:r}=(e=>{const{isSelfService:t}=Object(u.h)(),[{data:n,status:a},o]=Object(u.g)(async()=>await Object(aa.fetchCardInfo)({organization_uid:e}),[e]),r=oi(e=>e.billing.cardInfo),l=oi(e=>e.billing.fetchingCardInfo),d=Object(s.f)(),p=Object(i.useCallback)(()=>d(c.b.fetchCardInfoRequest({organization_uid:e})),[d,e]),m=Object(i.useCallback)(()=>{e&&(t?o:p)()},[t,o,p,e]);return Object(i.useEffect)(()=>{m()},[m]),{isLoading:t?"loading"===a:l,cardInfo:t?null==n?void 0:n.data:r,load:m}})(n),d=Object(s.f)(),p=Object(u.W)(),m=Object(i.useCallback)(()=>d(c.b.hideDialogsRequest()),[d]),g=Object(i.useRef)(),{path:h=""}=Object(l.n)()||{},b=Object(l.k)(),f=Object(u.Y)(e=>{const{dialogTypes:t}=e.dialogs;return t===O.a.RegisterCard}),j="/settings/billing"===h&&"/settings/billing/card"===b.location.pathname,x=Object(i.useCallback)(()=>{b.push("/settings/billing/card")},[b]),y=Object(i.useCallback)(()=>{b.push("/settings/billing")},[b]),v=null!=o;Object(i.useEffect)(()=>{j&&!f?t(["organization.billing.all"])&&n&&v&&(p({dialogTypes:O.a.RegisterCard,dialogProps:{onClose:y,onSuccess:g.current}}),g.current=void 0):!j&&f&&m()},[m,f,j,v,t,y,n,p]);return Object(T.jsx)(ri.Provider,{value:Object(i.useMemo)(()=>({load:r,cardInfo:o,isLoading:a}),[o,a,r]),children:Object(T.jsx)(si.Provider,{value:Object(i.useMemo)(()=>({open:x}),[x]),children:Object(T.jsx)(li.Provider,{value:{setOnSuccess:e=>{g.current=e}},children:e})})})},di=e=>{const{setOnSuccess:t}=Object(i.useContext)(li);return t(e),Object(i.useContext)(si)},ui=()=>Object(i.useContext)(ri);var pi=n("vpus");const mi=Object(a.default)(m.t).withConfig({displayName:"billingContacts__Input",componentId:"kphq98-0"})(["width:100%;margin-bottom:8px;background-color:#fff;"]),gi=e=>{try{const t=JSON.parse(e);return Array.isArray(t)?t:[e]}catch{return[e]}},hi={saveBillingContactsRequest:c.b.saveBillingContactsRequest,saveBillingContactsCancel:c.b.saveBillingContactsCancel,showDialogsRequest:c.b.showDialogsRequest},bi=Object(s.d)(e=>({isSaving:e.billing.isSavingBillingContacts,key:e.billing.lastSavedAt?`${e.billing.lastSavedAt}`:void 0,currentEmails:gi(e.organizations.current.billing_email),organization_uid:e.organizations.current.uid}),hi)(({organization_uid:e,currentEmails:t,isEditing:n,isSaving:a,isSavingOwnProps:o,saveBillingContactsRequest:s,saveBillingContactsCancel:l,showDialogsRequest:c})=>{const p=Object(r.a)(),{isPermitted:m}=Object(u.h)(),g=Object(i.useRef)(null),[h,b]=Object(i.useState)(n||!1),[f,j]=Object(i.useState)(t),x=e=>d.X.test(e),y=t.length!==f.length||t.some(e=>!f.includes(e));return Object(T.jsx)(pi.e,{title:p.formatMessage({id:"label.billingContacts"}),description:p.formatMessage({id:"desc.billingContacts"}),singleColumn:!0,actions:m(["organization.billing.all"])?[{key:"cancel",label:p.formatMessage({id:"label.cancel"}),buttonType:"tertiary",onClick:()=>{var e;b(!1),j(t),null==(e=g.current)||e.resetValues(t),l()}},{key:"save",label:p.formatMessage({id:"label.save"}),buttonType:"primary",type:"submit",disabled:a||!y||!f.length,isLoading:a||o,onClick:()=>{const t=f.find(e=>!x(e));t?c({dialogTypes:O.a.Confirm,dialogProps:{title:"Error",description:p.formatMessage({id:"desc.invalidEmailExists"},{invalidEmail:t}),confirmText:p.formatMessage({id:"label.ok"}),hideCancel:!0}}):s({organization_uid:e,emails:Array.from(new Set(f))})}}]:[],showActions:f.length!==t.length||f.some((e,n)=>e!==t[n]),children:Object(T.jsx)(mi,{ref:g,placeholder:p.formatMessage({id:"ph.billingContacts"}),values:f,readonly:!h,validator:x,onClick:()=>{h||b(!0)},onChange:e=>{j(e)},disabled:a||!m(["organization.billing.all"]),multiline:!0,onFocus:()=>{b(!0)},onBlur:()=>{j(f.filter(x)),b(!1)}})})}),fi=Object(a.default)(m.fc).withConfig({displayName:"creditCard__FlatTable",componentId:"sc-15r21sz-0"})(["box-shadow:none;"]),ji=Object(a.default)(b.Button).withConfig({displayName:"creditCard__RegisterCardButton",componentId:"sc-15r21sz-1"})(["right:-24px;"]),xi=a.default.img.withConfig({displayName:"creditCard__CreditIcon",componentId:"sc-15r21sz-2"})(["max-width:35px;margin-right:8px;"]),yi={alignItems:"flex-start"},Oi=[{...yi,width:140},{...yi,flex:5},{...yi,flex:2},{...yi,flex:2},{...yi,width:140,alignItems:"flex-end"}],vi=()=>{const{isPermitted:e}=Object(u.h)(),{cardInfo:t}=ui(),{open:n}=di();return null==t||Object(g.isEmpty)(t)?Object(T.jsx)(pi.e,{title:"Credit card",description:"No credit card registered.",stretchLabel:!0,children:Object(T.jsx)(b.Button,{buttonType:"primary",onClick:n,disabled:!e(["organization.billing.all"]),children:"Add credit card"})}):Object(T.jsx)(pi.e,{title:"Credit card",singleColumn:!0,children:Object(T.jsxs)(fi,{children:[Object(T.jsx)(m.hb,{children:Object(T.jsxs)(m.Yb,{children:[Object(T.jsx)(m.v,{styles:Oi[0],children:"Card Type"}),Object(T.jsx)(m.v,{styles:Oi[1],children:"Number"}),Object(T.jsx)(m.v,{styles:Oi[2],children:"Name"}),Object(T.jsx)(m.v,{styles:Oi[3],children:"Expiration"}),Object(T.jsx)(m.v,{styles:Oi[4]})]})}),Object(T.jsx)(m.j,{children:Object(T.jsxs)(m.Yb,{children:[Object(T.jsx)(m.v,{styles:Oi[0],children:Object(g.isCardImageExists)(t)&&Object(T.jsx)(xi,{src:Object(g.getCardImage)(t.brand),role:"presentation"})}),Object(T.jsxs)(m.v,{styles:Oi[1],children:["**** **** **** ",t.last4]}),Object(T.jsx)(m.v,{styles:Oi[2],children:t.name}),Object(T.jsxs)(m.v,{styles:Oi[3],children:[t.exp_month," / ",t.exp_year]}),Object(T.jsx)(m.v,{styles:Oi[4],children:e(["organization.billing.all"])&&Object(T.jsx)(ji,{size:"small",buttonType:"tertiary",onClick:n,children:"Change Card"})})]})})]})})},_i=s.g,wi=()=>{const e=_i(e=>e.billing.fetchingCardInfo);return Object(T.jsxs)(ci,{children:[Object(T.jsx)(Zn.d,{title:"Billing"}),Object(T.jsxs)(Zn.c,{children:[e&&Object(T.jsx)(m.cc,{transparent:!0}),Object(T.jsx)(vi,{}),Object(T.jsx)(bi,{})]})]})};var Ci=n("6xwh"),Si=(n("UxlC"),n("Tqso")),Mi=n("Y/nA");const ki=a.default.div.withConfig({displayName:"brancher__BrancherToggle",componentId:"sc-1n0zauu-0"})(["display:flex;align-items:center;font-size:14px;color:",";padding:0 16px;"],Object(b.cssVariables)("neutral-10")),Ii=a.default.div.withConfig({displayName:"brancher__EmptyView",componentId:"sc-1n0zauu-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px 20px;color:",";",""],Object(b.cssVariables)("neutral-7"),b.Subtitles["subtitle-01"]),Pi=()=>{const[e,t]=Object(i.useState)([]),n=Object(s.f)(),{branch:a}=Object(Mi.a)({branch:""}),o=window.cookies.get("sbStagingBranch")||"";Object(i.useEffect)(()=>{Si.a.get(`${Object(Si.h)()}/api/brancher`).then(e=>t(e.data)).catch(()=>t([]))},[]),Object(i.useEffect)(()=>{a!==o&&(e.includes(a)?(window.cookies.set("sbStagingBranch",a,{expires:new Date("2100-01-01"),path:"/"}),location.reload()):o?history.pushState({},"",`${location.pathname}?branch=${o}`):history.pushState({},"",location.pathname))},[a,e,o]);const r=e.map(e=>({key:e,branch:e})),l=[{items:r},{items:[{key:"clear",branch:"Reset to default"}]}];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(b.Dropdown,{toggleRenderer:({selectedItem:e})=>Object(T.jsx)(ki,{children:e?e.branch:"Default"}),selectedItem:r.find(e=>e.branch===o),itemToElement:e=>e.branch,items:r.length>0?l:[],itemsType:"section",emptyView:Object(T.jsx)(Ii,{children:"There is no active branch"}),onChange:e=>{null!=e&&("clear"===e.key?(window.cookies.remove("sbStagingBranch",{path:"/"}),location.replace("/settings/ff")):(window.cookies.set("sbStagingBranch",e.branch,{expires:new Date("2100-01-01"),path:"/"}),location.replace(`${location.pathname}?branch=${e.branch}`)))},width:"100%"}),Object(T.jsx)("br",{}),Object(T.jsx)(b.Button,{buttonType:"tertiary",icon:"remove",onClick:()=>{o?n(c.b.showDialogsRequest({dialogTypes:O.a.Confirm,dialogProps:{description:"Are you sure to delete this branch from the list?",onConfirm:()=>{Si.a.delete(`${Object(Si.h)()}/api/brancher`,{data:{branch:o}}).then(()=>{window.cookies.remove("sbStagingBranch",{path:"/"}),location.replace("/settings/ff")}).catch(e=>{b.toast.error({message:Object(ia.b)(e)})})}}})):b.toast.warning({message:"There is no selected branch."})},children:"Delete selected branch"})]})},{BUILD_MODE:Ai}=Object({NODE_ENV:"production",BUILD_MODE:"production",GATE_URL:"https://gate.sendbird.com"}),Ti=({id:e,title:t,checked:n,onClick:a})=>Object(T.jsx)(pi.i,{title:t,children:Object(T.jsx)(b.Toggle,{name:e,checked:n,onClick:a,"data-test-id":"toggle"})}),Ni=()=>{const{flags:e,toggle:t}=Object(u.t)();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(pi.k,{title:"Feature flags"}),"staging"===Ai&&Object(T.jsx)(pi.i,{title:"Brancher",description:"Select the branch you want to use.",children:Object(T.jsx)(Pi,{})}),Object(T.jsx)(pi.j,{children:Ci.c.map(({id:n,title:a})=>Object(T.jsx)(Ti,{id:n,checked:!!e[n],title:a,onClick:e=>t(n,e)},n))})]})};var Di=n("hdWW"),Ei=n("aTND"),Li=n("lizX");const Fi=({title:e,description:t,field:n,form:a,isFetching:o,readOnly:s=!1})=>{const l=Object(r.a)(),c=Object(i.useCallback)(e=>a.onSubmit(e),[a]),d=Object(i.useCallback)(e=>{e.preventDefault(),a.onSubmit(e)},[a]);return Object(T.jsx)(Li.c,{title:e,titleColumns:4,description:t,actions:[{key:"cancel",label:l.formatMessage({id:"label.cancel"}),buttonType:"tertiary",onClick:a.reset},{key:"save",label:l.formatMessage({id:"label.save"}),buttonType:"primary",onClick:c,isLoading:o,disabled:o}],showActions:n.updatable,children:Object(T.jsx)("form",{onSubmit:d,children:Object(T.jsx)(b.InputText,{ref:n.ref,name:n.name,onChange:n.onChange,placeholder:n.placeholder,disabled:o,error:n.error,readOnly:s})})})};var zi=n("+QRC"),Ri=n.n(zi);const Bi=a.default.div.withConfig({displayName:"APIKey__SectionKey",componentId:"sc-8jmosj-0"})(["border-bottom:1px solid ",";margin-bottom:24px;padding-bottom:24px;display:grid;grid-template-columns:1fr 110px;grid-column-gap:4px;align-items:center;"],Object(b.cssVariables)("neutral-3")),Vi=Object(a.default)(e=>Object(b.Table)(e)).withConfig({displayName:"APIKey__ServerTable",componentId:"sc-8jmosj-1"})(["thead{z-index:0;}"]),Ui=a.default.div.withConfig({displayName:"APIKey__ServerTitle",componentId:"sc-8jmosj-2"})(["font-size:12px;font-weight:500;line-height:1;color:",";display:flex;align-items:center;> div{margin-left:2px;}"],Object(b.cssVariables)("neutral-10")),qi=a.default.div.withConfig({displayName:"APIKey__SectionServer",componentId:"sc-8jmosj-3"})([""]),Wi=({organization:e,showDialogsRequest:t})=>{const n=Object(r.a)(),{isPermitted:o}=Object(u.h)(),[s,l]=Object(i.useState)({api_key:"",last_updated_dt:""});Object(i.useEffect)(()=>{Object(aa.getOrganizationAPIKey)({organization_uid:e.uid}).then(e=>{l(e.data)}).catch(e=>{b.toast.error({message:Object(ia.b)(e)})})},[e.uid]);return Object(T.jsxs)(pi.i,{title:n.formatMessage({id:"common.settings.general.apiKey.title"}),description:n.formatMessage({id:"common.settings.general.apiKey.description"},{a:e=>Object(T.jsx)(b.Link,{href:"https://sendbird.com/docs/chat/v3/platform-api/guides/organization-api",target:"_blank",iconProps:{icon:"open-in-new",size:16},style:{marginTop:"4px"},children:e})}),titleColumns:4,gridItemConfig:{subject:{alignSelf:"start"}},children:[Object(T.jsxs)(Bi,{children:[Object(T.jsx)(b.InputText,{type:"text",label:Object(T.jsxs)(T.Fragment,{children:[n.formatMessage({id:"common.settings.general.apiKey.input.label"}),Object(T.jsx)(b.ContextualHelp,{content:n.formatMessage({id:"common.settings.general.apiKey.input.tooltip"}),placement:"bottom-start",tooltipContentStyle:Object(a.css)(["",";width:258px;"],b.Body["body-short-01"]),children:Object(T.jsx)(b.TooltipTargetIcon,{icon:"info"})})]}),value:s.api_key,helperText:n.formatMessage({id:"common.settings.general.apiKey.input.helpText"},{time:wn()(s.last_updated_dt).format(d.cb)}),readOnly:!0,icons:[{icon:"copy",title:n.formatMessage({id:"common.settings.general.apiKey.input.icon.copy.title"}),onClick:()=>{Ri()(s.api_key),b.toast.success({message:n.formatMessage({id:"common.settings.general.apiKey.copied"})})}}]}),o(["organization.general.all"])&&Object(T.jsx)(b.Button,{buttonType:"tertiary",onClick:()=>{t({dialogTypes:O.a.Confirm,dialogProps:{title:n.formatMessage({id:"common.settings.general.apiKey.dialog.title"}),description:n.formatMessage({id:"common.settings.general.apiKey.dialog.desc"}),confirmText:n.formatMessage({id:"common.settings.general.apiKey.dialog.ok"}),onConfirm:async t=>{t(!0);const n=await Object(aa.renewOrganizationAPIKey)({organization_uid:e.uid});l(n.data)}}})},style:{marginBottom:"2px"},children:n.formatMessage({id:"common.settings.general.apiKey.button.regenerate"})})]}),Object(T.jsxs)(qi,{children:[Object(T.jsxs)(Ui,{children:[n.formatMessage({id:"common.settings.general.apiKey.server.title"}),Object(T.jsx)(b.ContextualHelp,{content:n.formatMessage({id:"common.settings.general.apiKey.server.tooltip"}),placement:"bottom-start",tooltipContentStyle:Object(a.css)(["",";width:258px;"],b.Body["body-short-01"]),children:Object(T.jsx)(b.TooltipTargetIcon,{icon:"info"})})]}),Object(T.jsx)(Vi,{dataSource:Object.values(e.regions),rowStyles:()=>Object(a.css)(["&:hover{background:transparent;}"]),columns:[{dataIndex:"name",title:n.formatMessage({id:"common.settings.general.apiKey.table.name"}),render:({name:e,type:t})=>Object(T.jsxs)(T.Fragment,{children:[e,"DEDICATED"===t&&Object(T.jsx)(b.Lozenge,{variant:b.LozengeVariant.Light,color:"purple",style:{marginLeft:"8px"},children:n.formatMessage({id:"common.settings.general.apiKey.table.dedicated"})})]})},{dataIndex:"oapi_key",title:n.formatMessage({id:"common.settings.general.apiKey.table.oapiKey"}),render:({oapi_key:e})=>Object(T.jsxs)(T.Fragment,{children:[e,Object(T.jsx)(b.IconButton,{buttonType:"tertiary",icon:"copy",size:"xsmall",onClick:()=>{Ri()(e),b.toast.success({message:n.formatMessage({id:"common.settings.general.apiKey.copied"})})},style:{marginLeft:"4px"}})]})}]})]})]})};var Hi=n("SEis"),$i=n("qnAt"),Yi=n("UExX"),Ki=n("qsQt"),Gi=n("NkHb"),Xi=n("VCrf"),Qi=n("wRyW"),Ji=n("ZjkC");const Zi=a.default.div.withConfig({displayName:"CallsCredits__Container",componentId:"sc-11izew5-0"})(["display:grid;grid-template-columns:1fr auto;grid-gap:24px;"]),eo=a.default.div.withConfig({displayName:"CallsCredits__ContentContainer",componentId:"sc-11izew5-1"})(["display:grid;grid-gap:8px;"]),to=a.default.h4.withConfig({displayName:"CallsCredits__Title",componentId:"sc-11izew5-2"})([""," color:",";"],b.Subtitles["subtitle-02"],Object(b.cssVariables)("neutral-7")),no=a.default.p.withConfig({displayName:"CallsCredits__Description",componentId:"sc-11izew5-3"})([""," color:",";"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-7")),ao=()=>{const e=Object(r.a)();return Object(T.jsx)(b.Lozenge,{color:"green",children:e.formatMessage({id:"common.settings.general.callsCredits.lozenge.paid"})})};var io=Object(a.default)(e=>{const t=Object(r.a)();return Object(T.jsx)(b.Lozenge,{color:"red",...e,children:t.formatMessage({id:"common.settings.general.callsCredits.lozenge.unavailable"})})}).withConfig({displayName:"CallsCredits___StyledUnavailable",componentId:"sc-11izew5-4"})(["margin-left:8px"]);const oo=a.default.div.withConfig({displayName:"CallsCredits__Divider",componentId:"sc-11izew5-5"})(["border-bottom:1px solid ",";"],Object(b.cssVariables)("neutral-3")),ro=()=>{const e=Object(r.a)();return Object(T.jsx)(Zi,{children:Object(T.jsxs)(eo,{children:[Object(T.jsx)(to,{children:e.formatMessage({id:"common.settings.general.callsCredits.notActivated.title"})}),Object(T.jsx)(no,{children:e.formatMessage({id:"common.settings.general.callsCredits.notActivated.description"})})]})})},so=a.default.div.withConfig({displayName:"CallsCredits__CallsCreditsContainer",componentId:"sc-11izew5-6"})(["> ","{width:calc(100% + 24px);margin:24px 0;}"],oo),lo=a.default.div.withConfig({displayName:"CallsCredits__VoucherSectionContainer",componentId:"sc-11izew5-7"})(["display:grid;grid-template-columns:160px max-content;"]),co=Object(a.css)([""," color:",";"],b.Typography["label-03"],Object(b.cssVariables)("neutral-6")),uo=a.default.div.withConfig({displayName:"CallsCredits__VoucherBox",componentId:"sc-11izew5-8"})(["display:flex;flex-direction:column;> h5{"," display:flex;min-height:24px;align-items:center;svg{fill:",";}}> strong{"," color:",";display:flex;align-items:center;margin-top:4px;> ","{margin-left:8px;}}> span{"," color:",";}> * + *{margin-top:8px;}"],co,Object(b.cssVariables)("neutral-6"),b.Headings["heading-02"],Object(b.cssVariables)("neutral-10"),b.Lozenge,b.Body["body-short-01"],Object(b.cssVariables)("neutral-7")),po=({latestVoucher:e,nextVoucher:t})=>{const n=Object(r.a)(),{balance:a,expireAt:i}=e;return Object(T.jsxs)(lo,{children:[Object(T.jsxs)(uo,{children:[Object(T.jsx)("h5",{children:n.formatMessage({id:"common.settings.general.callsCredits.voucher.title"})}),Object(T.jsx)("strong",{"data-test-id":"CurrentBalance",children:n.formatMessage({id:"common.settings.general.callsCredits.credits"},{value:a.toLocaleString()})}),Object(T.jsx)("span",{"data-test-id":"ExpiredAt",children:n.formatMessage({id:"common.settings.general.callsCredits.voucher.expiredAt"},{at:wn()(i).format(d.A)})})]}),t&&Object(Hi.d)(t)&&Object(T.jsxs)(uo,{children:[Object(T.jsxs)("h5",{children:[n.formatMessage({id:"common.settings.general.callsCredits.voucher.nextVoucher"}),Object(T.jsx)($i.a,{tooltip:n.formatMessage({id:"common.settings.general.callsCredits.voucher.nextVoucher.tooltip"}),style:{maxWidth:256}})]}),Object(T.jsxs)("strong",{"data-test-id":"NextVoucher",children:[n.formatMessage({id:"common.settings.general.callsCredits.credits"},{value:t.quota.toLocaleString()}),Object(T.jsx)(ao,{})]})]})]})},mo=a.default.dl.withConfig({displayName:"CallsCredits__DList",componentId:"sc-11izew5-9"})(["display:grid;grid-template-rows:24px 24px;grid-template-columns:136px 1fr;grid-gap:4px 24px;align-items:center;dt{","}dd{",";color:",";}"],co,b.Subtitles["subtitle-01"],Object(b.cssVariables)("neutral-7")),go=a.default.div.withConfig({displayName:"CallsCredits__ButtonsContainer",componentId:"sc-11izew5-10"})(["display:flex;flex-direction:column;align-items:flex-end;a{display:inline-block;margin-top:8px;text-align:right;text-decoration:underline;color:",";font-size:14px;}"],Object(b.cssVariables)("purple-7")),ho=a.default.div.withConfig({displayName:"CallsCredits__SubscriptionSectionContainer",componentId:"sc-11izew5-11"})(["display:grid;grid-template-columns:1fr auto;grid-gap:16px 24px;","{grid-column:1 / 3;}"],b.InlineNotification),bo=()=>{const e=Object(r.a)();return Object(T.jsx)(b.InlineNotification,{type:"info","data-test-id":"NoSubscriptionInfo",message:e.formatMessage({id:"common.settings.general.callsCredits.noSubscriptionInfo"})})},fo=()=>{const e=Object(r.a)();return Object(T.jsx)(b.InlineNotification,{type:"info","data-test-id":"AutoPurchaseNotice",message:e.formatMessage({id:"common.settings.general.callsCredits.autoPurchaseNotice"})})},jo=()=>{const e=Object(r.a)();return Object(T.jsx)(b.InlineNotification,{type:"error","data-test-id":"PaymentDeclinedError",message:e.formatMessage({id:"common.settings.general.callsCredits.paymentDeclinedError"})})},xo=()=>{const e=Object(r.a)();return Object(T.jsx)(b.InlineNotification,{type:"error","data-test-id":"UnavailableError",message:e.formatMessage({id:"common.settings.general.callsCredits.unavailable"})})},yo=({status:e,isCallsStopped:t})=>{const n=(()=>{const{openModal:e}=Object(i.useContext)(Xi.a);return Object(i.useCallback)(()=>{e(d.jb.CallsVoucher)},[e])})(),a=Object(r.a)(),o=t?"common.settings.general.callsCredits.subscription.action.get":{[Hi.b.ON]:"common.settings.general.callsCredits.subscription.action.manage",[Hi.b.OFF]:"common.settings.general.callsCredits.subscription.action.enable",[Hi.b.PAYMENT_DECLINED]:"common.settings.general.callsCredits.subscription.action.pay"}[e];return Object(T.jsx)(b.Button,{buttonType:"primary","data-test-id":"Action",onClick:n,children:a.formatMessage({id:o})})},Oo=({status:e,isCallsStopped:t})=>{const n=(()=>{const e=Object(l.k)();return()=>e.push({pathname:"/settings/contact_us",search:"?category=pricing"})})(),a=Object(r.a)(),i=t?"common.settings.general.callsCredits.subscription.action.pay.enterprise":{[Hi.b.ON]:"common.settings.general.callsCredits.subscription.action.manage.enterprise",[Hi.b.OFF]:"common.settings.general.callsCredits.subscription.action.enable.enterprise",[Hi.b.PAYMENT_DECLINED]:"common.settings.general.callsCredits.subscription.action.pay.enterprise"}[e];return Object(T.jsx)(b.Button,{buttonType:"primary","data-test-id":"EnterpriseAction",onClick:n,children:a.formatMessage({id:i})})},vo=()=>{const e=Object(r.a)(),t=Object(Hi.h)(),n=Object(Hi.g)(),a=(()=>{const e=Object(u.W)();return()=>e({dialogTypes:O.a.CallsDisableSubscription})})(),i=Object(Gi.a)(),o=Object(Ki.a)();if(!t)return null;const{status:s,credits:l,durationDays:c}=t,d={status:s,isCallsStopped:i};return Object(T.jsxs)(ho,{children:[Object(T.jsxs)(mo,{children:[Object(T.jsx)("dt",{children:e.formatMessage({id:"common.settings.general.callsCredits.subscription.title"})}),Object(T.jsx)("dd",{"data-test-id":"Status",children:Object(T.jsx)(Qi.a,{status:s})}),l&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("dt",{children:e.formatMessage({id:o?"common.settings.general.callsCredits.subscription.amount.enterprise":"common.settings.general.callsCredits.subscription.amount"})}),Object(T.jsxs)("dd",{"data-test-id":"Amount",children:[e.formatMessage({id:"common.settings.general.callsCredits.credits"},{value:l.toLocaleString()}),c&&` ${e.formatMessage({id:"common.settings.general.callsCredits.subscription.duration"},{months:Object(Ji.a)(c)})}`]})]})]}),Object(T.jsxs)(go,{children:[o?Object(T.jsx)(Oo,{...d}):Object(T.jsx)(yo,{...d}),l&&!o&&Object(T.jsx)(b.Link,{onClick:a,children:e.formatMessage({id:"common.settings.general.callsCredits.subscription.disableLink"})})]}),s===Hi.b.ON&&!n&&Object(T.jsx)(fo,{}),s===Hi.b.OFF&&Object(T.jsx)(bo,{}),s===Hi.b.PAYMENT_DECLINED&&Object(T.jsx)(jo,{}),i&&Object(T.jsx)(xo,{})]})},_o=()=>{const e=Object(r.a)(),t=Object(Yi.a)(),n=Object(Hi.f)(),a=Object(Hi.g)(),i=Object(Gi.a)();Object(Hi.m)();return Object(T.jsx)(pi.i,{title:Object(T.jsxs)(T.Fragment,{children:[e.formatMessage({id:"common.settings.general.callsCredits.title"}),Object(T.jsx)($i.a,{tooltip:e.formatMessage({id:"common.settings.general.callsCredits.title.tooltip"}),style:{maxWidth:256}}),i&&Object(T.jsx)(io,{})]}),titleColumns:4,gridItemConfig:{subject:{alignSelf:"start"}},children:t?Object(T.jsxs)(so,{children:[n&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(po,{latestVoucher:n,nextVoucher:a}),Object(T.jsx)(oo,{})]}),Object(T.jsx)(vo,{})]}):Object(T.jsx)(ro,{})})};var wo=n("9/EM"),Co=n("Q8gc");const So=a.default.div.withConfig({displayName:"SubscriptionPlan__GridTitle",componentId:"sc-1g7t8op-0"})(["display:flex;justify-content:center;",";"],({isFlexDirectionColumn:e})=>e?Object(a.css)(["flex-direction:column;","{margin-top:8px;}"],b.Lozenge):Object(a.css)(["","{margin-left:8px;}"],b.Lozenge)),Mo=a.default.div.withConfig({displayName:"SubscriptionPlan__SpinnerWrapper",componentId:"sc-1g7t8op-1"})(["flex:1;display:flex;align-items:center;justify-content:center;height:117px;"]),ko=a.default.div.withConfig({displayName:"SubscriptionPlan__Current",componentId:"sc-1g7t8op-2"})(["",";color:",";"],b.Headings["heading-06"],Object(b.cssVariables)("neutral-10")),Io=a.default.div.withConfig({displayName:"SubscriptionPlan__Future",componentId:"sc-1g7t8op-3"})(["display:flex;align-items:center;",";color:",";svg{margin:0 16px;fill:",";}"],b.Headings["heading-06"],Object(b.cssVariables)("neutral-5"),Object(b.cssVariables)("neutral-5")),Po=a.default.div.withConfig({displayName:"SubscriptionPlan__PlanAction",componentId:"sc-1g7t8op-4"})(["display:flex;align-items:flex-end;flex-direction:column;a{font-size:14px;margin-top:8px;}"]),Ao=a.default.div.withConfig({displayName:"SubscriptionPlan__Plan",componentId:"sc-1g7t8op-5"})(["display:flex;align-items:flex-start;margin-right:-24px;padding-right:24px;"," ","{margin-left:auto;}"],({hasPlan:e})=>e&&`\n  padding-bottom: 24px;\n  border-bottom: 1px solid ${Object(b.cssVariables)("neutral-3")};\n  margin-bottom: 24px;\n  `,Po),To=a.default.div.withConfig({displayName:"SubscriptionPlan__PlanItems",componentId:"sc-1g7t8op-6"})(["display:flex;align-items:center;"]),No=a.default.ul.withConfig({displayName:"SubscriptionPlan__Information",componentId:"sc-1g7t8op-7"})(["& + .subscriptionPlanNotification{margin-top:24px;}"]),Do=a.default.li.withConfig({displayName:"SubscriptionPlan__InformationItem",componentId:"sc-1g7t8op-8"})(["display:flex;align-items:center;height:24px;","{margin-left:8px;}& + &{margin-top:8px;}"],b.Lozenge),Eo=a.default.div.withConfig({displayName:"SubscriptionPlan__InformationLabel",componentId:"sc-1g7t8op-9"})(["width:160px;font-size:13px;font-weight:600;line-height:16px;color:",";"],Object(b.cssVariables)("neutral-6")),Lo=a.default.div.withConfig({displayName:"SubscriptionPlan__InformationText",componentId:"sc-1g7t8op-10"})(["",";color:",";"],b.Subtitles["subtitle-01"],Object(b.cssVariables)("neutral-7"));var Fo=Object(a.default)(b.Link).withConfig({displayName:"SubscriptionPlan___StyledLink",componentId:"sc-1g7t8op-11"})(["text-decoration:underline;"]);const zo=()=>{const e=Object(r.a)(),t=Object(l.k)(),{isOrganizationDeactivated:n}=Object(j.a)(),{isLoading:o,subscriptions:s,fetchSubscriptions:c}=Object(i.useContext)(f.a),{current:u,future:p}=s[d.bc.Chat],m=null!=u&&[d.ac.FreeTrial,d.ac.Free].includes(u.subscription_name),g=null!=u&&"string"==typeof u.end_date,h=null!=p,x=g&&!m&&!h,y=null==u&&!o,O=!m&&g||h;Object(i.useEffect)(()=>{c()},[c]);const v=Object(i.useCallback)(()=>{t.push("/settings/general/plans/chat",{background:t.location})},[t]),_=(t=!1)=>n?Object(T.jsx)(b.Button,{buttonType:"primary",onClick:v,"data-test-id":"ResubscribeButton",children:e.formatMessage({id:"common.settings.general.subscriptionPlan.button.resubscribe"})}):Object(T.jsx)(b.Button,{"data-test-id":"ChangePlanLinkButton",buttonType:"primary",onClick:v,disabled:t,children:e.formatMessage({id:"common.settings.general.subscriptionPlan.button.change"})}),w=Object(Co.a)(),C=Object(i.useMemo)(()=>n?Object(T.jsx)(b.Lozenge,{variant:b.LozengeVariant.Light,color:"red",children:e.formatMessage({id:"common.settings.general.subscriptionPlan.lozenge.deactivated"})}):O?Object(T.jsx)(b.Lozenge,{variant:b.LozengeVariant.Light,color:"blue",children:e.formatMessage({id:"common.settings.general.subscriptionPlan.lozenge.scheduled"})}):y?Object(T.jsx)(b.Lozenge,{variant:b.LozengeVariant.Light,color:"red",children:e.formatMessage({id:"common.settings.general.subscriptionPlan.lozenge.unsubscribed"})}):null,[e,n,O,y]),S=!!u&&"SALES_CUSTOM"===u.subscription_type;return Object(T.jsx)(pi.i,{title:Object(T.jsxs)(So,{isFlexDirectionColumn:n||y,"data-test-id":"SubscriptionPlanSettingsTitle",children:[e.formatMessage({id:"common.settings.general.subscriptionPlan.title"}),C]}),titleColumns:4,gridItemConfig:{subject:{alignSelf:"start"}},children:o&&!u?Object(T.jsx)(Mo,{children:Object(T.jsx)(b.Spinner,{})}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(Ao,{hasPlan:!!u,children:[Object(T.jsxs)(To,{children:[Object(T.jsx)(ko,{"data-test-id":"CurrentPlanDisplayName",children:null==u?void 0:u.display_name}),x&&Object(T.jsxs)(Io,{children:[Object(T.jsx)(b.Icon,{icon:"arrow-right",size:24}),e.formatMessage({id:"common.settings.general.subscriptionPlan.unsubscribe"})]}),p&&Object(T.jsxs)(Io,{"data-test-id":"NextPlanName",children:[Object(T.jsx)(b.Icon,{icon:"arrow-right",size:24}),p.display_name]})]}),Object(T.jsx)(Po,{children:S?Object(T.jsx)(b.ContextualHelp,{content:e.formatMessage({id:"common.settings.general.subscriptionPlan.tooltip.salesDriven.restricted"},{a:e=>Object(T.jsx)(Fo,{href:"/settings/contact_us?category=pricing",useReactRouter:!0,iconProps:{icon:"open-in-new",size:16},children:e})}),tooltipContentStyle:Object(a.css)(["width:256px;"]),placement:"bottom-end",popperProps:{modifiers:{offset:{offset:"0, 10"}}},children:_(!0)}):_()})]}),p?Object(T.jsx)(No,{children:Object(T.jsxs)(Do,{children:[Object(T.jsx)(Eo,{children:e.formatMessage({id:"common.settings.general.subscriptionPlan.applyDate"})}),Object(T.jsx)(Lo,{children:Object(lt.a)(new Date(p.start_date),d.v)})]})}):u?u.end_date&&x?Object(T.jsx)(No,{children:Object(T.jsxs)(Do,{children:[Object(T.jsx)(Eo,{children:e.formatMessage({id:"common.settings.general.subscriptionPlan.applyDate"})}),Object(T.jsx)(Lo,{"data-test-id":"EffectiveDate",children:Object(Ze.d)(u.subscription_name)?Object(lt.a)(Object(wo.a)(new Date(u.end_date),1),d.v):Object(lt.a)(Object(ct.a)(Object(st.a)(new Date(u.end_date),1),1),d.v)})]})}):u.subscription_name===d.ac.FreeTrial?Object(T.jsx)(No,{children:Object(T.jsxs)(Do,{children:[Object(T.jsx)(Eo,{children:e.formatMessage({id:"common.settings.general.subscriptionPlan.expirationDate"})}),u.end_date&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Lo,{"data-test-id":"ExpirationDate",children:Object(lt.a)(new Date(u.end_date),d.v)}),Object(T.jsx)(b.Lozenge,{variant:b.LozengeVariant.Light,color:"red",children:w(new Date(u.end_date))})]})]})}):Object(T.jsx)(No,{children:Object(T.jsxs)(Do,{children:[Object(T.jsx)(Eo,{children:e.formatMessage({id:"common.settings.general.subscriptionPlan.subscriptionDate"})}),Object(T.jsx)(Lo,{"data-test-id":"SubscribedDate",children:Object(lt.a)(new Date(u.start_date),d.v)})]})}):void 0,(()=>{let t={type:"info",message:""};return p?(t={type:"info",message:e.formatMessage({id:"common.settings.general.subscriptionPlan.notifications.future"})},Object(T.jsx)(b.InlineNotification,{className:"subscriptionPlanNotification",...t})):u&&u.subscription_name===d.ac.FreeTrial&&!p?(t={type:"info",message:e.formatMessage({id:"common.settings.general.subscriptionPlan.notifications.freeTrial.expires"})},Object(T.jsx)(b.InlineNotification,{className:"subscriptionPlanNotification",...t})):void 0})()]})})},Ro=a.default.div.withConfig({displayName:"SupportPlan__GridTitle",componentId:"sc-3uuf02-0"})(["display:flex;align-items:center;","{margin-left:8px;}"],b.Lozenge),Bo=a.default.div.withConfig({displayName:"SupportPlan__PlanWrapper",componentId:"sc-3uuf02-1"})(["display:flex;& + .supportPlanNotification{margin-top:24px;}"]),Vo=a.default.div.withConfig({displayName:"SupportPlan__Plan",componentId:"sc-3uuf02-2"})(["display:flex;flex-direction:column;justify-content:center;"]),Uo=a.default.div.withConfig({displayName:"SupportPlan__PlanName",componentId:"sc-3uuf02-3"})(["display:flex;align-items:center;margin-bottom:8px;"]),qo=a.default.div.withConfig({displayName:"SupportPlan__PlanAction",componentId:"sc-3uuf02-4"})(["margin-left:auto;a{font-size:14px;}"]),Wo=a.default.p.withConfig({displayName:"SupportPlan__PlanDescription",componentId:"sc-3uuf02-5"})(["",";color:",";margin:0;"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-7")),Ho=a.default.div.withConfig({displayName:"SupportPlan__SpinnerWrapper",componentId:"sc-3uuf02-6"})(["flex:1;display:flex;align-items:center;justify-content:center;height:48px;"]),$o=a.default.div.withConfig({displayName:"SupportPlan__Current",componentId:"sc-3uuf02-7"})(["",";color:",";"],b.Headings["heading-02"],Object(b.cssVariables)("neutral-10")),Yo=a.default.div.withConfig({displayName:"SupportPlan__Future",componentId:"sc-3uuf02-8"})(["display:flex;align-items:center;",";color:",";svg{margin:0 4px;fill:",";}"],b.Headings["heading-02"],Object(b.cssVariables)("neutral-5"),Object(b.cssVariables)("neutral-5")),Ko=()=>{const e=Object(r.a)(),{isLoading:t,current:n,future:a}=Object(i.useContext)(Cn.a),o=Object(l.k)(),s=Object(i.useCallback)(()=>{o.push("/settings/general/plans/support",{background:o.location})},[o]),c=Object(i.useMemo)(()=>a?Object(T.jsx)(b.Link,{variant:b.LinkVariant.Inline,children:"View plans"}):Object(T.jsx)(b.Button,{buttonType:"primary",onClick:s,children:"Change"}),[a,s]);return Object(T.jsx)(pi.i,{title:Object(T.jsxs)(Ro,{children:[e.formatMessage({id:"common.settings.general.supportPlan.title"}),a&&Object(T.jsx)(b.Lozenge,{variant:b.LozengeVariant.Light,color:"blue",children:"SCHEDULED"})]}),titleColumns:4,gridItemConfig:{subject:{alignSelf:"start"}},children:Object(T.jsxs)(Bo,{children:[Object(T.jsx)(Vo,{children:t?Object(T.jsx)(Ho,{children:Object(T.jsx)(b.Spinner,{})}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(Uo,{children:[Object(T.jsx)($o,{"data-test-id":"CurrentSupportPlanName",children:n?n.display_name:"Community"}),a&&Object(T.jsxs)(Yo,{children:[Object(T.jsx)(b.Icon,{icon:"arrow-right",size:16}),a.display_name]})]}),Object(T.jsx)(Wo,{children:e.formatMessage({id:"common.settings.general.supportPlan.planDescription"})})]})}),Object(T.jsx)(qo,{children:c})]})})},Go={updateOrganizationNameRequest:c.b.updateOrganizationNameRequest,showDialogsRequest:c.b.showDialogsRequest},Xo=Object(s.d)(e=>({organization:e.organizations.current,updateOrganizationName:e.organizations.updateOrganizationName}),Go)(({organization:e,updateOrganizationName:t,updateOrganizationNameRequest:n,showDialogsRequest:a,setUnsaved:o})=>{const s=Object(r.a)(),{isPermitted:l,isSelfService:c}=Object(u.h)(),p=Object(Di.a)(),m=Object(b.useForm)({onSubmit:({name:e})=>n({name:e,onSuccess:m.onSuccess})}),g=Object(b.useField)("name",m,{defaultValue:e.name,validate:e=>e.trim()?"":s.formatMessage({id:"error.organizationNameIsRequired"})});return Object(i.useEffect)(()=>{g.setServerError(t.error||"")},[g,t.error]),Object(i.useEffect)(()=>{o(g.updatable)},[g.updatable,o]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Zn.d,{title:"General"}),p&&Object(T.jsx)(Ei.a,{style:{marginBottom:"16px"}}),c&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(zo,{}),Object(T.jsx)(_o,{}),Object(T.jsx)(Ko,{})]}),Object(T.jsx)(pi.j,{children:Object(T.jsx)(Fi,{title:s.formatMessage({id:"label.organizationName"}),form:m,field:g,isFetching:t.isFetching,readOnly:!l(["organization.general.all"])})}),l(["organization.general.all"])&&e.status===d.Eb.Active&&Object(T.jsx)(Wi,{organization:e,showDialogsRequest:a})]})});var Qo=n("4dfF"),Jo=n("Y2WY"),Zo=n("Q9OL"),er=n("+O3q"),tr=n("gMEx");var nr=n("P5lD");var ar=n("0/fP");const ir=a.default.span.withConfig({displayName:"components__CountLabel",componentId:"rup6kp-0"})(["display:flex;align-items:center;",";color:",";white-space:pre;"],b.Subtitles["subtitle-01"],Object(b.cssVariables)("neutral-10")),or=a.default.span.withConfig({displayName:"components__CountNumber",componentId:"rup6kp-1"})(["",";color:",";"],b.Headings["heading-01"],Object(b.cssVariables)("neutral-10")),rr=a.default.span.withConfig({displayName:"components__NameWrapper",componentId:"rup6kp-2"})(["font-size:14px;line-height:20px;font-weight:500;letter-spacing:-0.3px;flex:1;"]),sr=Object(a.default)(m.Ub).withConfig({displayName:"components__MembersPagination",componentId:"rup6kp-3"})(["margin-left:auto;"]),lr=Object(a.default)(e=>Object(b.Table)(e)).withConfig({displayName:"currentMembersTab__MemberTable",componentId:"sc-1csk1q6-0"})(["flex:1;min-height:96px;input[type='checkbox']{outline:0;}",""],({isEmpty:e})=>{if(e)return Object(a.css)(["tbody{border-bottom:0;height:100%;}tr{height:100%;td{align-items:center;justify-content:center;padding-bottom:40px;}}"])}),cr=a.default.span.withConfig({displayName:"currentMembersTab__NameText",componentId:"sc-1csk1q6-1"})(["vertical-align:baseline;&:not(:last-child){margin-right:8px;}"]),dr=a.default.div.withConfig({displayName:"currentMembersTab__NameColumnCell",componentId:"sc-1csk1q6-2"})(["display:flex;flex-direction:row;align-items:flex-start;","{margin-left:16px;}"],rr),ur=Object(a.default)(b.Avatar).withConfig({displayName:"currentMembersTab__MemberAvatar",componentId:"sc-1csk1q6-3"})(["margin-top:-6px;margin-bottom:-6px;"]),pr=Object(a.default)(b.Lozenge).withConfig({displayName:"currentMembersTab__SystemRoleLozenge",componentId:"sc-1csk1q6-4"})(["margin-left:8px;"]),mr=a.default.div.withConfig({displayName:"currentMembersTab__CountWrapper",componentId:"sc-1csk1q6-5"})(["margin-bottom:16px;"]),gr=({handleSearchClear:e,handleSubmit:t})=>{const[n,o]=Object(i.useState)("");return Object(T.jsx)(Za,{type:"default",styles:{SearchInput:Object(a.css)(["padding-left:16px;"]),SearchScope:Object(a.css)(["display:none;"])},value:n,handleChange:o,handleSearchClear:()=>{e(),o("")},handleSubmit:t})};var hr=Object(a.default)(ei).withConfig({displayName:"currentMembersTab___StyledSearchInputWrapper",componentId:"sc-1csk1q6-6"})(["","{margin-left:0;}"],Za);const br=()=>{const e=Object(r.a)(),t=Object(s.f)(),n=Object(u.W)(),{uid:a,sso_enforcing:o}=Object(u.O)(),{role:l,isPermitted:p}=Object(u.h)(),{page:g,pageSize:h,setPagination:f}=Object(u.Q)(1,20),[j,x]=Object(i.useState)("nickname"),{loading:y,searching:v,searchQuery:_,members:w,total:C,count:S,load:M}=(({limit:e,offset:t,order:n="id"})=>{const{uid:a}=Object(er.a)(),[o,r]=Object(i.useState)(0),s=Object(i.useRef)(""),[l,c]=Object(i.useState)(!1),[{status:d,data:u,error:p},m]=Object(Jo.a)(i=>(s.current=i,Object(Qo.p)({uid:a,params:{limit:e,offset:t,order:n,query:i}})),[a,e,t,n]);return Object(i.useEffect)(()=>{m(s.current)},[m]),Object(i.useEffect)(()=>{""===s.current&&null!=u&&u.data.results&&r(null==u?void 0:u.data.count)},[u]),Object(i.useEffect)(()=>{"success"===d&&c(""!==s.current)},[d]),Object(Zo.a)(p),{loading:"init"===d||"loading"===d,members:(null==u?void 0:u.data.results)||[],total:o,count:(null==u?void 0:u.data.count)||0,load:m,searching:l,searchQuery:s.current}})({limit:h,offset:(g-1)*h,order:j}),[k,I]=Object(i.useState)([]),P=e=>{const t=k.filter(t=>t.user.email!==e.user.email&&e.role!==d.Hb.OWNER);I(t)},A=Object(u.L)(P);Object(i.useEffect)(()=>{A.current=P},[P]),Object(i.useEffect)(()=>{w.length>0&&I([])},[w]);const N=e=>()=>{n({dialogTypes:O.a.Confirm,dialogProps:{title:"Transfer Owner",description:Object(T.jsxs)(m.L,{children:[Object(T.jsx)(m.P,{children:"Are you sure you want to transfer ownership?"}),Object(T.jsxs)(m.M,{children:["There can only be ",Object(T.jsx)("strong",{children:"one Owner for an organization"})," and by switching ownership, you will be automatically assigned as an Admin. You will lose the right to delete applications and manage members."]})]}),onConfirm:()=>{t(c.b.transferOwnerRequest({organization_uid:a,email:e.user.email}))}}})},D=Object(i.useCallback)(e=>{0!==e.length&&n({dialogTypes:O.a.Delete,dialogProps:{description:"Selected members will be deleted immediately.",onDelete:()=>{t(c.b.deleteOrganizationMembersRequest({organization_uid:a,members:e,onDelete:()=>{M(_)}}))}}})},[t,M,_,n,a]),E=()=>{0!==k.length?D(k):b.toast.warning({message:"There are no selected members. Please select a member."})},L=Object(i.useCallback)(e=>{0!==e.length&&n({dialogTypes:O.a.ChangeMemberRole,dialogProps:{uid:a,members:e,removeSelectedMemberRef:A,onSuccess:()=>{M(_)}}})},[n,a,A,M,_]),F=()=>{0!==k.length?L(k):b.toast.warning({message:"There are no selected members. Please select a member."})},z=Object(i.useCallback)(e=>()=>L([e]),[L]),R=Object(i.useCallback)(e=>()=>D([e]),[D]),B=Object(i.useCallback)((e,t)=>{f(1,h),x(e?`${"descend"===t?"-":""}${e.dataIndex}`:"nickname")},[h,f]),V=Object(i.useMemo)(()=>0===S?null:v?e.formatMessage({id:"common.settings.members.count.search"},{count:Object(T.jsx)(or,{children:e.formatNumber(S)}),countNumber:S,total:Object(T.jsx)(or,{children:e.formatNumber(C)}),totalNumber:C}):e.formatMessage({id:"common.settings.members.count.total"},{count:Object(T.jsx)(or,{children:e.formatNumber(C)})}),[S,e,v,C]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(hr,{children:Object(T.jsx)(gr,{handleSearchClear:()=>{f(1,h),M("")},handleSubmit:e=>{f(1,h),M(e)}})}),Object(T.jsx)(mr,{children:Object(T.jsx)(ir,{children:V})}),Object(T.jsx)(lr,{isEmpty:""!==_&&0===S,rowKey:"id",dataSource:w,loading:y,batchActions:(()=>{const t={label:e.formatMessage({id:"label.edit"}),icon:"edit",onClick:F},n={label:e.formatMessage({id:"label.delete"}),icon:"delete",onClick:E};return p(["organization.members.all"])&&k.length>0?[t,n]:[]})(),rowSelection:p(["organization.members.all"])?{onChange:(e,t)=>{I(t.filter(e=>e.role!==d.Hb.OWNER))},selectedRowKeys:k.map(e=>e.id),getCheckboxProps:e=>({disabled:e.role===d.Hb.OWNER})}:void 0,columns:[{dataIndex:"nickname",title:e.formatMessage({id:"common.settings.members.column.displayName"}),defaultSortOrder:"ascend",sorter:!0,render:e=>Object(T.jsxs)(dr,{children:[Object(T.jsx)(ur,{type:b.AvatarType.Member,size:32,profileID:e.user.email}),Object(T.jsxs)(rr,{children:[Object(T.jsx)(cr,{children:e.user.profile.nickname}),e.sso_name_id&&Object(T.jsx)(ar.a,{children:"SSO"}),e.user.profile.two_factor_authentication&&!o&&Object(T.jsx)(ar.a,{children:"2FA"})]})]})},{dataIndex:"first_name",title:e.formatMessage({id:"common.settings.members.column.name"}),sorter:!1,width:200,render:e=>""===e.user.first_name&&""===e.user.last_name?d.Z:Object(T.jsxs)(T.Fragment,{children:[e.user.first_name," ",e.user.last_name]})},{dataIndex:"email",title:e.formatMessage({id:"label.email"}),sorter:!0,render:({user:e})=>e.email},{dataIndex:"role",title:e.formatMessage({id:"label.role"}),sorter:!0,render:({role:e})=>{const t=Object.values(d.Hb).includes(e);return Object(T.jsxs)(T.Fragment,{children:[Object(nr.h)({name:e,is_predefined:t}),t&&Object(T.jsx)(pr,{variant:b.LozengeVariant.Light,color:"neutral",children:"System role"})]})}},...p(["organization.members.all"])?[{key:"more",width:32,styles:"margin: -6px 0; margin-right: 8px;",render:t=>{if(t.role===d.Hb.OWNER)return"";const n=[{label:"Edit",onClick:z(t)},{label:e.formatMessage({id:"label.delete"}),onClick:R(t)}];return l.name===d.Hb.OWNER&&t.role!==d.Hb.OWNER&&n.unshift({label:"Transfer owner",onClick:N(t)}),Object(T.jsx)(b.OverflowMenu,{items:n})}}]:[]],onSortByUpdated:B,footer:Object(T.jsx)(sr,{current:g,total:S,pageSize:h,pageSizeOptions:[20,50,100],onChange:f,onItemsPerPageChange:f}),showScrollbars:0!==S,emptyView:!y&&""!==_&&Object(T.jsx)(b.EmptyState,{size:b.EmptyStateSize.Large,icon:"no-search",title:e.formatMessage({id:"common.settings.members.noResult.title"}),description:e.formatMessage({id:"common.settings.members.noResult.description"},{query:_}),withoutMarginBottom:!0})})]})},fr={PENDING:"orange",EXPIRED:"red",JOINED:"green",QUEUED:"neutral",SEND_FAIL:"red"},jr=Object(a.default)(e=>Object(b.Table)(e)).withConfig({displayName:"invitationsTab__InvitationTable",componentId:"sc-1ubegex-0"})(["flex:1;min-height:96px;"]),xr=Object(a.default)(b.Lozenge).withConfig({displayName:"invitationsTab__StatusLozenge",componentId:"sc-1ubegex-1"})(["width:80px;"]),yr=({invitations:e,page:t,pageSize:n,loading:a,setPagination:o,setOrder:s,count:l,load:c})=>{const p=Object(r.a)(),{isPermitted:m}=Object(u.h)(),g=Object(u.W)(),[h,f]=Object(i.useState)([]);Object(i.useEffect)(()=>f([]),[e]);const j=Object(i.useCallback)(e=>()=>{g({dialogTypes:O.a.Confirm,dialogProps:{description:`Are you sure you want to resend ${e.length>1?"the selected invitations":"this invitation"}?`,onConfirm:async t=>{var n;t(!0),await(n=e.map(({invite_hash:e})=>e),Promise.all(n.map(e=>Object(Qo.x)(e)))),c(),t(!1)}}})},[c,g]),x=Object(i.useCallback)(e=>()=>{g({dialogTypes:O.a.Confirm,dialogProps:{description:`Are you sure you want to delete ${e.length>1?"the selected invitations":"this invitation"}?`,onConfirm:async t=>{var n;t(!0),await(n=e.map(({invite_hash:e})=>e),Promise.all(n.map(e=>Object(Qo.a)(e)))),c(),t(!1)}}})},[c,g]),y=Object(i.useCallback)((e,t)=>{o(1,n),s(e?`${"descend"===t?"-":""}${e.dataIndex}`:"email")},[n,s,o]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ei,{children:Object(T.jsx)(ir,{children:p.formatMessage({id:"common.settings.invitations.count.total"},{count:Object(T.jsx)(or,{children:p.formatNumber(l)})})})}),Object(T.jsx)(jr,{rowKey:"email",dataSource:e,loading:a,batchActions:(()=>{const e={label:p.formatMessage({id:"label.delete"}),icon:"delete",onClick:x(h)},t={label:p.formatMessage({id:"label.resend"}),icon:"reopen",onClick:j(h)},n=[e];return h.every(e=>"EXPIRED"===e.status)&&n.unshift(t),m(["organization.members.all"])&&h.length>0?n:[]})(),rowSelection:{onChange:(e,t)=>f(t),selectedRowKeys:h.map(e=>e.email)},columns:[{dataIndex:"email",title:p.formatMessage({id:"label.email"}),defaultSortOrder:"ascend",sorter:!0,render:({email:e})=>Object(T.jsx)(rr,{children:e})},{dataIndex:"role",title:p.formatMessage({id:"label.role"}),sorter:!0,render:({role:e})=>Object(nr.h)({name:e,is_predefined:Object.values(d.Hb).includes(e)})},{dataIndex:"status",title:p.formatMessage({id:"label.status"}),sorter:!0,render:({status:e})=>Object(T.jsx)(xr,{color:fr[e],children:e})}],rowActions:e=>[Object(T.jsx)(b.OverflowMenu,{items:[..."EXPIRED"===e.status?[{label:p.formatMessage({id:"label.resend"}),onClick:j([e])}]:[],{label:p.formatMessage({id:"label.delete"}),onClick:x([e])}]},"invitationTabOverflow")],emptyView:Object(T.jsx)(Ja.a,{icon:"users",title:p.formatMessage({id:"label.invitationListEmpty"}),description:p.formatMessage({id:"desc.invitationListEmpty"})}),onSortByUpdated:y,footer:Object(T.jsx)(sr,{current:t,total:l,pageSize:n,pageSizeOptions:[10,20,50,100],onChange:o,onItemsPerPageChange:o}),showScrollbars:!0})]})};var Or;!function(e){e.active="active",e.invited="invited"}(Or||(Or={}));const vr=()=>{const e=Object(r.a)(),t=Object(s.f)(),n=Object(u.W)(),a=Object(u.Y)(e=>e.organizations.current.uid),{isPermitted:o}=Object(u.h)(),l=(()=>{const{uid:e}=Object(er.a)(),{page:t,pageSize:n,setPagination:a}=Object(tr.a)(1,10),[o,r]=Object(i.useState)("email"),[{status:s,data:l,error:c},d]=Object(Jo.a)(()=>Object(Qo.o)({uid:e,params:{limit:n,offset:(t-1)*n,order:o}}),[e,t,n,o]);return Object(i.useEffect)(()=>{d()},[d]),Object(Zo.a)(c),{loading:"loading"===s,invitations:(null==l?void 0:l.data.results)||[],count:(null==l?void 0:l.data.count)||0,load:d,page:t,pageSize:n,setPagination:a,setOrder:r}})(),d=Object(i.useContext)(Zn.f);Object(i.useEffect)(()=>(d.setBodyFitToWindow(!0),()=>{d.setBodyFitToWindow(!1)}),[d]);const p=Object(i.useMemo)(()=>[{key:Or.active,label:e.formatMessage({id:"common.settings.members.tab.active"})},{key:Or.invited,label:e.formatMessage({id:"common.settings.members.tab.invited"})}],[e]),m=[{key:"export",label:e.formatMessage({id:"common.settings.members.button.export"}),icon:"export",buttonType:"secondary"},{key:"invite-member",label:e.formatMessage({id:"common.settings.members.button.invite"}),icon:"plus",buttonType:"primary"}],[g,h]=Object(i.useState)(p[0]),b=Object(i.useCallback)(e=>{h(e)},[h]),f=Object(i.useCallback)(i=>{const[o]=m;if(i===o)return t(c.b.exportOrganizationMembersRequest());n({dialogTypes:O.a.InviteMember,dialogProps:{uid:a,onSuccess:()=>{const{load:t}=l;t(),h({key:Or.invited,label:e.formatMessage({id:"common.settings.members.tab.invited"})})}}})},[e,m,l,t,a,n]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Zn.d,{title:e.formatMessage({id:"label.members"}),actions:o(["organization.members.all"])?m:void 0,tabs:o(["organization.members.all"])?p:void 0,activeTab:g,onTabPress:b,onActionPress:f}),g.key===Or.active&&Object(T.jsx)(br,{}),g.key===Or.invited&&Object(T.jsx)(yr,{...l})]})};var _r=n("LZ/X"),wr=n("7Sp0"),Cr=Object(a.default)(wr.a).withConfig({displayName:"CallsCredits___StyledInformationCard",componentId:"c2dlh8-0"})(["",""],wr.b);const Sr=()=>{const e=Object(r.a)();return Object(T.jsxs)(Cr,{children:[Object(T.jsx)("h4",{children:e.formatMessage({id:"common.settings.billing.callsCredits.title"})}),Object(T.jsx)("p",{children:e.formatMessage({id:"common.settings.billing.callsCredits.description"})}),Object(T.jsx)(m.s,{href:"/settings/general",children:e.formatMessage({id:"common.settings.billing.callsCredits.link"})})]})};var Mr=n("E+oP"),kr=n.n(Mr);const Ir=a.default.div.withConfig({displayName:"components__BillingSubtitle",componentId:"sc-289h7v-0"})(["",";"],b.Headings["heading-01"]),Pr=a.default.p.withConfig({displayName:"components__BillingSubDescription",componentId:"sc-289h7v-1"})(["",";color:",";margin-top:4px;"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-7")),Ar=a.default.dl.withConfig({displayName:"components__BillingInformationWrapper",componentId:"sc-289h7v-2"})(["margin-top:16px;padding:16px;border-radius:4px;background-color:",";display:grid;grid-template-columns:160px 1fr;grid-column-gap:16px;grid-row-gap:8px;"],Object(b.cssVariables)("neutral-1")),Tr=a.default.dt.withConfig({displayName:"components__BillingInformationLabel",componentId:"sc-289h7v-3"})(["",";color:",";"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-7")),Nr=a.default.div.withConfig({displayName:"components__BillingInformationContent",componentId:"sc-289h7v-4"})(["",";color:",";display:flex;align-items:center;"],b.Body["body-short-01"],Object(b.cssVariables)("neutral-10")),Dr=a.default.div.withConfig({displayName:"CreditCard__CardInfoFreeTrial",componentId:"a5jiv1-0"})(["padding:14px 0;font-size:14px;line-height:20px;color:",";"],Object(b.cssVariables)("neutral-7")),Er=a.default.div.withConfig({displayName:"CreditCard__CardInfoRow",componentId:"a5jiv1-1"})([""]),Lr=a.default.span.withConfig({displayName:"CreditCard__CardNumber",componentId:"a5jiv1-2"})([""]),Fr=a.default.img.withConfig({displayName:"CreditCard__CardIcon",componentId:"a5jiv1-3"})(["height:20px;margin-right:8px;"]),zr=a.default.div.withConfig({displayName:"CreditCard__SpinnerWrapper",componentId:"a5jiv1-4"})(["width:100%;height:148px;display:flex;align-items:center;justify-content:center;"]),Rr=Object(a.default)(b.Button).withConfig({displayName:"CreditCard__RegisterCardButton",componentId:"a5jiv1-5"})(["margin-top:12px;"]),Br=({isFreeTrial:e})=>{const t=Object(r.a)(),{isPermitted:n}=Object(u.h)(),{isLoading:a,cardInfo:o,load:s}=ui(),{open:l}=di(s),c=Object(i.useMemo)(()=>kr()(o)&&n(["organization.billing.all"])?Object(T.jsx)(Er,{children:Object(T.jsx)(Rr,{buttonType:"primary",onClick:l,"data-test-id":"RegisterCardButton",children:t.formatMessage({id:"common.settings.billing.paymentMethod.creditCard.addCard"})})}):o?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ir,{children:t.formatMessage({id:"common.settings.billing.paymentMethod.creditCard.title"})}),Object(T.jsxs)(Ar,{children:[Object(T.jsx)(Tr,{children:t.formatMessage({id:"common.settings.billing.paymentMethod.creditCard.label.name"})}),Object(T.jsx)(Nr,{"data-test-id":"CardOwnerName",children:o.name}),Object(g.isCardImageExists)(o)&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Tr,{children:t.formatMessage({id:"common.settings.billing.paymentMethod.creditCard.label.cardNumber"})}),Object(T.jsxs)(Nr,{children:[Object(T.jsx)(Fr,{"data-test-id":"CardIcon",src:Object(g.getCardImage)(o.brand),role:"presentation"}),Object(T.jsxs)(Lr,{"data-test-id":"CardNumber",children:["**** **** **** ",o.last4]})]})]}),Object(T.jsx)(Tr,{children:t.formatMessage({id:"common.settings.billing.paymentMethod.creditCard.label.expiryDate"})}),Object(T.jsxs)(Nr,{"data-test-id":"CardExpiryDate",children:[o.exp_month," / ",o.exp_year]})]}),n(["organization.billing.all"])&&Object(T.jsx)(Rr,{buttonType:"tertiary",onClick:l,"data-test-id":"RegisterCardButton",children:t.formatMessage({id:"common.settings.billing.paymentMethod.creditCard.changeCard"})})]}):e?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ir,{children:t.formatMessage({id:"common.settings.billing.paymentMethod.creditCard.title"})}),Object(T.jsx)(Ar,{children:Object(T.jsx)(Dr,{children:t.formatMessage({id:"common.settings.billing.paymentMethod.creditCard.free"})})})]}):Object(T.jsx)("div",{children:t.formatMessage({id:"common.settings.billing.paymentMethod.creditCard.noCard"})}),[o,t,e,n,l]);return Object(T.jsx)(T.Fragment,{children:a?Object(T.jsx)(zr,{children:Object(T.jsx)(b.Spinner,{})}):c})},Vr=()=>{const e=Object(r.a)();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ir,{children:e.formatMessage({id:"common.settings.billing.paymentMethod.other.title"})}),Object(T.jsx)(Pr,{children:e.formatMessage({id:"common.settings.billing.paymentMethod.other.description"})})]})};var Ur=n("hyLW"),qr=n.n(Ur);const Wr=Object(a.default)(wr.a).withConfig({displayName:"SubscriptionStatus__Wrapper",componentId:"sc-1bj14zt-0"})(["display:grid;grid-template-columns:1fr 1fr;grid-column-gap:24px;min-height:138px;.subscriptionSpinner{width:100%;height:90px;grid-column:1 / span 2;}"]),Hr=a.default.div.withConfig({displayName:"SubscriptionStatus__Section",componentId:"sc-1bj14zt-1"})(["",""],wr.b),$r=a.default.div.withConfig({displayName:"SubscriptionStatus__SectionContent",componentId:"sc-1bj14zt-2"})(["padding-top:12px;font-size:20px;line-height:28px;letter-spacing:-0.25px;color:",";font-weight:600;"],Object(b.cssVariables)("neutral-10")),Yr=a.default.span.withConfig({displayName:"SubscriptionStatus__SectionContentNormal",componentId:"sc-1bj14zt-3"})(["font-weight:400;vertical-align:baseline;"]),Kr=({isLoading:e,subscription:t})=>{var n;const a=Object(r.a)();return Object(T.jsx)(Wr,{children:e&&!t?Object(T.jsx)(b.Spinner,{className:"subscriptionSpinner"}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(Hr,{children:[Object(T.jsx)("h4",{children:a.formatMessage({id:"common.settings.billing.subscription.plan.label"})}),Object(T.jsxs)($r,{"data-test-id":"CurrentPlanInformation",children:[null!=(n=null==t?void 0:t.display_name)?n:d.Z," ",Object(T.jsxs)(Yr,{children:[" ",null!=t&&t.plan_value?` : USD ${qr()((null==t?void 0:t.plan_value)/100).format("0,0.00")}/month`:""]})]}),Object(T.jsx)(m.s,{href:"/settings/general",children:a.formatMessage({id:"common.settings.billing.subscription.plan.changePlan"})})]}),(null==t?void 0:t.next_billing_date)&&Object(T.jsxs)(Hr,{children:[Object(T.jsx)("h3",{children:a.formatMessage({id:"common.settings.billing.subscription.next.label"})}),Object(T.jsx)($r,{"data-test-id":"NextBillingDate",children:wn()(null==t?void 0:t.next_billing_date).format(d.A)})]})]})})},Gr=()=>{const e=Object(r.a)(),{isLoading:t,data:n}=(()=>{const e=Object(u.Y)(e=>e.organizations.current.uid),[{status:t,data:n,error:a},o]=Object(u.g)(()=>Object(aa.fetchACHCreditTransferSource)(e),[e]);return Object(i.useEffect)(()=>{o()},[o]),Object(u.s)(a),{isLoading:"loading"===t,data:(null==n?void 0:n.data)||null}})();return Object(T.jsx)(T.Fragment,{children:t?Object(T.jsx)(b.Spinner,{}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ir,{children:e.formatMessage({id:"common.settings.billing.paymentMethod.wire.title"})}),Object(T.jsx)(Pr,{children:e.formatMessage({id:"common.settings.billing.paymentMethod.wire.description"})}),Object(T.jsxs)(Ar,{children:[Object(T.jsx)(Tr,{children:e.formatMessage({id:"common.settings.billing.paymentMethod.wire.label.bankName"})}),Object(T.jsx)(Nr,{children:null==n?void 0:n.bank_name}),Object(T.jsx)(Tr,{children:e.formatMessage({id:"common.settings.billing.paymentMethod.wire.label.routingNumber"})}),Object(T.jsx)(Nr,{children:null==n?void 0:n.routing_number}),Object(T.jsx)(Tr,{children:e.formatMessage({id:"common.settings.billing.paymentMethod.wire.label.accountNumber"})}),Object(T.jsx)(Nr,{children:null==n?void 0:n.account_number}),Object(T.jsx)(Tr,{children:e.formatMessage({id:"common.settings.billing.paymentMethod.wire.label.swiftCode"})}),Object(T.jsx)(Nr,{children:null==n?void 0:n.swift_code})]})]})})};var Xr=n("Y+p1"),Qr=n.n(Xr);const Jr=a.default.div.withConfig({displayName:"billingContacts__Wrapper",componentId:"usb9by-0"})(["display:grid;grid-row-gap:16px;"]),Zr=a.default.div.withConfig({displayName:"billingContacts__BillingRow",componentId:"usb9by-1"})([""]),es=a.default.label.withConfig({displayName:"billingContacts__Label",componentId:"usb9by-2"})(["display:block;font-size:12px;font-weight:500;line-height:1;color:",";margin-bottom:6px;"],Object(b.cssVariables)("neutral-10")),ts=a.default.ul.withConfig({displayName:"billingContacts__EmailList",componentId:"usb9by-3"})([""]),ns=a.default.li.withConfig({displayName:"billingContacts__EmailItem",componentId:"usb9by-4"})(["display:flex;justify-content:space-between;align-items:center;background:",";color:",";padding:4px 8px 4px 16px;border-radius:4px;font-size:14px;line-height:20px;& + &{margin-top:8px;}"],Object(b.cssVariables)("neutral-2"),Object(b.cssVariables)("neutral-7")),as=a.default.div.withConfig({displayName:"billingContacts__AddContact",componentId:"usb9by-5"})(["display:flex;align-items:center;form{display:flex;align-items:center;> div:first-child{flex:1;margin-right:8px;}> button + button{margin-left:4px;}}margin-top:8px;"]),is=a.default.div.withConfig({displayName:"billingContacts__SpinnerWrapper",componentId:"usb9by-6"})(["display:flex;justify-content:center;"]),os=a.default.form.withConfig({displayName:"billingContacts__AddBillingContactForm",componentId:"usb9by-7"})(["display:flex;flex-direction:row;width:100%;input{flex:1;}"]),rs=e=>{try{const t=JSON.parse(e);return Array.isArray(t)?t:[e]}catch{return[e]}},ss=[{label:"Owner only",value:d.Ib.OwnerOnly},{label:"Owner and admins",value:d.Ib.OwnerAdmin},{label:"Owner, admins, and billing",value:d.Ib.OwnerAdminBilling}],ls=()=>{const e=Object(r.a)(),{isPermitted:t}=Object(u.h)(),{status:n,isLoading:a,isUpdating:o,billingContacts:l,update:c}=(()=>{const e=Object(r.a)(),t=Object(s.g)(e=>e.organizations.current.uid),[n,a]=Object(i.useState)(void 0),[{status:o},l]=Object(u.g)(async()=>{const e=await Object(aa.fetchBillingContacts)(t);return a(e.data),e},[]),[{status:c,error:d},p]=Object(u.g)(async e=>{const n=await Object(aa.updateBillingContacts)({uid:t,payload:e});return a(n.data),n},[]);return Object(i.useEffect)(()=>{l()},[l]),Object(i.useEffect)(()=>{"success"===c&&b.toast.success({message:e.formatMessage({id:"common.changesSaved"})})},[e,c]),Object(i.useEffect)(()=>{d&&b.toast.error({message:Object(ia.b)(d)})},[d]),{status:o,updateStatus:c,isLoading:"loading"===o,isUpdating:"loading"===c,billingContacts:n,update:p}})(),[d,p]=Object(i.useState)(ss[0]),[m,g]=Object(i.useState)([]),[h,f]=Object(i.useState)(!1);Object(i.useEffect)(()=>{if("success"===n){const e=l?rs(l.billing_email):[];g(e),p(ss.find(e=>e.value===(null==l?void 0:l.primary_contact))||ss[0])}},[l,n]);const j=Object(i.useRef)(null),x=e=>()=>{const t=m.filter(t=>t!==e);try{f(!0),g(t)}catch(e){b.toast.error({message:Object(ia.b)(e)})}},y="success"===n&&l&&(!Qr()(m,rs(l.billing_email))||l.primary_contact!==d.value);return Object(T.jsx)(pi.i,{title:e.formatMessage({id:"common.settings.billing.billingContacts.title"}),description:e.formatMessage({id:"common.settings.billing.billingContacts.description"}),gridItemConfig:{subject:{alignSelf:"start"}},showActions:y,actions:[{key:"default-cancel",label:e.formatMessage({id:"label.cancel"}),buttonType:"tertiary",onClick:()=>{l&&g(rs(l.billing_email)),p(ss.find(e=>e.value===(null==l?void 0:l.primary_contact))||ss[0])}},{key:"default-save",label:e.formatMessage({id:"label.save"}),buttonType:"primary",onClick:()=>{c({billing_email:JSON.stringify(m),primary_contact:d.value}),f(!1)},isLoading:o,disabled:o}],children:a?Object(T.jsx)(is,{children:Object(T.jsx)(b.Spinner,{})}):Object(T.jsxs)(Jr,{children:[Object(T.jsxs)(Zr,{"data-test-id":"PrimaryEmail",children:[Object(T.jsx)(es,{"aria-label":e.formatMessage({id:"common.settings.billing.billingContacts.primaryContacts.label"}),children:e.formatMessage({id:"common.settings.billing.billingContacts.primaryContacts.label"})}),Object(T.jsx)(b.Dropdown,{items:ss,selectedItem:d,onItemSelected:e=>{p(e)},itemToString:e=>e.label,width:"100%",disabled:!t(["organization.billing.all"])})]}),Object(T.jsxs)(Zr,{children:[Object(T.jsx)(es,{children:e.formatMessage({id:"common.settings.billing.billingContacts.additionalContacts.label"})}),Object(T.jsxs)(ts,{children:[m.map(t=>Object(T.jsxs)(ns,{"data-test-id":"BillingContactsEmail",children:[t,Object(T.jsx)(b.IconButton,{title:e.formatMessage({id:"common.settings.billing.billingContacts.additionalContacts.button.remove"}),buttonType:"tertiary",icon:"delete",size:"small",onClick:x(t),"data-test-id":"DeleteButton"})]},`billingEmail_${t}`)),Object(T.jsx)(as,{children:h?Object(T.jsxs)(os,{onSubmit:t=>{var n;t.preventDefault();const a=null==(n=j.current)?void 0:n.value;if(a){if(m.includes(a))return void b.toast.warning({message:e.formatMessage({id:"common.settings.billing.billingContacts.additionalContacts.toast.exists"})});try{g([...m,a]),j.current&&(j.current.value="")}catch(e){b.toast.error({message:Object(ia.b)(e)})}}},"data-test-id":"AddBillingContactForm",children:[Object(T.jsx)(b.InputText,{ref:j,type:"email"}),Object(T.jsx)(b.Button,{type:"button",buttonType:"tertiary",onClick:()=>{f(!1)},children:e.formatMessage({id:"common.settings.billing.billingContacts.additionalContacts.button.cancel"})}),Object(T.jsx)(b.Button,{type:"submit",buttonType:"primary",isLoading:a,children:e.formatMessage({id:"common.settings.billing.billingContacts.additionalContacts.button.add"})})]}):Object(T.jsx)(b.Button,{buttonType:"primary",variant:"ghost",icon:"plus",onClick:()=>{f(!0)},disabled:!t(["organization.billing.all"]),"data-test-id":"AddEmailButton",children:e.formatMessage({id:"common.settings.billing.billingContacts.additionalContacts.button.addEmail"})})})]})]})]})})},cs=()=>{const e=Object(r.a)(),{isLoading:t,currentSubscription:n}=Object(_r.a)(d.bc.Chat),a=Object(Yi.a)(),o=Object(u.Y)(e=>e.organizations.current.payment_method),s=(null==n?void 0:n.subscription_name)===d.ac.FreeTrial,l=Object(i.useMemo)(()=>"MANUAL"===o?Object(T.jsx)(Vr,{}):"WIRE"===o?Object(T.jsx)(Gr,{}):Object(T.jsx)(Br,{isFreeTrial:s}),[o,s]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Kr,{isLoading:t,subscription:n}),a&&Object(T.jsx)(Sr,{}),Object(T.jsx)(pi.g,{children:Object(T.jsx)(pi.i,{title:e.formatMessage({id:"common.settings.billing.paymentMethod.title"}),gridItemConfig:s?{}:{subject:{alignSelf:"start"}},children:l})}),Object(T.jsx)(pi.g,{children:Object(T.jsx)(ls,{})})]})};var ds=n("gQMU"),us=n.n(ds),ps=n("KCpq");const ms=(e,t)=>{switch(e){case"OUTSTANDING":case"PENDING":case"SCHEDULER_PENDING":return t.formatMessage({id:"common.settings.billing.invoices.status.due"});case"FAILED":return t.formatMessage({id:"common.settings.billing.invoices.status.declined"});case"OVERDUE":return t.formatMessage({id:"common.settings.billing.invoices.status.overdue"});case"PAID":return t.formatMessage({id:"common.settings.billing.invoices.status.paid"});case"REFUNDED":return t.formatMessage({id:"common.settings.billing.invoices.status.refunded"});case"UNCOLLECTABLE":return t.formatMessage({id:"common.settings.billing.invoices.status.unpaid"});case"VOID":return t.formatMessage({id:"common.settings.billing.invoices.status.void"});default:return e}},gs=({status:e})=>{const t=Object(r.a)(),n=(e=>{switch(e){case"OUTSTANDING":case"PENDING":case"SCHEDULER_PENDING":return"blue";case"OVERDUE":case"FAILED":case"VOID":case"UNCOLLECTABLE":return"red";case"PAID":return"green";case"REFUNDED":return"neutral";default:return Object(g.logException)({error:`Unexpected invoice status: ${e}`}),"neutral"}})(e);return Object(T.jsx)(b.Lozenge,{variant:b.LozengeVariant.Light,color:n,children:ms(e,t)})},hs=Object(a.default)(m.Ub).withConfig({displayName:"invoices__InvoicesPaginator",componentId:"sc-19e5tba-0"})(["margin-left:auto;"]),bs=Object(a.default)(e=>Object(b.Table)(e)).withConfig({displayName:"invoices__InvoiceTable",componentId:"sc-19e5tba-1"})(["flex:1;min-height:96px;table{flex:1;}input[type='checkbox']{outline:0;}"]),fs=()=>{const e=Object(r.a)(),t=Object(l.k)(),{page:n,pageSize:a,setPagination:o}=Object(u.Q)(1,d.qb),{isLoading:s,data:c}=Object(ps.a)({limit:a,offset:a*(n-1)}),p=(null==c?void 0:c.results)||[],m=Object(i.useCallback)(({voucher:t,subscription:n})=>t?e.formatMessage({id:"common.settings.billing.invoices.column.productType.calls"}):(null==n?void 0:n.product)===d.bc.Chat?e.formatMessage({id:"common.settings.billing.invoices.column.productType.chat"}):(null==n?void 0:n.product)===d.bc.Support?e.formatMessage({id:"common.settings.billing.invoices.column.productType.support"}):d.Z,[e]);return Object(T.jsx)(bs,{rowKey:"uid",dataSource:p,loading:s,columns:[{dataIndex:"created_at",sorter:(e,t,n)=>"ascend"===n?wn()(e.created_at).diff(wn()(t.created_at)):wn()(t.created_at).diff(wn()(e.created_at)),defaultSortOrder:"descend",title:e.formatMessage({id:"common.settings.billing.invoices.column.createdAt"}),render:({created_at:e})=>wn()(e).format(d.A),width:120},{dataIndex:"productType",sorter:(e,t,n)=>{const a=m(e),i=m(t);return"ascend"===n?a.localeCompare(i):i.localeCompare(a)},title:e.formatMessage({id:"common.settings.billing.invoices.column.productType"}),render:e=>m(e),width:112},{dataIndex:"invoice_type",title:e.formatMessage({id:"common.settings.billing.invoices.column.invoiceType"}),render:({invoice_type:e})=>us()(e.toLowerCase()),width:104},{dataIndex:"start_date",title:e.formatMessage({id:"common.settings.billing.invoices.column.servicePeriod"}),width:224,render:e=>e.start_date&&e.end_date?`${wn()(e.start_date).format(d.A)} - ${wn()(e.end_date).format(d.A)}`:d.Z},{dataIndex:"status",title:e.formatMessage({id:"common.settings.billing.invoices.column.status"}),width:104,render:({status:e})=>Object(T.jsx)(gs,{status:e})},{dataIndex:"total_amount",title:e.formatMessage({id:"common.settings.billing.invoices.column.totalAmount"}),width:120,render:({total_amount:e})=>qr()(e/100).format("$0,0.00")},{dataIndex:"stripe_invoice_pdf_url",title:e.formatMessage({id:"common.settings.billing.invoices.column.downloadPDF"}),width:120,render:({stripe_invoice_pdf_url:t})=>Object(T.jsx)(b.Link,{href:t||"#",target:"_blank",iconProps:{icon:"download",size:16},children:e.formatMessage({id:"common.settings.billing.invoices.column.text.downloadPDF"})})},{dataIndex:"",title:e.formatMessage({id:"common.settings.billing.invoices.column.usage"}),width:120,render:({start_date:n})=>{return n?Object(T.jsx)(b.Link,{onClick:(a=n,()=>{t.push("/settings/usage",{targetDate:a})}),iconProps:{icon:"open-in-new",size:16},children:e.formatMessage({id:"common.settings.billing.invoices.column.text.usage"})}):d.Z;var a}}].filter(Boolean),footer:Object(T.jsx)(hs,{current:n,total:(null==c?void 0:c.count)||0,pageSize:a,onChange:o,onItemsPerPageChange:o}),emptyView:Object(T.jsx)(Ja.a,{icon:"no-data",title:"No invoices",description:"The list of invoices will show here."}),showScrollbars:!0})},js=()=>{const e=Object(r.a)(),t=Object(l.n)(),n=Object(l.k)(),a=[{label:e.formatMessage({id:"common.settings.billing.tab.billingInfo"}),key:"billing_info"},{label:e.formatMessage({id:"common.settings.billing.tab.invoices"}),key:"invoices"}],o=Object(i.useMemo)(()=>n.location.pathname===(null==t?void 0:t.url)?a[0]:n.location.pathname===`${null==t?void 0:t.url}/invoices`?a[1]:a[0],[n.location.pathname,null==t?void 0:t.url,a]);if(!t)return null;const s=[{key:d.Db.billing_invoices,path:`${null==t?void 0:t.url}/invoices`,component:fs},{key:d.Db.billing,path:null==t?void 0:t.url,component:cs}];return Object(T.jsxs)(ci,{children:[Object(T.jsx)(Zn.d,{title:"Billing",tabs:a,activeTab:o,onTabPress:e=>{n.push(`${null==t?void 0:t.url}${"invoices"===e.key?`/${e.key}`:""}`)},showBorder:!0}),Object(T.jsx)(l.g,{children:s.map(({key:e,...t})=>Object(T.jsx)(l.d,{...t},e))})]})};var xs=n("50DI"),ys=n.n(xs);const Os=Object(a.default)(m.Sb).withConfig({displayName:"OrgSettingPageHeader",componentId:"dwpjvn-0"})(["& + *{margin-top:24px;}","{left:0;margin-right:8px;}"],m.Sb.BackButton);Os.Title=m.Sb.Title,Os.Description=m.Sb.Description,Os.Actions=m.Sb.Actions,Os.BackButton=m.Sb.BackButton;var vs=n("Sdtr");const _s=a.default.hr.withConfig({displayName:"rolesDetail__Divider",componentId:"im7q35-0"})(["border-width:0;background-color:",";height:1px;margin-bottom:24px;"],Object(b.cssVariables)("neutral-3")),ws=a.default.div.withConfig({displayName:"rolesDetail__PermissionsDetail",componentId:"im7q35-1"})([""]),Cs=a.default.div.withConfig({displayName:"rolesDetail__PermissionsDetailSection",componentId:"im7q35-2"})(["& + &{margin-top:32px;}"]),Ss=a.default.div.withConfig({displayName:"rolesDetail__SectionLabel",componentId:"im7q35-3"})(["font-size:16px;font-weight:600;letter-spacing:-0.15px;line-height:20px;color:",";"],Object(b.cssVariables)("neutral-10")),Ms=a.default.div.withConfig({displayName:"rolesDetail__Description",componentId:"im7q35-4"})(["margin-top:8px;font-size:14px;line-height:20px;letter-spacing:-0.1px;"]),ks=a.default.table.withConfig({displayName:"rolesDetail__DetailTable",componentId:"im7q35-5"})(["margin-top:16px;border-collapse:collapse;min-width:400px;thead{th{font-size:14px;font-weight:500;height:20px;line-height:20px;letter-spacing:-0.1px;color:",";border-bottom:1px solid ",";text-align:left;:nth-child(2){width:104px;}}}tbody{td{height:28px;font-size:14px;line-height:20px;letter-spacing:-0.1px;color:",";:nth-child(2){width:104px;}}tr{:first-child{td{height:32px;padding-top:8px;}}}}"],Object(b.cssVariables)("neutral-10"),Object(b.cssVariables)("neutral-9"),Object(b.cssVariables)("neutral-10")),Is={showDialogsRequest:c.b.showDialogsRequest};var Ps=Object(a.default)(Os.Actions).withConfig({displayName:"rolesDetail___StyledOrgSettingPageHeaderActions",componentId:"im7q35-6"})(["> * + *{margin-left:8px;}"]);const As=Object(s.d)(e=>({organization:e.organizations.current}),Is)(({match:e,history:t,organization:n,showDialogsRequest:a})=>{const o=Object(r.a)(),{isPermitted:s}=Object(u.h)(),{state:{isFetchingRole:l,currentRole:c},actions:{fetchMemberRoleRequest:p,fetchMemberRoleByNameRequest:g}}=Object(i.useContext)(vs.a),h=Object(u.e)(c?c.application_access_controls_details:[]),{roleId:f}=e.params;Object(i.useEffect)(()=>{f&&(isNaN(parseInt(f,10))?g(f):p(f))},[g,p,f]);const j=Object(i.useCallback)(()=>{a({dialogTypes:O.a.InviteMember,dialogProps:{uid:n.uid,role:null!=c?c:void 0,onSuccess:()=>{t.push("/settings/members")}}})},[a,n,c,t]),x=Object(i.useCallback)(()=>{t.push(`/settings/roles/${f}/edit`)},[t,f]);return Object(T.jsxs)(T.Fragment,{children:[l&&Object(T.jsx)(m.cc,{transparent:!0}),Object(T.jsxs)(Os,{children:[Object(T.jsx)(Os.BackButton,{href:"/settings/roles"}),Object(T.jsx)(Os.Title,{children:c&&Object(nr.h)(c)}),c&&c.name!==d.Hb.OWNER&&Object(T.jsxs)(Ps,{children:[Object(T.jsx)(b.Button,{buttonType:"tertiary",icon:"users",size:"small",disabled:!s(["organization.roles.all"]),onClick:j,"data-test-id":"InviteButton",children:o.formatMessage({id:"common.settings.roles.actions_lbl.inviteAs"})}),Object(T.jsx)(b.Button,{buttonType:"tertiary",icon:"copy",size:"small",onClick:()=>{t.push("/settings/roles/create")},disabled:!s(["organization.roles.all"]),"data-test-id":"DuplicateButton",children:o.formatMessage({id:"common.settings.roles.actions_lbl.createFrom"})}),c&&!c.is_predefined&&Object(T.jsx)(b.Button,{buttonType:"secondary",icon:"edit",size:"small",onClick:x,disabled:!s(["organization.roles.all"]),"data-test-id":"EditButton",children:o.formatMessage({id:"common.settings.roles.actions_lbl.edit"})})]})]}),Object(T.jsx)(_s,{}),c&&Object(T.jsxs)(ws,{children:[Object(T.jsxs)(Cs,{children:[Object(T.jsx)(Ss,{children:o.formatMessage({id:"common.settings.roles.detail_lbl.description"})}),Object(T.jsx)(Ms,{children:c.description})]}),c.permissions.length>0&&Object(T.jsxs)(Cs,{children:[Object(T.jsx)(Ss,{children:o.formatMessage({id:"common.settings.roles.detail_lbl.permissions"})}),Object(T.jsxs)(ks,{children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:o.formatMessage({id:"common.settings.roles.detail_lbl.menu"})}),Object(T.jsx)("th",{children:o.formatMessage({id:"common.settings.roles.detail_lbl.level"})})]})}),Object(T.jsx)("tbody",{children:c.permissions.map(e=>{const t=e.split(".")[0],n=e.includes("desk")||e.includes("support");return Object(T.jsxs)("tr",{children:[Object(T.jsxs)("td",{children:[ys()(t)," ",`${n?"":`> ${Object(vs.c)(e)}`}`]}),Object(T.jsx)("td",{children:ys()(Object(vs.b)(e))})]},`permissions_${e}`)})})]})]}),c.is_application_access_control&&Object(T.jsxs)(Cs,{children:[Object(T.jsx)(Ss,{children:o.formatMessage({id:"common.settings.roles.form_title.aac"})}),Object(T.jsxs)(ks,{children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:o.formatMessage({id:"common.settings.roles.detail_lbl.name"})}),Object(T.jsx)("th",{children:o.formatMessage({id:"common.settings.roles.detail_lbl.region"})})]})}),Object(T.jsx)("tbody",{children:c.application_access_controls_details.map(({app_id:e,app_name:t})=>Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:t}),Object(T.jsx)("td",{children:h[e]})]},e))})]})]})]})]})});var Ts,Ns=n("kriW");!function(e){e.ALL="ALL",e.LIMITED="LIMITED"}(Ts||(Ts={}));const Ds=Object(a.default)(e=>Object(b.Table)(e)).withConfig({displayName:"rolesForm__PermissionsTable",componentId:"sc-1c2kl11-0"})(["tbody{border-top:1px solid transparent;}tbody td{height:48px;}"]),Es=a.default.div.withConfig({displayName:"rolesForm__PermissionsWrapper",componentId:"sc-1c2kl11-1"})([""," + ","{margin-top:32px;}"],Ds,Ds),Ls=a.default.div.withConfig({displayName:"rolesForm__AACApps",componentId:"sc-1c2kl11-2"})(["margin-top:28px;"]),Fs=a.default.ul.withConfig({displayName:"rolesForm__AACAppsSelectedList",componentId:"sc-1c2kl11-3"})(["border-radius:4px;margin-bottom:8px;",""],({isEmpty:e})=>e&&Object(a.css)(["display:flex;align-items:center;justify-content:center;height:40px;border:1px solid ",";background-color:white;font-size:14px;line-height:20px;letter-spacing:-0.1px;color:",";"],Object(b.cssVariables)("neutral-3"),Object(b.cssVariables)("neutral-6"))),zs=a.default.li.withConfig({displayName:"rolesForm__AACAppsSelectedItem",componentId:"sc-1c2kl11-4"})(["background:",";height:40px;display:flex;align-items:center;color:",";"," padding:0 8px 0 16px;button{margin-left:auto;}& + &{margin-top:8px;}"],Object(b.cssVariables)("neutral-2"),Object(b.cssVariables)("neutral-7"),b.Body["body-short-01"]);var Rs=Object(a.default)(m.Sb).withConfig({displayName:"rolesForm___StyledPageHeader",componentId:"sc-1c2kl11-5"})(["& + *{margin-top:24px;}"]);const Bs=()=>{const{state:{isFetchingForm:e,isFetchingRole:t,isFetchingPermissions:n,currentRole:o,availablePermissions:d},actions:{fetchMemberRoleRequest:u,createMemberRoleRequest:p,editMemberRoleRequest:g,fetchPermissionsRequest:h,getPermissionLevel:f}}=Object(i.useContext)(vs.a),j=Object(s.g)(e=>e.organizations.current),x=Object(s.f)(),y=Object(l.n)(),v=Object(l.k)(),{roleId:_}=(null==y?void 0:y.params)||{},w=Object(r.a)(),[C]=Object(i.useState)(!!_),[S,M]=Object(i.useState)(Ts.ALL),[k,I]=Object(i.useState)([]),[P,A]=Object(i.useState)([]);Object(i.useEffect)(()=>{_&&u(_),h(j.uid)},[u,h,j.uid,_]),Object(i.useEffect)(()=>{o&&(A(o.permissions),o.is_application_access_control&&M(Ts.LIMITED),I(o.application_access_controls_details))},[o]);const N=Object(i.useCallback)((e,t)=>{const n=f(e.key);return t.map(t=>e.key.replace(n,t))},[f]),D=Object(i.useCallback)(e=>{const t=e.replace(`.${f(e)}`,""),n=["agent","chat","view"].map(e=>`${t}.${e}`);return P.filter(e=>!n.includes(e))},[f,P]),E=Object(i.useCallback)((e,t)=>{A(t?[...D(e),e]:P.filter(t=>t!==e))},[P,D]),L=Object(i.useCallback)(({key:e})=>t=>{E(e,t.target.checked)},[E]),F=Object(i.useCallback)(e=>e.some(e=>P.includes(e)),[P]),z=Object(b.useForm)({onSubmit:async e=>{if(0===P.length)return b.toast.warning({message:w.formatMessage({id:"common.settings.roles.form_toastMessage.atleastOnePermission"})}),!1;if(S===Ts.LIMITED&&0===k.length)return b.toast.warning({message:w.formatMessage({id:"common.settings.roles.form_toastMessage.atleastOneApplication"})}),!1;const t=C&&o?o.id:null,n={...e,uid:j.uid,permissions:P,is_application_access_control:S===Ts.LIMITED,app_ids:k.map(e=>e.app_id)};var a;await(a=()=>{b.toast.success({message:w.formatMessage({id:"common.settings.roles.form_toastMessage.success"},{state:t?"updated":"created"})}),v.push(t?`/settings/roles/${t}`:"/settings/roles")},t?g({roleId:t,payload:n},a):p(n,a))}}),R=Object(b.useField)("name",z,{defaultValue:o&&o.name||"",placeholder:"",validate:e=>0===e.trim().length?w.formatMessage({id:"common.settings.general.app.error_required"}):""}),B=Object(i.useMemo)(()=>Object(T.jsx)(pi.i,{title:w.formatMessage({id:"common.settings.roles.form_lbl.name"}),children:Object(T.jsx)(b.InputText,{ref:R.ref,name:R.name,error:R.error,onChange:R.onChange,"data-test-id":"NameField"})}),[w,R]),V=Object(b.useField)("description",z,{defaultValue:o&&o.description||"",placeholder:""}),U=Object(i.useMemo)(()=>Object(T.jsx)(pi.i,{title:w.formatMessage({id:"common.settings.roles.form_lbl.description"}),description:w.formatMessage({id:"common.settings.roles.form_desc.description"}),children:Object(T.jsx)(b.InputText,{ref:V.ref,name:V.name,error:V.error,onChange:V.onChange,placeholder:w.formatMessage({id:"common.settings.roles.form_ph.description"}),"data-test-id":"DescriptionField"})}),[w,V]),q=Object(i.useMemo)(()=>{const e=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"All"}),": This role can access to all features in a menu.",Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"Chat"}),": This role can only access to chat-related features in a menu.",Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"View"}),": This role can only view."]}),t=null!=d?d:[];return Object(T.jsx)(pi.i,{title:w.formatMessage({id:"common.settings.roles.form_lbl.permissions"}),description:Object(T.jsx)(Ns.a,{id:"common.settings.roles.form_desc.permissions",values:{detail:e}}),gridItemConfig:{subject:{alignSelf:"start"}},children:Object(T.jsx)(Es,{children:Object.keys(t).map(e=>{const n=Object.entries(t[e].pages).map(([e,t])=>({page:e,permissions:t}));return Object(T.jsx)(Ds,{rowKey:"page",dataSource:n,columns:[{dataIndex:"page",title:ys()(e),sorter:!1,render:({page:e})=>"Contact"===e?"":e},{dataIndex:"permissions",title:ys()(t[e].levels[0]),sorter:!1,render:({permissions:e})=>{const t=e.find(({key:e})=>e.includes("all")||e.includes("tech")||e.includes("admin"));return t&&Object(T.jsx)(b.Checkbox,{checked:P.includes(t.key),onChange:L(t),value:t.key})},width:56},{dataIndex:"permissions",key:"levels2",title:t[e].levels.length>2?ys()(t[e].levels[1]):"",sorter:!1,render:({permissions:e})=>{const t=e.find(({key:e})=>e.includes("chat"));if(t){const e=N(t,["all"]);return Object(T.jsx)(b.Checkbox,{onChange:L(t),checked:P.includes(t.key)||F(e),disabled:F(e),value:t.key})}return""},width:56},{dataIndex:"permissions",key:"levels3",title:t[e].levels.length>1?ys()(t[e].levels[t[e].levels.length-1]):"",sorter:!1,render:({permissions:e})=>{const t=e.find(({key:e})=>e.includes("view")||e.includes("agent"));if(t){const e=N(t,["all","chat","admin"]);return Object(T.jsx)(b.Checkbox,{onChange:L(t),checked:P.includes(t.key)||F(e),disabled:F(e),value:t.key})}return""},width:56}],rowStyles:()=>Object(a.css)(["border-top:1px solid ",";:hover{background:white;border-top:1px solid ",";& + tr{border-top:1px solid ",";}}"],Object(b.cssVariables)("neutral-3"),Object(b.cssVariables)("neutral-3"),Object(b.cssVariables)("neutral-3"))},`permissions_table_${e}`)})})})},[w,d,P,L,N,F]),W=Object(i.useMemo)(()=>{const e=e=>()=>{I(t=>t.filter(t=>t.app_id!==e.app_id))},t=[{action:Ts.ALL,label:w.formatMessage({id:"common.settings.roles.form_lbl.aacSelectDropdownAll"})},{action:Ts.LIMITED,label:w.formatMessage({id:"common.settings.roles.form_lbl.aacSelectDropdownLimited"})}];return Object(T.jsxs)(pi.i,{title:w.formatMessage({id:"common.settings.roles.form_title.aac"}),description:w.formatMessage({id:"common.settings.roles.form_desc.aac"}),gridItemConfig:{subject:{alignSelf:"start"}},children:[Object(T.jsx)(b.Dropdown,{width:"100%",items:t,selectedItem:t.find(e=>e.action===S),itemToString:e=>e.label,onChange:e=>{null!=e&&M(e.action)}}),S===Ts.LIMITED&&Object(T.jsxs)(Ls,{children:[Object(T.jsx)(Fs,{isEmpty:0===k.length,children:0===k.length?w.formatMessage({id:"common.settings.roles.form_ph.noAAC"}):k.map(t=>Object(T.jsxs)(zs,{children:[t.app_name,Object(T.jsx)(b.IconButton,{type:"button",buttonType:"tertiary",icon:"remove",size:"small",onClick:e(t)})]},t.app_id))}),Object(T.jsx)(b.Button,{type:"button",buttonType:"primary",variant:"ghost",onClick:()=>{x(c.b.showDialogsRequest({dialogTypes:O.a.SelectApplicationsToAccess,dialogProps:{organization:j,selectedApplications:k,onSubmit:e=>{I(e)}}}))},icon:"plus","data-test-id":"AddApplicationButton",children:w.formatMessage({id:"common.settings.roles.form_lbl.aacSelectButton"})})]})]})},[w,x,j,S,k]),H=Object(i.useCallback)(()=>{v.goBack()},[v]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(Rs,{children:[Object(T.jsx)(m.Sb.BackButton,{href:`../${_}`})," ",Object(T.jsx)(m.Sb.Title,{children:C?w.formatMessage({id:"common.settings.roles.form_title.edit"}):w.formatMessage({id:"common.settings.roles.form_title.create"})})]}),Object(T.jsxs)("form",{onSubmit:z.onSubmit,children:[t&&Object(T.jsx)(m.cc,{transparent:!0}),Object(T.jsxs)(pi.j,{children:[B,U,q,W]}),Object(T.jsxs)(pi.f,{isVisible:!0,theme:"transparent",children:[Object(T.jsx)(b.Button,{type:"button",buttonType:"tertiary",onClick:H,children:"Cancel"},"cancel"),Object(T.jsx)(b.Button,{type:"submit",buttonType:"primary",isLoading:e,disabled:e||n,"data-test-id":"SubmitButton",children:"Save"},"save")]})]})]})};var Vs=n("jLJY");const Us=Object(a.default)(m.Ub).withConfig({displayName:"rolesTable__RolesPaginator",componentId:"sc-198mr3z-0"})(["margin-left:auto;"]),qs=Object(a.default)(e=>Object(b.Table)(e)).withConfig({displayName:"rolesTable__RolesTableComponent",componentId:"sc-198mr3z-1"})(["flex:1;min-height:96px;table{flex:1;}input[type='checkbox']{outline:0;}"]),Ws=a.default.div.withConfig({displayName:"rolesTable__RoleName",componentId:"sc-198mr3z-2"})(["display:flex;align-items:center;font-size:14px;font-weight:500;letter-spacing:-0.31px;line-height:20px;color:",";","{margin-left:8px;}"],Object(b.cssVariables)("neutral-10"),b.Lozenge),Hs=({isLoading:e,memberRoles:t=[],onMenuClick:n,onRoleClick:a,paginator:i})=>{const o=Object(r.a)(),{isPermitted:s}=Object(u.h)(),{page:l,pageSize:c,setPagination:p,total:m}=i,g=e=>{const t=[{label:o.formatMessage({id:"common.settings.roles.actions_lbl.inviteAs"}),onClick:()=>n("INVITE_MEMBER_AS_THIS_ROLE",e)},{label:o.formatMessage({id:"common.settings.roles.actions_lbl.createFrom"}),onClick:()=>n("DUPLICATE_FROM_THIS_ROLE",e)}];return e.is_predefined||e.name===d.Hb.OWNER||(t.push({label:o.formatMessage({id:"common.settings.roles.actions_lbl.edit"}),onClick:()=>n("EDIT_ROLE",e)}),t.push({label:o.formatMessage({id:"common.settings.roles.actions_lbl.delete"}),onClick:()=>n("DELETE_ROLE",e)})),t};return Object(T.jsx)(qs,{rowKey:"id",dataSource:t,loading:e,columns:[{dataIndex:"name",title:o.formatMessage({id:"common.settings.roles.table_lbl.name"}),defaultSortOrder:"ascend",onCell:()=>({"data-test-id":"NameCell"}),sorter:!0,render:e=>Object(T.jsxs)(Ws,{children:[Object(nr.h)(e)," ",e.is_predefined&&Object(T.jsx)(b.Lozenge,{color:"neutral",children:"System Role"})]})},{dataIndex:"description",title:o.formatMessage({id:"common.settings.roles.table_lbl.description"}),sorter:!0,onCell:()=>({"data-test-id":"DescriptionCell"})}],onRow:e=>({onClick:()=>{a(e.is_predefined?e.name:`${e.id}`)},style:{cursor:"pointer"}}),rowActions:e=>e.name!==d.Hb.OWNER&&s(["organization.roles.all"])?[Object(T.jsx)(b.OverflowMenu,{items:g(e),stopClickEventPropagation:!0},"rolesTableOverflow")]:[],footer:Object(T.jsx)(Us,{current:l,total:m,pageSize:c,onChange:p,onItemsPerPageChange:p}),showScrollbars:!0})},$s={showDialogsRequest:c.b.showDialogsRequest},Ys=Object(s.d)(e=>({organization:e.organizations.current}),$s)(({match:e,history:t,organization:n,showDialogsRequest:a})=>{const o=Object(r.a)(),{isPermitted:s}=Object(u.h)(),{state:{isFetchingRoles:l,memberRoles:c,total:d},actions:{fetchMemberRolesRequest:p,deleteMemberRoleRequest:m,setCurrentRole:g}}=Object(i.useContext)(vs.a),h=Object(i.useContext)(pi.l);Object(i.useEffect)(()=>(h.setBodyFitToWindow(!0),()=>{h.setBodyFitToWindow(!1)}),[h]);const f=Object(u.Q)(1,20),{page:j,pageSize:x,setPagination:y}=f;Object(i.useEffect)(()=>{try{g(null),p({uid:n.uid,limit:x,offset:(j-1)*x})}catch(e){Object(Vs.a)(e)}},[p,n,j,x,g]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(pi.k,{title:o.formatMessage({id:"common.settings.label.roles"}),actions:s(["organization.roles.all"])?[{key:"create-roles",label:o.formatMessage({id:"common.settings.roles_lbl.createButton"}),icon:"plus",buttonType:"primary"}]:[],tabs:[],onActionPress:()=>{t.push(`${e.url}/create`)}}),Object(T.jsx)(Hs,{isLoading:l,memberRoles:c,onMenuClick:(i,r)=>{switch(i){case"DELETE_ROLE":return void a({dialogTypes:O.a.Delete,dialogProps:{title:o.formatMessage({id:"common.settings.roles.list_title.delete"},{role:r.name}),description:o.formatMessage({id:"common.settings.roles.list_desc.delete"}),onDelete:async()=>{try{await m({roleId:r.id}),b.toast.success({message:o.formatMessage({id:"common.settings.roles.list_toastMessage.delete"})}),p({uid:n.uid,limit:x,offset:(j-1)*x})}catch(e){b.toast.error({message:Object(ia.b)(e)})}}}});case"EDIT_ROLE":return g(null),void t.push(`${e.url}/${r.id}/edit`);case"INVITE_MEMBER_AS_THIS_ROLE":return void a({dialogTypes:O.a.InviteMember,dialogProps:{uid:n.uid,role:r,onSuccess:()=>{t.push("/settings/members")}}});case"DUPLICATE_FROM_THIS_ROLE":return g(r),void t.push(`${e.url}/create`);default:return}},onRoleClick:n=>{t.push(`${e.url}/${n}`)},paginator:{page:j,pageSize:x,setPagination:y,total:d}})]})}),Ks=({match:e})=>Object(T.jsx)(vs.a.Provider,{value:Object(vs.d)(),children:Object(T.jsxs)(l.g,{children:[Object(T.jsx)(l.d,{path:`${e.url}/create`,component:Bs}),Object(T.jsx)(l.d,{path:`${e.url}/:roleId/edit`,component:Bs}),Object(T.jsx)(l.d,{path:`${e.url}/:roleId`,component:As}),Object(T.jsx)(l.d,{path:e.url,component:Ys})]})});var Gs=n("uGGy"),Xs=n.n(Gs),Qs=n("EE1x"),Js=n.n(Qs);const Zs=a.default.div.withConfig({displayName:"LoginIPRestriction__IPInputAction",componentId:"sc-1qgwhvz-0"})([""]),el=a.default.div.withConfig({displayName:"LoginIPRestriction__IPRow",componentId:"sc-1qgwhvz-1"})(["padding:4px 8px 4px 16px;border-radius:4px;background-color:",";",";color:",";display:flex;align-items:center;","{margin-left:auto;}"],Object(b.cssVariables)("neutral-2"),b.Body["body-short-01"],Object(b.cssVariables)("neutral-7"),Zs),tl=a.default.div.withConfig({displayName:"LoginIPRestriction__IPRows",componentId:"sc-1qgwhvz-2"})(["margin-top:8px;flex:1;"," + ","{margin-top:8px;}"],el,el),nl=a.default.div.withConfig({displayName:"LoginIPRestriction__IPInputWrapper",componentId:"sc-1qgwhvz-3"})(["display:grid;grid-template-columns:1fr 80px;grid-column-gap:8px;"]),al=a.default.div.withConfig({displayName:"LoginIPRestriction__AllowAccessInformation",componentId:"sc-1qgwhvz-4"})(["h3{",";font-size:14px;}p{margin-top:8px;",";}"],b.Subtitles["subtitle-01"],b.Body["body-short-01"]),il=a.default.div.withConfig({displayName:"LoginIPRestriction__AllowAccess",componentId:"sc-1qgwhvz-5"})(["margin-top:24px;border-top:1px solid ",";padding:24px 0 0 0;display:grid;grid-template-columns:1fr 40px;grid-column-gap:32px;align-items:flex-start;",""],Object(b.cssVariables)("neutral-3"),({$disabled:e})=>{if(e)return Object(a.css)([""," > h3,"," > p{color:",";}"],al,al,Object(b.cssVariables)("neutral-5"))});var ol=Object(a.default)(b.InlineNotification).withConfig({displayName:"LoginIPRestriction___StyledInlineNotification",componentId:"sc-1qgwhvz-6"})(["margin-top:24px;"]);const rl=()=>{const e=Object(r.a)(),t=Object(u.W)(),n=Object(u.Y)(e=>e.organizations.current),{isPermitted:o}=Object(u.h)(),{register:l,handleSubmit:d,errors:p,reset:g}=Object(ea.d)({defaultValues:{ipAddress:""}}),[h,f]=Object(i.useState)(n.login_cidr_list),[j,x]=Object(i.useState)(n.ignore_cidr_on_two_factor_authentication),{loading:y,update:v}=(()=>{const e=Object(s.f)(),[{data:t,status:n},a]=Object(u.g)(e=>Object(aa.setLoginIPRanges)(e),[]);return Object(i.useEffect)(()=>{t&&e(c.b.updateOrganizationSuccess(null==t?void 0:t.data.organization))},[e,t]),{loading:"loading"===n,update:a}})(),_=n=>{n?t({dialogTypes:O.a.Confirm,dialogProps:{title:e.formatMessage({id:"common.settings.security.loginRestriction.allowAccess.confirmDialog.title"}),description:e.formatMessage({id:"common.settings.security.loginRestriction.allowAccess.confirmDialog.description"}),confirmText:e.formatMessage({id:"common.settings.security.loginRestriction.allowAccess.confirmDialog.ok"}),onConfirm:()=>{x(n)}}}):x(n)},w=!Qr()(n.login_cidr_list,h)||!Qr()(n.ignore_cidr_on_two_factor_authentication,j),C=Object(i.useCallback)(e=>p[e]?{hasError:!0,message:p[e].message||""}:void 0,[p]),S=0===h.length||!o(["organization.security.all"]);return Object(T.jsx)(pi.g,{children:Object(T.jsxs)(pi.i,{title:e.formatMessage({id:"common.settings.security.loginRestriction.title"}),description:e.formatMessage({id:"common.settings.security.loginRestriction.desc"}),gridItemConfig:{subject:{alignSelf:"start"}},actions:[{key:"confirmChange",label:e.formatMessage({id:"common.settings.security.loginRestriction.button.save"}),buttonType:"primary",type:"submit",disabled:!w||y,isLoading:y,onClick:()=>{v({loginIPRanges:h,ignore_cidr_on_two_factor_authentication:j})}}],showActions:w,children:[Object(T.jsx)("form",{onSubmit:d(({ipAddress:e})=>{f([...h,e]),g({ipAddress:""})}),children:Object(T.jsxs)(nl,{children:[Object(T.jsx)(b.InputText,{ref:l({validate:t=>h.includes(t)?e.formatMessage({id:"common.settings.security.loginRestriction.error.alreadyExistsIP"}):[Js.a.v4({exact:!0}),Xs.a.v4({exact:!0})].some(e=>e.test(t))||e.formatMessage({id:"common.settings.security.loginRestriction.error.invalidIP"})}),name:"ipAddress",placeholder:e.formatMessage({id:"common.settings.security.loginRestriction.ph"}),error:C("ipAddress"),disabled:!o(["organization.security.all"]),"data-test-id":"IPAddressInput"}),Object(T.jsx)(Zs,{children:Object(T.jsx)(b.Button,{buttonType:"primary",type:"submit",disabled:!o(["organization.security.all"]),children:e.formatMessage({id:"common.settings.security.loginRestriction.allowAccess.add"})})})]})}),Object(T.jsx)(ol,{type:"warning",message:e.formatMessage({id:"common.settings.security.loginRestriction.warning"},{a:e=>Object(T.jsx)(b.Link,{role:"button",variant:b.LinkVariant.Inline,onClick:()=>t({dialogTypes:O.a.IPRestrictionGuide}),children:e})})}),Object(T.jsx)(tl,{children:h.map(t=>{return Object(T.jsxs)(el,{children:[t,Object(T.jsx)(Zs,{children:Object(T.jsx)(m.tc,{offset:"0, 6",placement:"bottom",target:Object(T.jsx)(b.IconButton,{buttonType:"tertiary",size:"small",icon:"delete",onClick:(n=t,()=>{const e=h.filter(e=>e!==n);0===e.length&&x(!1),f(e)})}),content:e.formatMessage({id:"common.settings.security.loginRestriction.deleteIP"})})})]},`ipRowItem_${t}`);var n})}),Object(T.jsxs)(il,{$disabled:S,children:[Object(T.jsxs)(al,{children:[Object(T.jsx)("h3",{children:e.formatMessage({id:"common.settings.security.loginRestriction.allowAccess.title"})}),Object(T.jsx)("p",{children:e.formatMessage({id:"common.settings.security.loginRestriction.allowAccess.description"})})]}),S?Object(T.jsx)(b.ContextualHelp,{placement:"bottom-end",content:e.formatMessage({id:"common.settings.security.loginRestriction.allowAccess.disabled.tooltip"}),popperProps:{positionFixed:!0,modifiers:{offset:{offset:"0, 6"}}},tooltipContentStyle:Object(a.css)(["width:256px;"]),children:Object(T.jsx)(b.Toggle,{onChange:_,checked:h.length>0&&j,disabled:!0})}):Object(T.jsx)(b.Toggle,{onChange:_,checked:j})]})]})})};var sl=n("xWTm");const ll=()=>{const e=Object(r.a)(),t=Object(u.W)(),n=Object(u.O)(),{isPermitted:a}=Object(u.h)(),o=Object(i.useMemo)(()=>!a(["organization.security.all"]),[a]),{uid:s}=n,{slug_name:l,sso_entity_id:c,sso_idp_cert:d,sso_idp_url:p,sso_enforcing:m,sso_jit_provisioning:g,sso_default_role:h}=n,f=Object(i.useMemo)(()=>({slug_name:l||"",sso_entity_id:c||"",sso_idp_cert:d||"",sso_idp_url:p||"",sso_enforcing:!!m,sso_jit_provisioning:!!g,sso_default_role:h||""}),[l,c,d,p,m,g,h]),j=[c,d,p].some(e=>!!e&&e.trim().length>0),x=Object(i.useCallback)(()=>{t({dialogTypes:O.a.SSOConfig,dialogProps:{uid:s,currentConfiguration:f,isEditMode:!1}})},[f,t,s]),y=Object(i.useCallback)(()=>Object(T.jsx)(b.Button,{buttonType:"tertiary",onClick:x,disabled:o,children:e.formatMessage({id:"common.settings.security.samlsso.button.addConfigure"})}),[e,o,x]);return Object(T.jsx)(pi.g,{children:Object(T.jsx)(pi.i,{title:e.formatMessage({id:"common.settings.security.samlsso.title"}),description:e.formatMessage({id:"common.settings.security.samlsso.description"}),gridItemConfig:{subject:{alignSelf:"start"}},children:j?Object(T.jsx)(sl.b,{currentConfiguration:f,uid:s}):y()})})},cl=()=>{const e=Object(r.a)(),{uid:t,enforce_two_factor_authentication:n}=Object(u.Y)(e=>e.organizations.current),{loading:a,update:o}=(e=>{const t=Object(s.f)(),[{status:n,data:a},o]=Object(u.g)(t=>Object(aa.enforce2FA)({uid:e,enforce:t}),[e]);return Object(i.useEffect)(()=>{a&&t(c.b.updateOrganizationSuccess(a.data.organization))},[t,a]),{loading:"loading"===n,update:o}})(t);return Object(T.jsx)(pi.g,{children:Object(T.jsx)(pi.r,{title:e.formatMessage({id:"common.settings.security.enforce2fa.title"}),description:e.formatMessage({id:"common.settings.security.enforce2fa.description"}),checked:n,isFetching:a,confirmDialogProps:{title:e.formatMessage({id:n?"common.settings.security.enforce2fa.confirmDialog.off.title":"common.settings.security.enforce2fa.confirmDialog.on.title"}),description:e.formatMessage({id:n?"common.settings.security.enforce2fa.confirmDialog.off.description":"common.settings.security.enforce2fa.confirmDialog.on.description"}),confirmText:e.formatMessage({id:"common.settings.security.enforce2fa.confirmDialog.button.confirm"}),onConfirm:()=>o(!n)},gridItemConfig:{body:{alignSelf:"start"}}})})},dl=()=>Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Zn.d,{title:"Access control"}),Object(T.jsx)(cl,{}),Object(T.jsx)(rl,{}),Object(T.jsx)(ll,{})]}),ul=a.default.div.withConfig({displayName:"OrganizationStatusPage__Wrapper",componentId:"sc-1ij849q-0"})(["flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:576px;margin:0 auto;margin-bottom:88px;svg{fill:",";}color:",";"],Object(b.cssVariables)("neutral-5"),Object(b.cssVariables)("neutral-7")),pl=a.default.h1.withConfig({displayName:"OrganizationStatusPage__Title",componentId:"sc-1ij849q-1"})(["",";margin:12px 0 4px;strong{font-weight:600;}"],b.Subtitles["subtitle-03"]);var ml=Object(a.default)("div").withConfig({displayName:"OrganizationStatusPage___StyledDiv",componentId:"sc-1ij849q-2"})(["display:flex;flex-direction:column;height:100%;"]);const gl=({title:e})=>{var t;const n=Object(r.a)(),{isOrganizationDeactivated:a}=Object(Qa.b)(),{status:i="INACTIVE"}=Object(s.g)(e=>e.organizations.current);if(!a)return null;const o={[d.Eb.Inactive]:{title:n.formatMessage({id:"common.settings.organizationStatus.inactive.title"},{page:e,strong:e=>Object(T.jsx)("strong",{children:e})})},[d.Eb.Archived]:{title:n.formatMessage({id:"common.settings.organizationStatus.archived.title"},{page:e,strong:e=>Object(T.jsx)("strong",{children:e})})}};return Object(T.jsxs)(ml,{children:[Object(T.jsx)(Os,{children:Object(T.jsx)(Os.Title,{children:e})}),Object(T.jsxs)(ul,{children:[Object(T.jsx)(b.Icon,{icon:"hide",size:80}),Object(T.jsx)(pl,{"data-test-id":"OrganizationStatusPageTitle",children:null==(t=o[i])?void 0:t.title})]})]})};var hl=n("ObPb");const bl=Object(i.createContext)({date:wn()(),setDate:()=>{},subscription:null,isLoadingSubscription:!0,isLoadingUsage:!0}),fl=({children:e})=>{const t=Object(l.k)(),[n,a]=Object(i.useState)(wn()()),{isLoading:o,subscription:r}=(e=>{const[{data:t,status:n},a]=Object(u.g)(async()=>await Object(aa.fetchSubscriptionByMonth)({month:e.format("YYYY-MM"),product:d.bc.Chat}),[e]),o=null!=t&&t.data&&(Object.prototype.hasOwnProperty.call(null==t?void 0:t.data,"error")||kr()(null==t?void 0:t.data))?null:null==t?void 0:t.data;return Object(i.useEffect)(()=>{a()},[a]),{isLoading:"loading"===n,subscription:o}})(n),{isLoadingUsage:s,monthlyUsage:c}=Object(hl.a)(n);return Object(i.useEffect)(()=>{const{state:e}=t.location;null!=e&&e.targetDate&&a(wn()(e.targetDate))},[t.location]),Object(T.jsx)(bl.Provider,{value:{date:n,setDate:a,isLoadingSubscription:o,subscription:r,isLoadingUsage:s,monthlyUsage:c},children:e})};var jl=n("8hhJ"),xl=n("toZZ");var yl=n("QEtb"),Ol=n("kKuS"),vl=n("dcNB");var _l=n("tGOr"),wl=n("BYGL"),Cl=n("AuOK");var Sl=Object(a.default)(b.Table).withConfig({displayName:"UsageByApps___StyledTable",componentId:"sc-1mgvs0g-0"})(["margin-top:-8px;"]);const Ml=({date:e,usageField:t})=>{const n=Object(r.a)(),{isLoading:a,usage:o}=(e=>{const{usageField:t,date:n}=e,a=Object(s.g)(e=>e.organizations.current),[{status:o,data:r},l]=Object(u.g)(async()=>{const e=Je.a.stringify({target_month:n.format("YYYY-MM"),field:Object(g.getField)(t)});return Object(aa.fetchMonthlyUsageByApplications)(a.uid,e)},[]);Object(i.useEffect)(()=>{l()},[l]);const c=null==r?void 0:r.data.data,d=Object(i.useMemo)(()=>c?c.reduce((e,t)=>{if(!t.updated_dt)return e;const n=wn()(t.updated_dt).valueOf();return"number"==typeof e?Math.max(e,n):n},null):null,[c]);return{isLoading:"loading"===o,usage:null!=c?c:[],lastUpdatedAt:d}})({usageField:t,date:e}),l=[{title:n.formatMessage({id:"common.settings.usage.usageByApps.column.applicationName"}),dataIndex:"app_name"},{title:n.formatMessage({id:"common.settings.usage.usageByApps.column.usage"}),dataIndex:"usage",width:180,render:({usage:e})=>e?Object(g.isByteUsageFeature)(t)?Object(g.getTransformedUsage)(Object(g.transformBytesToGigaByte)(Number(e))):Object(g.getTransformedUsage)(Number(e)):0},{title:n.formatMessage({id:"common.settings.usage.usageByApps.column.share"}),dataIndex:"share",width:120,render:({share:e})=>`${qr()(e).format("0.00")}%`}],c=o.map(({app_name:e,usage:t,share:n})=>({app_name:e,usage:t,share:n}));return Object(T.jsx)(Sl,{columns:l,dataSource:c,loading:a})},kl=a.default.section.withConfig({displayName:"UsageDetailContent__UsageSection",componentId:"f8tku2-0"})(["padding:0 24px;& + &{margin-top:24px;}",""],({$useTopBorder:e})=>{if(e)return Object(a.css)(["border-top:1px solid ",";padding-top:24px;"],Object(b.cssVariables)("neutral-3"))}),Il=a.default.div.withConfig({displayName:"UsageDetailContent__UsageByAppHeader",componentId:"f8tku2-1"})(["",";"],b.Subtitles["subtitle-02"]);var Pl=Object(a.default)(Il).withConfig({displayName:"UsageDetailContent___StyledUsageByAppHeader2",componentId:"f8tku2-2"})(["margin-bottom:24px;"]),Al=Object(a.default)(Il).withConfig({displayName:"UsageDetailContent___StyledUsageByAppHeader",componentId:"f8tku2-3"})(["margin-top:56px;"]);const Tl=a.default.div.withConfig({displayName:"UsageDetailContent__UsageDetailShowMore",componentId:"f8tku2-4"})(["display:flex;justify-content:center;margin-top:12px;padding:8px 0;"]),Nl=a.default.div.withConfig({displayName:"UsageDetailContent__UsageUnavailable",componentId:"f8tku2-5"})(["font-size:12px;line-height:16px;text-align:center;color:",";height:122px;display:flex;justify-content:center;padding-top:32px;"],Object(b.cssVariables)("neutral-7")),Dl={borderWidth:2,borderCapStyle:"round",pointBorderColor:"#fff",pointHoverBorderColor:"#fff",pointHitRadius:3,lineTension:0},El=({feature:e,usageField:t,date:n,quota:a})=>{const o=Object(r.a)(),{dailyUsage:{daily:s,accumulate:l,labels:c}}=((e,t,n)=>{const a=Object(xl.b)(e=>e.organizations.current),o=wn()(),r=n.isSame(o,"month")?o.date():wn()(n).endOf("month").date(),s=n.startOf("month").format("YYYY-MM-DD"),l=n.date(r).format("YYYY-MM-DD"),[{status:c,data:u},p]=Object(Jo.a)(()=>{const e=Je.a.stringify({start_date:s,end_date:l,fields:Object(g.getField)(t)});return Object(aa.fetchOrganizationDailyUsage)(a.uid,e)},[a.uid,t,s,l]),[{status:m,data:h},b]=Object(Jo.a)(()=>{const e=Je.a.stringify({start_date:s,end_date:l,fields:Object(g.getField)(t)});return Object(aa.fetchOrganizationDailyAccumulateUsage)(a.uid,e)},[a.uid,t,s,l]);Object(i.useEffect)(()=>{e&&e.trackable&&!d.j.includes(t)&&(p(),b())},[e,p,b,t]);const f=null==u?void 0:u.data.data.map(e=>e[t]),j=null==h?void 0:h.data.data.map(e=>e[t]);return{isDailyLoading:"loading"===c||"loading"===m,dailyUsage:{labels:Object(g.getDateRange)(n.clone().startOf("month"),n.endOf("month")),accumulate:j,daily:f}}})(e,t,n),u=Object(i.useMemo)(()=>Object(g.isByteUsageFeature)(t)?{quota:Object(g.transformBytesToGigaByte)(a),daily:null==s?void 0:s.map(g.transformBytesToGigaByte),accumulate:null==l?void 0:l.map(g.transformBytesToGigaByte)}:{quota:a,daily:s,accumulate:l},[l,s,a,t]),p=Object(i.useMemo)(()=>{if(!e)return[];const t={backgroundColor:"transparent",borderColor:Object(b.cssColors)("purple-7"),pointBackgroundColor:Object(b.cssColors)("purple-7"),pointHoverBackgroundColor:Object(b.cssColors)("purple-8")},n={categoryPercentage:.6,maxBarThickness:6,backgroundColor:Object(b.cssColors)("blue-5"),backgroundHoverColor:Object(b.cssColors)("blue-6")};return d.sb.includes(e.key)?[{type:"line",label:"Daily",data:u.daily,...t,...Dl}]:[{type:"line",label:"Total",data:u.accumulate,...t,...Dl},{type:"bar",label:"Daily",data:u.daily,...n}]},[e,u.accumulate,u.daily]);return e.trackable&&!d.Bb.includes(e.key)&&Object(T.jsxs)(kl,{children:[Object(T.jsx)(Al,{children:o.formatMessage({id:"common.settings.usage.usageByApps.header.dailyActivity"})}),Object(T.jsx)(_l.l,{height:"240px",labels:c,datasets:p,annotation:{value:u.quota,label:`${u.quota} Quota`}})]})},Ll=({monthlyUsage:e,feature:t,isFreeTrial:n,date:a,quota:o,limit:s,usageField:l,isMultiple:c=!1})=>{const p=Object(r.a)(),[h,f]=Object(i.useState)(!1),j=Object(u.W)(),x=El({feature:t,usageField:l,date:a,quota:o}),y=Object(g.isByteUsageFeature)(l)?"gigabyte":"",v=()=>t.key===d.u.PeakConnection?p.formatMessage({id:"common.settings.usage.usageDetail.legend.used.peak_connection"}):p.formatMessage({id:"common.settings.usage.usageDetail.legend.used"});return Object(T.jsxs)(yl.a,{title:(()=>{if(d.yb.includes(l))return p.formatMessage({id:`common.features.usage.${t.key}.${l}.title`})})(),description:(()=>{if(d.yb.includes(l))return p.formatMessage({id:`common.features.usage.${t.key}.${l}.description`})})(),quotaNotification:Object(T.jsx)(wl.a,{isFreeTrial:n,usage:e,quota:o,limit:s,unit:y}),isMultiple:c,children:[t.trackable?Object(T.jsx)(kl,{children:Object(T.jsx)(m.yc,{usageField:l,variant:"medium",unitType:y,label:"",usage:e,quota:o,limit:s,showLegends:!0,showAlert:!0,showBarChartRange:!0,legendLabels:{usage:v(),remains:p.formatMessage({id:"common.settings.usage.usageDetail.legend.remaining"})},tooltipLabels:{usage:v(),remains:p.formatMessage({id:"common.settings.usage.usageDetail.legend.remaining"})},availabilityTooltips:Object(Cl.a)({intl:p,isFreeTrial:n,limit:s,unit:y,onLinkClick:()=>{j({dialogTypes:O.a.Overage})}}),showUsedValueLegend:!0})}):Object(T.jsx)(kl,{children:Object(T.jsx)(Nl,{children:p.formatMessage({id:"chat.settings.features.detail.usage.unavailable"})})}),(h||!c)&&Object(T.jsxs)(T.Fragment,{children:[x,t.trackable&&Object(T.jsxs)(kl,{$useTopBorder:!0,children:[Object(T.jsx)(Pl,{children:p.formatMessage({id:"common.settings.usage.usageByApps.header.application"})}),Object(T.jsx)(Ml,{date:a,usageField:l})]})]}),c&&Object(T.jsxs)(Tl,{children:[" ",Object(T.jsx)(b.Button,{variant:"ghost",buttonType:"primary",icon:h?"chevron-up":"chevron-down",size:"small",onClick:()=>{f(e=>!e)},children:h?p.formatMessage({id:"common.settings.usage.button.showLess"}):p.formatMessage({id:"common.settings.usage.button.showMore"})})]})]})};var Fl=n("7hkf");const zl=a.default.div.withConfig({displayName:"UsageDetail__UsageDetailWrapper",componentId:"sc-16iw42p-0"})(["padding-bottom:64px;.usageDetailNotification{margin-bottom:16px;}"]),Rl=a.default.div.withConfig({displayName:"UsageDetail__UsageMultipleTitle",componentId:"sc-16iw42p-1"})(["display:flex;align-items:center;",";margin-bottom:12px;"],b.Subtitles["subtitle-02"]),Bl=a.default.div.withConfig({displayName:"UsageDetail__UsageHelpers",componentId:"sc-16iw42p-2"})(["display:flex;> div + div{margin-left:32px;}"]);var Vl=Object(a.default)(yl.b).withConfig({displayName:"UsageDetail___StyledUsageDetailCardGroup",componentId:"sc-16iw42p-3"})(["margin-top:24px;margin-bottom:24px;"]),Ul=Object(a.default)(m.xb).withConfig({displayName:"UsageDetail___StyledLastUpdatedAt",componentId:"sc-16iw42p-4"})(["margin-left:auto;"]);const ql=()=>{const e=Object(r.a)(),t=Object(l.n)(),n=Object(l.l)(),a=Object(jl.b)(),o=`/settings/usage${n.search||""}`,{featureKey:s}=null==t?void 0:t.params,{date:c,subscription:u}=Object(i.useContext)(bl),p=d.t.find(e=>e.key===s),{monthlyUsage:m,updatedDt:h}=((e,t)=>{const n=Object(xl.b)(({organizations:e})=>e.current).uid,[{status:a,data:o},r]=Object(Jo.a)(()=>{const e=Je.a.stringify({start_month:t.format("YYYY-MM"),end_month:t.format("YYYY-MM")});return Object(aa.fetchOrganizationMonthlyUsage)(n,e)},[n,t]);return Object(i.useEffect)(()=>{e&&e.trackable&&r()},[e,r]),{isMonthlyLoading:"loading"===a,monthlyUsage:null==o?void 0:o.data.data[0],updatedDt:null==o?void 0:o.data.data[0].updated_dt}})(p,c);if(!p||!u)return null;const b="free_trial"===u.subscription_name,f=(p.trackable?p.plans.map(({planKey:e,usageField:t})=>{var n;const a=t?null==m?void 0:m[t]:0,i=null!=(n=u.plan[e])?n:null;return Object(g.generateUsageData)({feature:p,plan:i,usage:a,usageField:t})}):[]).length>1,j=a({featureKey:s}),x=p.trackable?p.plans.map(({planKey:e,usageField:t})=>{var n;const a=t?null==m?void 0:m[t]:0,i=null!=(n=u.plan[e])?n:null,{quota:o,limit:r}=Object(g.generateUsageData)({feature:p,plan:i,usage:a,usageField:t});return{usageField:t,quota:o,limit:r}}):null;return Object(T.jsxs)(zl,{children:[Object(T.jsxs)(Os,{children:[Object(T.jsx)(Os.BackButton,{href:o}),Object(T.jsx)(Os.Title,{children:j}),Object(T.jsx)(Os.Description,{children:e.formatMessage({id:`common.features.description.${s}`})})]}),x&&Object(T.jsxs)(Bl,{children:[Object(T.jsx)(Fl.a,{quotas:x}),Object(T.jsx)(vl.a,{calculations:x.map(({usageField:e})=>({featureKey:s,usageField:e})),openUsageGuideFrom:"organization"})]}),Object(T.jsxs)(Vl,{$isMultiple:f,children:[Object(T.jsxs)(Rl,{children:[e.formatMessage({id:"common.settings.usage.usageDetail.title"}),h&&Object(T.jsx)(Ul,{timestamp:h})]}),p.plans.map(({planKey:e,usageField:t})=>{var n;const a=t?null==m?void 0:m[t]:0,i=null!=(n=u.plan[e])?n:null,{usage:o,quota:r,limit:s}=Object(g.generateUsageData)({feature:p,plan:i,usage:a,usageField:t});return Object(T.jsx)(Ll,{feature:p,monthlyUsage:o,updatedDt:h,isFreeTrial:b,date:c,quota:r,limit:s,usageField:t,isMultiple:f},`usage-detail-content-${t}`)}),Object(T.jsx)(Ol.a,{feature:s})]})]})},Wl=a.default.div.withConfig({displayName:"EmailAlert__Wrapper",componentId:"a9pgcq-0"})(["display:grid;grid-template-columns:1fr 1fr;"]),Hl=a.default.div.withConfig({displayName:"EmailAlert__SpinnerWrapper",componentId:"a9pgcq-1"})(["display:flex;justify-content:center;"]),$l=()=>{const e=Object(r.a)(),{isFetching:t,fetchStatus:n,isLoading:a,update:o,data:l}=(()=>{var e,t;const n=Object(s.g)(e=>e.organizations.current.uid),[{data:a,status:o},r]=Object(u.g)(async()=>await Object(aa.fetchUsageAlertEmail)(n),[n]),[{data:l,status:c,error:d},p]=Object(u.g)(async e=>await Object(aa.updateUsageAlertEmail)(n,e),[n]);return Object(i.useEffect)(()=>{r()},[r]),Object(i.useEffect)(()=>{d&&b.toast.error({message:Object(ia.b)(d)})},[d]),{isFetching:"loading"===o,fetchStatus:o,isLoading:"loading"===c,update:p,data:null!=(e=null==a?void 0:a.data)?e:null,updated:null!=(t=null==l?void 0:l.data)?t:null}})(),{formState:c,handleSubmit:d,register:p,reset:m}=Object(ea.d)({mode:"onChange"});Object(i.useEffect)(()=>{"success"===n&&l&&m({usage_alert_email:l.usage_alert_email})},[l,n,t,m]);const g=t=>{try{o(t),b.toast.success({message:e.formatMessage({id:"common.settings.usage.emailAlerts.toast.success"})}),m(t)}catch(e){b.toast.error({message:Object(ia.b)(e)}),m()}};return Object(T.jsx)(pi.g,{children:Object(T.jsx)(pi.i,{title:e.formatMessage({id:"common.settings.usage.emailAlerts.title"}),description:e.formatMessage({id:"common.settings.usage.emailAlerts.description"}),showActions:c.isDirty,actions:[{key:"default-cancel",label:e.formatMessage({id:"label.cancel"}),buttonType:"tertiary",onClick:()=>{m()}},{key:"default-save",label:e.formatMessage({id:"label.save"}),buttonType:"primary",onClick:d(g),isLoading:a,disabled:a}],children:t||!l?Object(T.jsx)(Hl,{children:Object(T.jsx)(b.Spinner,{})}):Object(T.jsx)("form",{onSubmit:d(g),children:Object(T.jsxs)(Wl,{children:[Object(T.jsx)(b.Radio,{ref:p,name:"usage_alert_email",label:e.formatMessage({id:"common.settings.usage.emailAlerts.options.ownerOnly"}),value:"OWNER_ONLY"}),Object(T.jsx)(b.Radio,{ref:p,name:"usage_alert_email",label:e.formatMessage({id:"common.settings.usage.emailAlerts.options.ownerAdmin"}),value:"OWNER_ADMIN"})]})})})})};var Yl=n("Se/U"),Kl=n("uiWU"),Gl=Object(Kl.a)(Yl.a,1),Xl=n("/Tr7"),Ql=n("jIYg");var Jl=n("Mn35"),Zl=n.n(Jl),ec=n("BTlO");const tc=a.default.div.withConfig({displayName:"UsageTable__StyledUsageTable",componentId:"iq4bpg-0"})(["margin-top:24px;"]),nc=Object(a.default)(b.Link).withConfig({displayName:"UsageTable__FeatureNameLink",componentId:"iq4bpg-1"})(["",";"],({color:e})=>e?Object(a.css)(["color:",";&:hover{color:",";}"],Object(b.cssVariables)([e,5]),Object(b.cssVariables)([e,6])):""),ac=a.default.div.withConfig({displayName:"UsageTable__UsageTableHeader",componentId:"iq4bpg-2"})(["display:flex;justify-content:space-between;margin-bottom:24px;"]),ic=a.default.div.withConfig({displayName:"UsageTable__ColumnWithChildren",componentId:"iq4bpg-3"})(["display:flex;align-items:center;"]),oc=a.default.div.withConfig({displayName:"UsageTable__ColumnTitle",componentId:"iq4bpg-4"})(["margin-left:12px;"]),rc={date:null};var sc=Object(a.default)(b.Lozenge).withConfig({displayName:"UsageTable___StyledLozenge",componentId:"iq4bpg-5"})(["margin-left:16px;"]);const lc=()=>{const e=Object(r.a)(),t=Object(l.n)(),n=Object(l.k)(),o=Object(jl.b)(),{date:s,setDate:c,subscription:u,isLoadingSubscription:p,isLoadingUsage:h,monthlyUsage:f}=Object(i.useContext)(bl),{date:j,updateParams:x}=Object(Mi.a)(rc,{date:e=>"string"==typeof e&&Gl(new Date(e))&&!function(e,t){Object(Ql.a)(2,arguments);var n=Object(Xl.a)(e),a=Object(Xl.a)(t);return n.getTime()<a.getTime()}(new Date(e),new Date("2020-04"))});Object(i.useEffect)(()=>{"string"==typeof j&&c(wn()(j))},[j,c]);const y=Object(i.useCallback)(e=>()=>{const a=Je.a.stringify({date:s.format("YYYY-MM")});n.push(`${null==t?void 0:t.url}/${e}?${a}`)},[n,null==t?void 0:t.url,s]),O=Object(i.useMemo)(()=>{if(u){const e=d.t.map(e=>{const t=e.plans.map(({planKey:t,usageField:n})=>{var a,i;const o=null!=(a=null==f?void 0:f[n])?a:0,r=null!=(i=u.plan[t])?i:null;return Object(g.generateUsageData)({feature:e,plan:r,usage:o,usageField:n})}),n=t.map(e=>e.plan).filter(e=>!!e),a=t.some(({isExceedLimit:e})=>e);return{usageData:t,feature:e,isEnabled:e.type===d.gb.Core||n.every(e=>!(null==e||!e.enabled)),name:o({featureKey:e.key,billingPlanItem:n.length>0?n[0]:void 0}),isUnavailable:a}}),[t,n]=Zl()(e,e=>e.isEnabled),[a,i]=Zl()(t,e=>e.feature.trackable);return[...a,...i,...n]}return[]},[o,f,u]),v=Object(i.useMemo)(()=>[{title:e.formatMessage({id:"common.settings.usage.column.type"}),key:"type",dataIndex:"type",width:"84px",render:e=>(({type:e})=>Object(T.jsx)(b.Lozenge,{variant:b.LozengeVariant.Light,color:d.hb[e],children:e}))(e.feature)},{title:e.formatMessage({id:"common.settings.usage.column.feature"}),key:"feature",dataIndex:"key",render:({isUnavailable:t,name:n})=>Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(nc,{variant:b.LinkVariant.Neutral,color:t?"red":void 0,children:n}),t?Object(T.jsx)(sc,{variant:b.LozengeVariant.Dark,color:"red",children:e.formatMessage({id:"common.settings.usage.column.isActive.unavailable"})}):null]}),onCell:e=>({style:{cursor:"pointer"},onClick:y(e.feature.key)}),styles:Object(a.css)(["&:hover{a{text-decoration:underline;}}"])},{title:Object(T.jsxs)(ic,{children:[Object(T.jsx)(oc,{children:e.formatMessage({id:"common.settings.usage.column.quota"})}),Object(T.jsx)(b.ContextualHelp,{content:e.formatMessage({id:"common.settings.usage.column.quota.tooltip"}),tooltipContentStyle:Object(a.css)(["font-weight:400;"]),children:Object(T.jsx)(b.TooltipTargetIcon,{icon:"info"})})]}),key:"quota",dataIndex:"trackable",width:"440px",render:e=>Object(T.jsx)(ec.a,{record:e,subscription:u})}],[y,e,u]),_=s.isBefore(wn()("2020-04-01"),"month"),w=s.isAfter(wn()(),"month"),C=Object(i.useMemo)(()=>w?Object(T.jsx)(Ja.a,{icon:"usage",title:e.formatMessage({id:"common.settings.usage.usageTable.unavailable.title.future"}),description:e.formatMessage({id:"common.settings.usage.usageTable.unavailable.description.future"})}):_?Object(T.jsx)(Ja.a,{icon:"usage",title:e.formatMessage({id:"common.settings.usage.usageTable.unavailable.title.past"}),description:e.formatMessage({id:"common.settings.usage.usageTable.unavailable.description.past"})}):Object(T.jsx)(b.Table,{columns:v,dataSource:O,rowStyles:()=>Object(a.css)(["&:hover{a{color:",";}}"],Object(b.cssVariables)("purple-7")),loading:h||p}),[v,e,w,_,p,h,O]);return Object(T.jsxs)(tc,{children:[Object(T.jsx)(ac,{children:Object(T.jsx)(m.Ob,{value:s,onChange:e=>{x({date:e.format("YYYY-MM")})}})}),C]})},cc=()=>{const{monthlyUsage:e}=Object(i.useContext)(bl);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(m.Sb,{children:[Object(T.jsx)(m.Sb.Title,{children:"Usage"}),Object(T.jsx)(m.Sb.Actions,{children:(null==e?void 0:e.updated_dt)&&Object(T.jsx)(m.xb,{timestamp:e.updated_dt})})]}),Object(T.jsx)($l,{}),Object(T.jsx)(lc,{})]})};var dc=Object(a.default)("div").withConfig({displayName:"usage___StyledDiv",componentId:"sc-19szwz8-0"})([""," + *{margin-top:24px;}"],m.Sb);const uc=()=>{const e=Object(l.n)(),{isOrganizationDeactivated:t}=Object(Qa.b)();return t?Object(T.jsx)(gl,{title:"Usage"}):Object(T.jsx)(dc,{children:Object(T.jsx)(fl,{children:Object(T.jsxs)(l.g,{children:[Object(T.jsx)(l.d,{path:`${null==e?void 0:e.url}/:featureKey`,component:ql}),Object(T.jsx)(l.d,{path:`${null==e?void 0:e.url}`,component:cc})]})})})},pc={resetApplicationRequest:c.c.resetApplicationRequest,resetDesk:c.d.resetDesk};var mc=Object(a.default)("div").withConfig({displayName:"settings___StyledDiv",componentId:"sc-1y74oit-0"})(["display:flex;justify-content:center;align-items:center;flex:1;min-height:424px;"]),gc=Object(a.default)(Jn.a).withConfig({displayName:"settings___StyledNoPlanError",componentId:"sc-1y74oit-1"})(["margin-bottom:96px;"]);const hc=()=>Object(T.jsx)(mc,{children:Object(T.jsx)(gc,{})}),bc=Object(s.d)(e=>({organization:e.organizations.current}),pc)(({match:e,organization:t,resetApplicationRequest:n,resetDesk:a})=>{var o;const s=Object(r.a)(),c=Object(u.Z)(),{isSelfService:b}=Object(u.h)(),{isLoaded:f,isFreeTrialMissing:j}=Object(h.b)(),x=Object(l.k)(),y=null==(o=x.location.state)?void 0:o.background;Object(i.useEffect)(()=>{n(),a(),window.dashboardSB&&window.dashboardSB.disconnect(()=>{})},[n,a]),Object(i.useEffect)(()=>{Object(g.isEmpty)(t)&&x.push("/")},[x,t]);const O=Object(p.b)(t.uid),v=[{key:d.Db.general,path:`${e.url}/general`,render:e=>Object(T.jsx)(Xo,{setUnsaved:c.setUnsaved,...e})},...b?[{key:d.Db.usage,path:`${e.url}/usage`,component:uc}]:[],{key:d.Db.applications,path:`${e.url}/applications`,component:ii},{key:d.Db.members,path:`${e.url}/members`,component:vr},{key:d.Db.roles,path:`${e.url}/roles`,component:Ks},{key:d.Db.billing,path:`${e.url}/billing`,component:b?js:wi},{key:d.Db.security,path:`${e.url}/security`,component:dl},{key:d.Db.contactUs,path:`${e.url}/contact_us`,component:Xa}].filter(e=>O.includes(e.key)).map(e=>j&&e.key!==d.Db.contactUs?{...e,component:hc}:e).concat({key:"ff",path:`${e.url}/ff`,component:Ni}),_=[{icon:"general",key:d.Db.general,label:s.formatMessage({id:"common.settings.label.general"})},{icon:"usage",key:d.Db.usage,label:s.formatMessage({id:"common.settings.label.usage"})},{icon:"applications",key:d.Db.applications,label:s.formatMessage({id:"common.settings.label.applications"})},{icon:"users",key:d.Db.members,label:s.formatMessage({id:"common.settings.label.members"})},{icon:"permission",key:d.Db.roles,label:s.formatMessage({id:"common.settings.label.roles"})},{icon:"billing",key:d.Db.billing,label:s.formatMessage({id:"common.settings.label.billing"})},{icon:"security",key:d.Db.security,label:s.formatMessage({id:"common.settings.label.security"})},{icon:"support",key:d.Db.contactUs,label:s.formatMessage({id:"common.settings.label.contactUs"})},{icon:"filter",key:"ff",label:"Feature flags"}],w=Object(i.useCallback)(t=>c.pushTo(`${e.url}/${t.key}`),[e.url,c]);return Object(T.jsxs)(Zn.e,{title:s.formatMessage({id:"common.settings.title"}),menuItems:_.filter(e=>O.includes(e.key)),onMenuItemClick:w,activeMenuItem:_.find(t=>!!Object(l.j)(x.location.pathname,{path:`${e.url}/${t.key}`})),children:[Object(T.jsx)(m.wc,{when:c.unsaved}),!b||f?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(l.g,{location:y||x.location,children:[v.map(e=>Object(i.createElement)(l.d,{...e,key:`settingsRoute_${e.key}`})),Object(T.jsx)(l.c,{to:v.length>0?v[0].path:"/"})]}),Object(T.jsx)(l.d,{path:"/settings/general/plans/chat",exact:!0,component:vn}),Object(T.jsx)(l.d,{path:"/settings/general/plans/support",exact:!0,component:Qn})]}):null]})});t.default=bc},q92V:function(e,t,n){var a=n("dunj"),i=n("V9xz"),o=n("zZ0H");e.exports=function(e){return e&&e.length?a(e,o,i):void 0}},qPyV:function(e,t,n){var a=n("ut/Y"),i=n("LGYb");e.exports=function(e,t){return e&&e.length?i(e,a(t,2)):[]}},qnAt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var a=n("vOnD"),i=n("JsuU"),o=n("nKUr");const r=({tooltip:e,placement:t,preventOverflow:n=!0,style:r})=>Object(o.jsx)(i.ContextualHelp,{content:e,placement:t,popperProps:n?void 0:{modifiers:{hide:{enabled:!1},preventOverflow:{enabled:!1}}},tooltipContentStyle:Object(a.css)([""," ",""],i.Body["body-short-01"],r),children:Object(o.jsx)(i.TooltipTargetIcon,{icon:"info"})}),s=a.default.div.withConfig({displayName:"components__LabelContainer",componentId:"pbvj5y-0"})([""," display:flex;align-items:center;color:",";div[role='tooltip']{max-width:auto;}"],i.Subtitles["subtitle-01"],Object(i.cssVariables)("neutral-10")),l=({text:e,tooltip:t,tooltipStyle:n})=>Object(o.jsxs)(s,{children:[e,t&&Object(o.jsx)(r,{tooltip:t,style:n})]})},sAEG:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"default",(function(){return l}));n("q1tI");var a=n("7ljp"),i=n("5rLa");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const r={communityUrl:"https://community.sendbird.com/t/usage-calculation-auto-thumbnail-generator/2913"},s={frontMatter:r};function l({components:e,...t}){return Object(a.a)("wrapper",o({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.a)(i.a,{id:"application",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Application?"),Object(a.a)("p",null,"Each thumbnail created for a file message is counted as one usage.")),Object(a.a)(i.a,{id:"organization",mdxType:"OrderComponent"},Object(a.a)("h2",null,"Usage calculation per Organization?"),Object(a.a)("p",null,"The sum of all applications’ usages within your organization."),Object(a.a)("h4",null,"[Example]"),Object(a.a)("p",null,"Let’s say there are a total of ",Object(a.a)("strong",{parentName:"p"},"3 applications")," within your organization.\nAuto-generated image count for each application is as shown below:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},Object(a.a)("strong",{parentName:"p"},"App A:")," 3\n",Object(a.a)("strong",{parentName:"p"},"App B:")," 5\n",Object(a.a)("strong",{parentName:"p"},"App C:")," 2")),Object(a.a)("p",null,"Then, ",Object(a.a)("strong",{parentName:"p"},"organization usage")," is:"),Object(a.a)("blockquote",null,Object(a.a)("p",{parentName:"blockquote"},"3+5+2 = ",Object(a.a)("strong",{parentName:"p"},"10 Auto-generated images")))))}l.isMDXComponent=!0},tGOr:function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"k",(function(){return K})),n.d(t,"j",(function(){return J})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return C})),n.d(t,"b",(function(){return M})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return me})),n.d(t,"l",(function(){return fe}));n("3bBZ");var a=n("q1tI"),i=n.n(a),o=n("vOnD"),r=n("MO+k"),s=n.n(r),l=n("JsuU"),c=n("Y+p1"),d=n.n(c),u=n("X8yK"),p=n("dDsW"),m=n("hyLW"),g=n.n(m),h=n("nKUr");const b=o.default.div.withConfig({displayName:"stars__StyledStars",componentId:"sc-1uarwzq-0"})(["display:flex;align-items:center;.stars{&__wrapper{position:relative;}&__value{"," margin-left:8px;color:",";font-weight:500;}}"],l.Subtitles["subtitle-01"],Object(l.cssVariables)("neutral-10")),f=o.default.div.withConfig({displayName:"stars__StarBaseArea",componentId:"sc-1uarwzq-1"})([""]),j=o.default.div.withConfig({displayName:"stars__StarScoredArea",componentId:"sc-1uarwzq-2"})(["position:absolute;overflow:hidden;white-space:nowrap;z-index:1;"]),x=({current:e,max:t=5,size:n=20,showValue:a=!1,toFixed:i=2})=>{const o=Math.ceil(e)||0;return e>t?null:Object(h.jsxs)(b,{children:[Object(h.jsxs)("div",{className:"stars__wrapper",children:[Object(h.jsx)(j,{style:{width:`${e/t*100}%`},children:Array(o).fill(0).map((e,t)=>Object(h.jsx)(l.Icon,{icon:"star-filled",size:n,color:Object(l.cssVariables)("yellow-5")},`scored_star_${t}`))}),Object(h.jsx)(f,{children:Array(t).fill(0).map((e,t)=>Object(h.jsx)(l.Icon,{icon:"star-filled",size:n,color:Object(l.cssVariables)("neutral-3")},`base_star_${t}`))})]}),a&&Object(h.jsx)("div",{className:"stars__value",children:e.toFixed(i)})]})},y=o.default.div.withConfig({displayName:"components__ChartTitle",componentId:"ev1go7-0"})(["font-size:16px;line-height:20px;font-weight:600;letter-spacing:-0.15px;color:",";margin-bottom:12px;display:flex;align-items:center;"],Object(l.cssVariables)("neutral-10")),O=o.default.div.withConfig({displayName:"components__StyledChartValue",componentId:"ev1go7-1"})(["display:flex;align-items:center;padding-left:16px;position:relative;height:24px;&:before{position:absolute;content:'';top:8px;right:0;left:0;bottom:0;width:8px;height:8px;border-radius:4px;background:",";}.chartValue{&__label{font-size:14px;line-height:20px;margin-right:4px;letter-spacing:-0.1px;color:",";}&__value{"," color:",";}}"],({color:e})=>e,Object(l.cssVariables)("neutral-7"),l.Subtitles["subtitle-03"],Object(l.cssVariables)("neutral-10")),v=o.default.div.withConfig({displayName:"components__ChartValueDiff",componentId:"ev1go7-2"})(["display:flex;align-items:center;"," font-size:14px;font-weight:500;letter-spacing:-0.1px;line-height:20px;margin-left:4px;svg{margin-right:4px;}"],({isUp:e})=>e?Object(o.css)(["color:",";svg{fill:",";}"],Object(l.cssVariables)("blue-5"),Object(l.cssVariables)("blue-5")):Object(o.css)(["color:",";svg{fill:",";}"],Object(l.cssVariables)("red-5"),Object(l.cssVariables)("red-5"))),_=({label:e="",value:t,format:n="",color:a=Object(l.cssVariables)("purple-7"),previousValue:i,tooltipMessage:r,testId:s})=>Object(h.jsxs)(O,{color:a,children:[e&&Object(h.jsx)("div",{className:"chartValue__label",children:e}),t&&Object(h.jsx)("div",{className:"chartValue__value","data-test-id":`${s}__value`,children:"string"==typeof n?g()(t).format(n):n(t)}),(()=>{if(t&&i){const s=(e=i,a=t,parseInt(Math.abs((a-e)/e*100).toFixed(1),10));if(s>0){const e=i<=t,a=e?"arrow-up":"arrow-down",c=t-i,d="string"==typeof n?g()(c).format(n):n(c),u=Object(h.jsxs)(v,{isUp:e,children:[Object(h.jsx)(l.Icon,{icon:a,size:16}),d," (",Math.abs(s),"%)"]});return r?Object(h.jsx)(l.Tooltip,{content:r,placement:"bottom-start",tooltipContentStyle:Object(o.css)(["display:flex;align-items:center;"]),children:u}):u}}var e,a;return""})()]}),w=o.default.div.withConfig({displayName:"components__StyledChartValueTotal",componentId:"ev1go7-3"})(["position:absolute;top:-14px;right:0;display:flex;flex-direction:column;justify-content:center;align-items:flex-end;.cvt{&__header{font-size:12px;line-height:16px;color:",";}&__value{font-size:14px;line-height:20px;font-weight:500;letter-spacing:-0.1px;color:",";}}"],Object(l.cssVariables)("neutral-7"),Object(l.cssVariables)("neutral-10")),C=({value:e})=>{const t=Object(p.a)();return Object(h.jsxs)(w,{children:[Object(h.jsx)("div",{className:"cvt__header",children:t.formatMessage({id:"desk.statistics.overview.messageCount.lbl.total"})}),Object(h.jsx)("div",{className:"cvt__value",children:g()(e).format("0,")})]})},S=o.default.div.withConfig({displayName:"components__StyledChartCSATValue",componentId:"ev1go7-4"})(["display:flex;align-items:center;.chartValue{&__value{margin-left:8px;"," color:",";}}"],l.Subtitles["subtitle-03"],Object(l.cssVariables)("neutral-10")),M=({value:e})=>Object(h.jsxs)(S,{children:[Object(h.jsx)(x,{current:e}),Object(h.jsx)("div",{className:"chartValue__value",children:e>0?e.toFixed(1):""})]}),k=o.default.div.withConfig({displayName:"components__ChartValues",componentId:"ev1go7-5"})(["display:flex;align-items:center;margin-bottom:24px;position:relative;"," + ","{margin-left:24px;}"],O,O),I=o.default.div.withConfig({displayName:"components__ChartWrapper",componentId:"ev1go7-6"})(["padding:20px 12px;margin-top:15px;"]),P=o.default.div.withConfig({displayName:"components__StyledTooltip",componentId:"ev1go7-7"})(["position:absolute;z-index:999;min-width:160px;padding:12px 16px;border-radius:4px;background-color:white;"," opacity:0;pointer-events:none;transition:0.2s ",";transition-property:top,left;"],l.elevation.popover,l.transitionDefault),A=o.default.div.withConfig({displayName:"components__TooltipLabel",componentId:"ev1go7-8"})(["font-size:12px;line-height:16px;color:",";white-space:nowrap;display:flex;align-items:center;&:before{content:'';margin-right:8px;width:8px;height:8px;border-radius:4px;background:",";}"],Object(l.cssVariables)("neutral-7"),({$color:e})=>e||Object(l.cssVariables)("purple-7")),T=o.default.div.withConfig({displayName:"components__TooltipValue",componentId:"ev1go7-9"})([""," height:28px;padding-left:16px;"],l.Headings["heading-04"]),N=o.default.div.withConfig({displayName:"components__TooltipHeader",componentId:"ev1go7-10"})([""," margin-bottom:16px;"," white-space:nowrap;"],l.Subtitles["subtitle-01"],({init:e})=>e&&"opacity: 0;"),D=o.default.div.withConfig({displayName:"components__TooltipPoint",componentId:"ev1go7-11"})(["& + &{margin-top:12px;}"]),E=({canvas:e,tooltip:t,datasets:n,xLabelFormatter:i,valueFormatter:o,colors:r})=>{const s=Object(a.useRef)(null);if(t&&e){var l;const a=e.getBoundingClientRect();let c=160,d=86;return s.current&&(c=s.current.getBoundingClientRect().width,d=s.current.getBoundingClientRect().height),Object(h.jsxs)(P,{ref:s,style:{opacity:t.opacity,top:t.caretY-(d+48)<0?48:t.caretY-(d+48),left:t.caretX>a.width/2?t.caretX-c-10:t.caretX+10},children:[t.dataPoints&&t.dataPoints.length>0?Object(h.jsx)(N,{children:null!=(l=null==i?void 0:i(t.dataPoints[0]))?l:t.dataPoints[0].label}):Object(h.jsx)(N,{init:!0}),t&&t.dataPoints?t.dataPoints.map(e=>{var t;const{value:a,datasetIndex:i}=e;var s;return null==i?Object(h.jsx)(D,{children:Object(h.jsx)(T,{children:null!=(s=null==o?void 0:o(e))?s:g()(a).format({thousandSeparated:!0,mantissa:0})})},i):Object(h.jsxs)(D,{children:[Object(h.jsx)(A,{$color:r[i],children:n[i].label}),Object(h.jsx)(T,{children:null!=(t=null==o?void 0:o(e))?t:g()(a).format({thousandSeparated:!0,mantissa:0})})]},i)}):""]})}return null},L=({canvas:e,chart:t,tooltip:n,tooltipItems:i,labels:o,values:r,hiddenLegends:s})=>{const l=Object(a.useRef)(null);if(n&&n.dataPoints&&e&&t){const t=e.getBoundingClientRect();let a=160,c=86;l.current&&(a=l.current.getBoundingClientRect().width,c=l.current.getBoundingClientRect().height);const d=n.dataPoints[0].index,u=r[d];return Object(h.jsxs)(P,{ref:l,style:{position:"absolute",opacity:n.opacity,top:n.caretY-(c+48)<0?48:n.caretY-(c+48),left:n.caretX<t.width/2?n.caretX-a:n.caretX},children:[Object(h.jsx)(N,{children:o[d]}),i&&i.map(({label:e,valueFormatter:t,color:n},a)=>Object(h.jsxs)(D,{children:[Object(h.jsx)(A,{$color:n,children:e}),Object(h.jsx)(T,{children:t?t(u,r,s):u})]},a))]})}return null},F=o.default.div.withConfig({displayName:"barChart__BarChartWrapper",componentId:"eq2qom-0"})(["position:relative;padding:",";flex:1;canvas{max-width:100%;}"],e=>e.noPadding?"0":"24px"),z=i.a.memo(({height:e=0,colors:t=u.a,noPadding:n=!1,showLegend:i=!1,tooltipXLabelFormatter:o,tooltipValueFormatter:r,labels:c,datasets:d=[],options:p={}})=>{const m=Object(a.useRef)(),g=Object(a.useRef)(null),[b,f]=Object(a.useState)(null),j={},x=e=>e.map((e,n)=>{const a=Object.assign({},j,n>=0&&d.length<=t.length?{...e,backgroundColor:t[n],backgroundHoverColor:u.b[n]}:e);return Object.assign({},a,{label:e.label,data:e.data})});return Object(a.useEffect)(()=>((()=>{const e={hover:{mode:"index",intersect:!1,animationDuration:0},maintainAspectRatio:!1,tooltips:{enabled:!1,custom:e=>{f(e||null)},mode:"index",intersect:!1,position:"average"},legend:{display:i,position:"top",onClick:(e,t)=>{const n=t,{index:a}=n;if(m.current){const e=m.current.getDatasetMeta(a);e.hidden=!(e.hidden||!m.current.data.datasets)&&!m.current.data.datasets[a].hidden,m.current.update()}},onHover:()=>{m.current&&m.current.canvas&&(m.current.canvas.style.cursor="pointer")},labels:{usePointStyle:!0,fontFamily:l.typeface.system,fontColor:Object(l.cssColors)("neutral-7"),fontSize:14,padding:20,boxWidth:8}},elements:{point:{radius:0,hoverRadius:4.5,hoverBorderWidth:3}}},t=g.current&&g.current.getContext("2d");if(t){const n=new s.a(t,{type:"bar",data:{labels:c,datasets:x(d)},options:s.a.helpers.configMerge(e,p),plugins:[{beforeDraw:({ctx:e,chartArea:t})=>{e&&(e.fillStyle="transparent",e.fillRect(t.left,t.top,t.right-t.left,t.bottom-t.top))}}]});m.current=n}})(),()=>{m.current&&m.current.destroy()}),[]),Object(a.useEffect)(()=>{m.current&&(m.current.data.datasets=x(d),m.current.update())},[d]),Object(h.jsxs)(F,{noPadding:n,children:[Object(h.jsx)("canvas",{ref:g,height:e||"80"}),b&&Object(h.jsx)(E,{canvas:g.current,tooltip:b,datasets:d,xLabelFormatter:o,valueFormatter:r,colors:t})]})},(e,t)=>d()(e,t));n("E9XD");var R=n("q92V"),B=n.n(R),V=n("ufqH"),U=n("ponP"),q=n("UWC4");const W={hover:{mode:"index",intersect:!1,animationDuration:0},maintainAspectRatio:!1,tooltips:{enabled:!1,mode:"index",intersect:!1,position:"average"},layout:{padding:{left:0,right:24,top:24,bottom:0}},scales:{xAxes:[{type:"time",time:{unit:"day",tooltipFormat:q.A,displayFormats:{hour:q.F}},gridLines:{display:!1,drawBorder:!1},ticks:{autoSkip:!0,maxTicksLimit:6,maxRotation:0,minRotation:0,fontColor:Object(l.cssColors)("neutral-10"),fontFamily:l.typeface.system,fontSize:11}}],yAxes:[{gridLines:{color:Object(l.cssColors)("neutral-2"),display:!0,drawBorder:!1},type:"linear",ticks:{beginAtZero:!0,maxTicksLimit:6,callback:e=>Number.isInteger(Number(e))?e:null,min:0,fontColor:Object(l.cssColors)("neutral-10"),fontFamily:l.typeface.system,fontSize:11,padding:10}}]},elements:{point:{radius:0,hoverRadius:4.5,hoverBorderWidth:3}},legend:{display:!1}},H=o.default.div.withConfig({displayName:"lineChart__StyledLineChart",componentId:"qiisry-0"})(["position:relative;padding:",";"],e=>e.noPadding?"0":"24px"),$=o.default.div.withConfig({displayName:"lineChart__LineChartWrapper",componentId:"qiisry-1"})(["flex:1;padding:0;canvas{max-width:100%;}"]),Y={borderWidth:2,borderCapStyle:"round",pointBorderColor:"#fff",pointHoverBorderColor:"#fff",pointHitRadius:3,lineTension:0};s.a.defaults.LineWithLine=s.a.defaults.line,s.a.controllers.LineWithLine=s.a.controllers.line.extend({draw(e){if(this.chart.tooltip._active&&this.chart.tooltip._active.length>0){const{ctx:e}=this.chart,t=this.chart.tooltip._active[0],{x:n}=t.tooltipPosition(),a=this.chart.scales["y-axis-0"].top,i=this.chart.scales["y-axis-0"].bottom;e&&(e.save(),e.beginPath(),e.moveTo(n,a),e.lineTo(n,i),e.lineWidth=1,e.strokeStyle=String(Object(l.cssColors)("neutral-3")),e.stroke(),e.restore())}s.a.controllers.line.prototype.draw.call(this,e)}});const K=i.a.memo(({height:e=0,colors:t=u.a,noPadding:n=!1,useArea:i=!1,showHighest:o=!1,renderLegend:r,tooltipXLabelFormatter:c,tooltipValueFormatter:d,datasets:p=[],options:m={}})=>{const b=Object(a.useRef)(),f=Object(a.useRef)(null),[j,x]=Object(a.useState)([]),[y,O]=Object(a.useState)(null),v=Object(a.useCallback)(e=>e.map((e,n)=>{const a=Object.assign({},Y,n>=0&&p.length<=t.length?{backgroundColor:i?Object(V.rgba)(t[n],.08):"transparent",borderColor:t[n],pointBackgroundColor:t[n],pointHoverBackgroundColor:t[n]}:{});return Object.assign({},a,{label:e.label,data:e.data})}),[t,p.length,i]),_=Object(a.useCallback)(()=>{const e=f.current&&f.current.getContext("2d"),n=W;if(n.tooltips&&(n.tooltips.custom=e=>{O(e||null)}),e){const a=new s.a(e,{type:"LineWithLine",data:{datasets:v(p)},options:s.a.helpers.configMerge(n,m),plugins:[{afterDraw:(e,n)=>{if(e&&o){const{ctx:a}=e;a&&(a.font=`normal 600 11px ${l.typeface.system}`,a.textAlign="center",a.textBaseline="bottom",e.data.datasets&&e.data.datasets.forEach((i,o)=>{const r=e.getDatasetMeta(o);if(i.data){const e=i.data.map(e=>e.y),s=B()(e),c=e.reduce((e,t,n)=>(t===s&&e.push(n),e),[]);c.forEach((i,d)=>{const u=r.data[i];if(u&&1===parseFloat(n)){const{width:n}=a.measureText(s);if(d===c.length-1){a.fillStyle="rgba(255, 255, 255, 0.8)";const t=i===e.length-1,o={x:u._model.x-(t?n:Math.round(n/2))-5,y:u._model.y-23};((e,t,n,a,i,o,r=!0)=>{void 0===o&&(o=5),e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+a-o,n),e.quadraticCurveTo(t+a,n,t+a,n+o),e.lineTo(t+a,n+i-o),e.quadraticCurveTo(t+a,n+i,t+a-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),r&&e.fill()})(a,o.x,o.y,n+9,16,4),a.fillStyle=`${Object(l.cssVariables)("neutral-9")}`,a.fillText(g()(s).format({thousandSeparated:!0,mantissa:0}),u._model.x-(t?Math.round(n/2):0),u._model.y-9)}a.beginPath(),a.arc(u._model.x,u._model.y,3,0,2*Math.PI),a.fillStyle=t[o],a.fill()}})}}))}}}]});b.current=a}},[p,v,o,t,m]);Object(a.useEffect)(()=>(_(),()=>{b.current&&b.current.destroy()}),[]),Object(a.useEffect)(()=>{b.current&&(b.current.data.datasets=v(p),b.current.update())},[v,p]);return Object(h.jsxs)(H,{noPadding:n,children:[r?r(e=>()=>{if(b.current)try{const t=b.current.getDatasetMeta(e);let n=!1;t.dataset?(n=!t.hidden,t.hidden=n):(n=!t.data[e].hidden,t.data[e].hidden=n),!j.includes(e)&&n?x(t=>t.concat([e])):j.includes(e)&&!n&&x(t=>t.filter(t=>t!==e)),b.current.update()}catch(e){Object(U.logException)({error:e})}},e=>j.includes(e)):"",Object(h.jsx)($,{style:{height:e},children:Object(h.jsx)("canvas",{ref:f,height:e||"80"})}),y&&Object(h.jsx)(E,{canvas:f.current,tooltip:y,datasets:p,xLabelFormatter:c,valueFormatter:d,colors:t})]})},(e,t)=>d()(e,t));var G=n("E+oP"),X=n.n(G);const Q=o.default.div.withConfig({displayName:"horizontalBar__StyledHorizontalBar",componentId:"zomp6n-0"})(["display:block;width:100%;position:relative;"]);class J extends a.Component{constructor(...e){super(...e),this.canvas=void 0,this.state={chart:{},resized:!1},this.drawChart=e=>{const t=this.canvas.getContext("2d"),n=()=>{const t=this.state.chart,{ctx:n}=t;e.datasets.forEach((a,i)=>{const o=t.getDatasetMeta&&t.getDatasetMeta(i),r=e.datasets[0].data[0];o&&o.data.forEach((e,t)=>{const i=a.data[t],o=Math.floor(i/r*100)||0;n&&(n.fillStyle=String(Object(l.cssColors)("purple-7")),n.textAlign="center",n.textBaseline="bottom",n.fillText(`${o}%`,e._model.x+20,e._model.y+8),i>0&&(n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.fillText(i,e._model.x-12,e._model.y+8)))})})},a={hover:{},tooltips:{enabled:!1},maintainAspectRatio:!1,onResize:()=>{this.setState({resized:!0})},legend:{display:e.showLegend},scales:{xAxes:[{gridLines:{drawBorder:!1},ticks:{beginAtZero:!0,callback:()=>""}}],yAxes:[{gridLines:{display:!1,drawBorder:!1},ticks:{fontColor:Object(l.cssColors)("neutral-7"),fontFamily:l.typeface.system,fontSize:12},barThickness:24}]},layout:{padding:{top:4,right:50}},animation:{duration:1,onProgress:()=>{n()},onComplete:()=>{this.state.resized&&this.setState({resized:!1},()=>{n()})}}};s.a.defaults.global.defaultFontFamily=l.typeface.system,s.a.defaults.global.defaultFontSize=12;const i=new s.a(t,{type:"horizontalBar",data:{labels:e.labels,datasets:e.datasets},options:a,plugins:[{beforeDraw:t=>{const{ctx:n,chartArea:a}=t;n&&(n.fillStyle=e.areaBackground,n.fillRect(a.left,a.top,a.right-a.left,a.bottom-a.top))}}]});this.setState({chart:i})}}componentDidMount(){this.drawChart(this.props)}UNSAFE_componentWillReceiveProps(e){d()(this.props,e)||X()(this.state.chart)||(this.state.chart.destroy(),this.drawChart(e))}render(){return Object(h.jsx)(Q,{children:Object(h.jsx)("canvas",{ref:e=>{this.canvas=e},height:212})})}}J.defaultProps={areaBackground:"white"};const Z=o.default.div.withConfig({displayName:"doughnutChart__DoughnutChartWrapper",componentId:"wb19k8-0"})(["position:relative;flex:1;display:flex;align-items:center;justify-content:center;width:100%;canvas{max-width:100%;}"]),ee=o.default.div.withConfig({displayName:"doughnutChart__DoughnutChartLeft",componentId:"wb19k8-1"})(["position:relative;width:100%;max-width:300px;max-height:300px;min-height:220px;"]),te=o.default.div.withConfig({displayName:"doughnutChart__DoughnutChartRight",componentId:"wb19k8-2"})(["padding-left:10px;"]),ne=o.default.div.withConfig({displayName:"doughnutChart__CustomLegends",componentId:"wb19k8-3"})(["flex:1;display:flex;flex-direction:column;align-items:flex-start;"]),ae=o.default.div.withConfig({displayName:"doughnutChart__CustomLegendPoint",componentId:"wb19k8-4"})(["width:8px;height:8px;border-radius:4px;margin-right:8px;background:",";"],({background:e})=>e),ie=o.default.div.withConfig({displayName:"doughnutChart__CustomLegend",componentId:"wb19k8-5"})(["display:flex;align-items:center;font-size:14px;line-height:20px;color:",";cursor:pointer;& + &{margin-top:8px;}",""],Object(l.cssVariables)("neutral-7"),({isHidden:e})=>e&&Object(o.css)(["color:",";","{background:",";}"],Object(l.cssVariables)("neutral-5"),ae,Object(l.cssVariables)("neutral-3"))),oe=o.default.canvas.withConfig({displayName:"doughnutChart__DoughnutCanvas",componentId:"wb19k8-6"})(["position:relative;width:100%;height:100%;z-index:100;"]),re=o.default.div.withConfig({displayName:"doughnutChart__DoughnutCenter",componentId:"wb19k8-7"})(["position:absolute;z-index:50;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;"]),se=o.default.div.withConfig({displayName:"doughnutChart__DoughnutCenterValue",componentId:"wb19k8-8"})(["font-size:18px;font-weight:500;line-height:24px;letter-spacing:-0.25px;color:",";margin-bottom:4px;"],Object(l.cssVariables)("neutral-10")),le=o.default.div.withConfig({displayName:"doughnutChart__DoughnutCenterLabelTop",componentId:"wb19k8-9"})(["font-size:12px;line-height:16px;color:",";margin-bottom:2px;"],Object(l.cssVariables)("neutral-6")),ce=o.default.div.withConfig({displayName:"doughnutChart__DoughnutCenterLabel",componentId:"wb19k8-10"})(["font-size:12px;line-height:16px;color:",";"],Object(l.cssVariables)("neutral-6")),{background:de,hover:ue}=Object(u.d)({dataSize:5}),pe={backgroundColors:de,hoverBorderColors:ue},me=i.a.memo(({colors:e=pe,labels:t=[],values:n=[],tooltip:i={items:[]},centerLabelTop:o,centerLabelBottom:r,options:c={}})=>{const d=Object(a.useRef)(),u=Object(a.useRef)(null),p=Object(a.useRef)(null),[m,b]=Object(a.useState)([]),[f,j]=Object(a.useState)(null),x=Object(a.useMemo)(()=>{const t=n.reduce((e,t)=>e+t,0),a=[];return n.forEach((e,t)=>{e>0&&a.push(t)}),{data:n,borderWidth:0===t||a.length<=1?0:2,hoverBorderWidth:4,backgroundColor:e.backgroundColors,hoverBackgroundColor:e.backgroundColors,hoverBorderColor:e.hoverBorderColors}},[e.backgroundColors,e.hoverBorderColors,n]),y=Object(a.useRef)(null);Object(a.useEffect)(()=>{y.current=()=>{const e={cutoutPercentage:68,responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!1,custom:e=>{j(e||null)}},legend:{display:!1}},n=u.current&&u.current.getContext("2d"),a=e=>{if(e){const t=e.canvas.clientWidth/2,n=e.canvas.clientHeight/2,{ctx:a}=e;a.beginPath(),a.arc(t,n,e.outerRadius-e.radiusLength/2,0,2*Math.PI),a.lineWidth=e.radiusLength-4,a.strokeStyle=Object(l.cssColors)("bg-3"),a.stroke()}};if(n){const i=new s.a(n,{type:"doughnut",data:{labels:t,datasets:[x]},options:s.a.helpers.configMerge(e,c),plugins:[{beforeDatasetsDraw:a,resize:a}]});d.current=i}}}),Object(a.useEffect)(()=>(null==y.current||y.current(),()=>{var e;null==(e=d.current)||e.destroy()}),[]),Object(a.useEffect)(()=>{d.current&&(d.current.data.datasets=[x],d.current.update(),b([]))},[x]);const O=e=>()=>{if(d.current)try{const t=d.current.getDatasetMeta(0),n=!t.data[e].hidden;t.data[e].hidden=n,d.current.update(),!m.includes(e)&&n?b(t=>t.concat([e])):m.includes(e)&&!n&&b(t=>t.filter(t=>t!==e))}catch(e){Object(U.logException)({error:e})}},v=n.reduce((e,t,n)=>m.includes(n)?e:e+t,0);return Object(h.jsxs)(Z,{children:[Object(h.jsxs)(ee,{ref:p,children:[Object(h.jsx)(oe,{ref:u}),Object(h.jsxs)(re,{children:[Object(h.jsx)(le,{children:o}),Object(h.jsx)(se,{children:g()(v).format({thousandSeparated:!0,mantissa:0})}),Object(h.jsx)(ce,{children:r})]}),Object(h.jsx)(L,{canvas:u.current,chart:d.current,labels:t,values:n,tooltip:f,tooltipItems:i.items,hiddenLegends:m})]}),Object(h.jsx)(te,{children:t&&t.length>0?Object(h.jsx)(ne,{children:t.map((t,n)=>Object(h.jsxs)(ie,{onClick:O(n),isHidden:m.includes(n),children:[Object(h.jsx)(ae,{background:e.backgroundColors[n]}),t]},n))}):""})]})},(e,t)=>d()(e,t));n("Ym+k");const ge=o.default.div.withConfig({displayName:"MixedChart__MixedChartWrapper",componentId:"sc-171igb9-0"})(["position:relative;"]);s.a.defaults.global.defaultFontFamily=l.typeface.system,s.a.defaults.global.defaultFontColor=Object(l.cssColors)("neutral-7");const he={hover:{animationDuration:0},maintainAspectRatio:!1,elements:{point:{radius:4,hoverRadius:4,hoverBorderWidth:0}},layout:{padding:{left:0,right:8,top:24,bottom:0}},legend:{display:!1},scales:{xAxes:[{type:"time",time:{unit:"day",tooltipFormat:q.A,displayFormats:{hour:q.F}},gridLines:{display:!1,drawBorder:!1},ticks:{autoSkip:!0,maxTicksLimit:6,maxRotation:0,minRotation:0,fontColor:Object(l.cssColors)("neutral-10"),fontSize:11},offset:!0}],yAxes:[{gridLines:{color:Object(l.cssColors)("neutral-2"),display:!0,drawBorder:!1},type:"linear",ticks:{beginAtZero:!0,maxTicksLimit:6,callback:e=>Number.isInteger(Number(e))?e:null,min:0,fontColor:Object(l.cssColors)("neutral-10"),fontSize:11,padding:8},offset:!0}]},tooltips:{enabled:!1,mode:"index",intersect:!1,position:"average"}},be=e=>{if(e){const{ctx:t}=e;if(e.tooltip._active&&e.tooltip._active.length>0){const n=e.tooltip._active[0],{x:a}=n.tooltipPosition(),i=e.scales["y-axis-0"].top,o=e.scales["y-axis-0"].bottom;t&&(t.save(),t.beginPath(),t.moveTo(a,i),t.lineTo(a,o),t.lineWidth=1,t.strokeStyle=String(Object(l.cssColors)("neutral-3")),t.stroke(),t.restore())}}},fe=({height:e,datasets:t,labels:n,annotation:i})=>{const o=Object(a.useRef)(),r=Object(a.useRef)(null),[c,d]=Object(a.useState)(null);return he.tooltips&&!c&&(he.tooltips.custom=e=>{d(e||null)}),Object(a.useEffect)(()=>{var e;const a=null==(e=r.current)?void 0:e.getContext("2d");if(a){const e=new s.a(a,{type:"bar",data:{datasets:t,labels:n},options:{...he,annotation:(c=i.value,d=i.label,{drawTime:"afterDatasetsDraw",events:["click"],dblClickSpeed:350,annotations:[{drawTime:"afterDraw",type:"line",mode:"horizontal",scaleID:"y-axis-0",value:c,borderColor:Object(l.cssColors)("neutral-6"),borderWidth:1,label:{backgroundColor:"transparent",fontFamily:l.typeface.system,fontSize:12,fontStyle:"normal",fontColor:Object(l.cssColors)("neutral-7"),xPadding:0,yPadding:0,cornerRadius:0,position:"right",xAdjust:0,yAdjust:-10,enabled:!0,content:d}}]})},plugins:[{beforeDraw:be}]});o.current=e}var c,d},[i.label,i.value,t,n]),Object(h.jsxs)(ge,{children:[Object(h.jsx)("canvas",{ref:r,height:e||80}),c&&Object(h.jsx)(E,{canvas:r.current,tooltip:c,datasets:t,colors:[Object(l.cssColors)("purple-7"),Object(l.cssColors)("blue-5")],valueFormatter:({value:e})=>Object(U.getTransformedUsage)(Number(e))})]})}},tSIP:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("/h9T"),i=n("/Tr7"),o=n("jIYg");function r(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(a.a)(t);return n.setDate(r),n}},u5p2:function(e,t,n){e.exports=function(e){var t=e.helpers,a=n("wU0g")(e);function i(e){var t=(e.x2-e.x1)/(e.y2-e.y1),n=e.x1||0;this.m=t,this.b=n,this.getX=function(a){return t*(a-e.y1)+n},this.getY=function(a){return(a-n)/t+e.y1},this.intersects=function(e,t,n){n=n||.001;var a=this.getY(e),i=this.getX(t);return(!isFinite(a)||Math.abs(t-a)<n)&&(!isFinite(i)||Math.abs(e-i)<n)}}return e.Annotation.Element.extend({setDataLimits:function(){var e=this._model,t=this.options;e.ranges={},e.ranges[t.scaleID]={min:t.value,max:t.endValue||t.value}},configure:function(){var e,n,o=this._model,r=this.options,s=this.chartInstance,l=s.chart.ctx,c=s.scales[r.scaleID];if(c&&(e=a.isValid(r.value)?c.getPixelForValue(r.value):NaN,n=a.isValid(r.endValue)?c.getPixelForValue(r.endValue):e),!isNaN(e)){var d=s.chartArea;o.clip={x1:d.left,x2:d.right,y1:d.top,y2:d.bottom},"horizontal"==this.options.mode?(o.x1=d.left,o.x2=d.right,o.y1=e,o.y2=n):(o.y1=d.top,o.y2=d.bottom,o.x1=e,o.x2=n),o.line=new i(o),o.mode=r.mode,o.labelBackgroundColor=r.label.backgroundColor,o.labelFontFamily=r.label.fontFamily,o.labelFontSize=r.label.fontSize,o.labelFontStyle=r.label.fontStyle,o.labelFontColor=r.label.fontColor,o.labelXPadding=r.label.xPadding,o.labelYPadding=r.label.yPadding,o.labelCornerRadius=r.label.cornerRadius,o.labelPosition=r.label.position,o.labelXAdjust=r.label.xAdjust,o.labelYAdjust=r.label.yAdjust,o.labelEnabled=r.label.enabled,o.labelContent=r.label.content,l.font=t.fontString(o.labelFontSize,o.labelFontStyle,o.labelFontFamily);var u=l.measureText(o.labelContent).width,p=l.measureText("M").width,m=function(e,t,n,a,i){var o=e.line,r={},s=0,l=0;switch(!0){case"vertical"==e.mode&&"top"==e.labelPosition:l=i+e.labelYAdjust,s=t/2+e.labelXAdjust,r.y=e.y1+l,r.x=(isFinite(o.m)?o.getX(r.y):e.x1)-s;break;case"vertical"==e.mode&&"bottom"==e.labelPosition:l=n+i+e.labelYAdjust,s=t/2+e.labelXAdjust,r.y=e.y2-l,r.x=(isFinite(o.m)?o.getX(r.y):e.x1)-s;break;case"horizontal"==e.mode&&"left"==e.labelPosition:s=a+e.labelXAdjust,l=-n/2+e.labelYAdjust,r.x=e.x1+s,r.y=o.getY(r.x)+l;break;case"horizontal"==e.mode&&"right"==e.labelPosition:s=t+a+e.labelXAdjust,l=-n/2+e.labelYAdjust,r.x=e.x2-s,r.y=o.getY(r.x)+l;break;default:r.x=(e.x1+e.x2-t)/2+e.labelXAdjust,r.y=(e.y1+e.y2-n)/2+e.labelYAdjust}return r}(o,u,p,o.labelXPadding,o.labelYPadding);o.labelX=m.x-o.labelXPadding,o.labelY=m.y-o.labelYPadding,o.labelWidth=u+2*o.labelXPadding,o.labelHeight=p+2*o.labelYPadding,o.borderColor=r.borderColor,o.borderWidth=r.borderWidth,o.borderDash=r.borderDash||[],o.borderDashOffset=r.borderDashOffset||0}},inRange:function(e,t){var n=this._model;return n.line&&n.line.intersects(e,t,this.getHeight())||n.labelEnabled&&n.labelContent&&e>=n.labelX&&e<=n.labelX+n.labelWidth&&t>=n.labelY&&t<=n.labelY+n.labelHeight},getCenterPoint:function(){return{x:(this._model.x2+this._model.x1)/2,y:(this._model.y2+this._model.y1)/2}},getWidth:function(){return Math.abs(this._model.right-this._model.left)},getHeight:function(){return this._model.borderWidth||1},getArea:function(){return Math.sqrt(Math.pow(this.getWidth(),2)+Math.pow(this.getHeight(),2))},draw:function(){var e=this._view,n=this.chartInstance.chart.ctx;e.clip&&(n.save(),n.beginPath(),n.rect(e.clip.x1,e.clip.y1,e.clip.x2-e.clip.x1,e.clip.y2-e.clip.y1),n.clip(),n.lineWidth=e.borderWidth,n.strokeStyle=e.borderColor,n.setLineDash&&n.setLineDash(e.borderDash),n.lineDashOffset=e.borderDashOffset,n.beginPath(),n.moveTo(e.x1,e.y1),n.lineTo(e.x2,e.y2),n.stroke(),e.labelEnabled&&e.labelContent&&(n.beginPath(),n.rect(e.clip.x1,e.clip.y1,e.clip.x2-e.clip.x1,e.clip.y2-e.clip.y1),n.clip(),n.fillStyle=e.labelBackgroundColor,t.drawRoundedRectangle(n,e.labelX,e.labelY,e.labelWidth,e.labelHeight,e.labelCornerRadius),n.fill(),n.font=t.fontString(e.labelFontSize,e.labelFontStyle,e.labelFontFamily),n.fillStyle=e.labelFontColor,n.textAlign="center",n.textBaseline="middle",n.fillText(e.labelContent,e.labelX+e.labelWidth/2,e.labelY+e.labelHeight/2)),n.restore())}})}},uGGy:function(e,t,n){"use strict";const a=n("EE1x"),i={exact:!1},o=`${a.v4().source}\\/(3[0-2]|[12]?[0-9])`,r=`${a.v6().source}\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])`,s=new RegExp(`^${o}$`),l=new RegExp(`^${r}$`),c=new RegExp(`(?:^${o}$)|(?:^${r}$)`);e.exports=({exact:e}=i)=>e?c:new RegExp(`(?:${o})|(?:${r})`,"g"),e.exports.v4=({exact:e}=i)=>e?s:new RegExp(o,"g"),e.exports.v6=({exact:e}=i)=>e?l:new RegExp(r,"g")},uiWU:function(e,t,n){"use strict";function a(e,t,n){return(n=n||[]).length>=t?e.apply(null,n.slice(0,t).reverse()):function(){var i=Array.prototype.slice.call(arguments);return a(e,t,n.concat(i))}}n.d(t,"a",(function(){return a}))},wU0g:function(e,t){function n(){}function a(e){var t=e.annotation.elements;return Object.keys(t).map((function(e){return t[e]}))}function i(){return Math.random().toString(36).substr(2,6)}function o(e){return null!=e&&("number"==typeof e?isFinite(e):!!e)}function r(e,t,n){e["$"+t]||(e[t]?(e["$"+t]=e[t].bind(e),e[t]=function(){var a=[e["$"+t]].concat(Array.prototype.slice.call(arguments));return n.apply(e,a)}):e[t]=function(){var t=[void 0].concat(Array.prototype.slice.call(arguments));return n.apply(e,t)})}function s(e,t){e.forEach((function(e){(t?e[t]:e)()}))}function l(e){return"on"+e[0].toUpperCase()+e.substring(1)}function c(e,t){try{return new MouseEvent(e,t)}catch(i){try{var n=document.createEvent("MouseEvent");return n.initMouseEvent(e,t.canBubble,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),n}catch(n){var a=document.createEvent("Event");return a.initEvent(e,t.canBubble,t.cancelable),a}}}e.exports=function(e){var t=e.helpers;return{initConfig:function(n){return n=t.configMerge(e.Annotation.defaults,n),t.isArray(n.annotations)&&n.annotations.forEach((function(n){n.label=t.configMerge(e.Annotation.labelDefaults,n.label)})),n},elements:a,callEach:s,noop:n,objectId:i,isValid:o,decorate:r,adjustScaleRange:function(e){var t,n,i,o,r,s=(t=e.id,n=a(e.chart),i=e.min,o=e.max,{min:(r=n.filter((function(e){return!!e._model.ranges[t]})).map((function(e){return e._model.ranges[t]}))).map((function(e){return Number(e.min)})).reduce((function(e,t){return isFinite(t)&&!isNaN(t)&&t<e?t:e}),i),max:r.map((function(e){return Number(e.max)})).reduce((function(e,t){return isFinite(t)&&!isNaN(t)&&t>e?t:e}),o)});void 0===e.options.ticks.min&&void 0===e.options.ticks.suggestedMin&&(e.min=s.min),void 0===e.options.ticks.max&&void 0===e.options.ticks.suggestedMax&&(e.max=s.max),e.handleTickRangeOptions&&e.handleTickRangeOptions()},getNearestItems:function(e,n){var a=Number.POSITIVE_INFINITY;return e.filter((function(e){return e.inRange(n.x,n.y)})).reduce((function(e,i){var o=i.getCenterPoint(),r=t.distanceBetweenPoints(n,o);return r<a?(e=[i],a=r):r===a&&e.push(i),e}),[]).sort((function(e,t){var n=e.getArea(),a=t.getArea();return n>a||n<a?n-a:e._index-t._index})).slice(0,1)[0]},getEventHandlerName:l,createMouseEvent:c}}},xWTm:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));n("3bBZ");var a=n("q1tI"),i=n("dDsW"),o=n("vOnD"),r=n("JsuU"),s=n("P5lD"),l=n("W7Pl"),c=n("6889"),d=n("ponP"),u=n("Sdtr"),p=n("/MKj"),m=n("b2r9"),g=n("Mfcq"),h=n("nKUr");o.default.div.withConfig({displayName:"formSet__Container",componentId:"z1p71m-0"})(["width:100%;"]),o.default.label.withConfig({displayName:"formSet__Label",componentId:"z1p71m-1"})(["font-size:14px;line-height:20px;color:#1f232a;font-weight:500;margin-bottom:4px;"]),o.default.p.withConfig({displayName:"formSet__Description",componentId:"z1p71m-2"})(["font-weight:400;letter-spacing:-0.2px;color:#878d99;"]),o.default.p.withConfig({displayName:"formSet__HelperText",componentId:"z1p71m-3"})(["font-size:12px;line-height:16px;color:#878d99;margin-top:8px;"]),o.default.div.withConfig({displayName:"inputWithDecorator__InputWithDecoratorWrapper",componentId:"sc-1ksq756-0"})(["position:relative;"]),Object(o.default)(r.Icon).withConfig({displayName:"inputWithDecorator__InputDecoratorIcon",componentId:"sc-1ksq756-1"})(["position:absolute;",":12px;top:50%;margin-top:-10px;"],e=>e.position),Object(o.default)(c.g).withConfig({displayName:"inputWithDecorator__InputWithDecoratorControl",componentId:"sc-1ksq756-2"})(["padding-",":40px;"],e=>e.decoratorPosition),o.default.div.withConfig({displayName:"withError__Container",componentId:"sc-1r565ns-0"})(["display:flex;flex-direction:column;align-items:flex-start;> *{width:100%;}"]);var b=n("GNyx");o.default.div.withConfig({displayName:"samlSsoComponents__VerticalDivider",componentId:"sc-1mp8cc3-0"})(["display:inline-block;width:1px;height:16px;margin:0 12px;background-color:",";vertical-align:middle;"],Object(r.cssVariables)("neutral-3")),o.default.div.withConfig({displayName:"samlSsoComponents__TooltipWrapper",componentId:"sc-1mp8cc3-1"})(["display:inline-block;vertical-align:middle;margin-left:4px;position:relative;top:-3px;"]),o.default.div.withConfig({displayName:"samlSsoComponents__TooltipContent",componentId:"sc-1mp8cc3-2"})(["width:221px;text-align:left;font-size:14px;line-height:20px;"]),o.default.div.withConfig({displayName:"samlSsoComponents__FormRow",componentId:"sc-1mp8cc3-3"})(["display:flex;flex-direction:row;justify-content:space-between;margin-bottom:24px;",""],e=>e.styles),o.default.div.withConfig({displayName:"samlSsoComponents__FormColumn",componentId:"sc-1mp8cc3-4"})(["width:calc(50% - 10px);"]),Object(o.default)(b.a).withConfig({displayName:"samlSsoComponents__TopSettingsCard",componentId:"sc-1mp8cc3-5"})(["",""],e=>e.isExpanded&&"min-height: initial !important;"),o.default.p.withConfig({displayName:"samlSsoComponents__InputHelperText",componentId:"sc-1mp8cc3-6"})(["margin:0;margin-top:4px;font-size:12px;color:",";"],Object(r.cssVariables)("neutral-6")),o.default.span.withConfig({displayName:"samlSsoComponents__HelpCenterLinkContainer",componentId:"sc-1mp8cc3-7"})(["font-size:14px;align-self:center;font-weight:500;"]);const f=o.default.span.withConfig({displayName:"samlSsoComponents__DeleteDialogBody",componentId:"sc-1mp8cc3-8"})(["font-size:15px;line-height:1.5;letter-spacing:-0.25px;"]),j=Object(o.default)(r.OverflowMenu).withConfig({displayName:"SamlSsoConfigButtons__StyledOverflowMenu",componentId:"wk9zdw-0"})(["> ul{width:174px;}"]);var x=({uid:e,currentConfiguration:t})=>{const n=Object(p.f)(),o=Object(i.a)(),r=Object(l.W)(),s=Object(a.useCallback)(()=>{r({dialogTypes:g.a.SSOConfig,dialogProps:{currentConfiguration:t,isEditMode:!0,uid:e}})},[t,r,e]),c=Object(a.useCallback)(()=>{r({dialogTypes:g.a.Delete,dialogProps:{title:o.formatMessage({id:"common.settings.security.samlsso.deletePopover.title"}),description:Object(h.jsx)(f,{children:o.formatMessage({id:"common.settings.security.samlsso.deletePopover.description"})}),cancelText:o.formatMessage({id:"common.settings.security.samlsso.deletePopover.cancel"}),onDelete:()=>{n(m.b.deleteSamlConfigurationRequest())}}})},[n,o,r]);return Object(h.jsx)("div",{children:Object(h.jsx)(j,{items:[{label:o.formatMessage({id:"common.settings.security.samlsso.buttons.edit"}),onClick:s},{label:o.formatMessage({id:"common.settings.security.samlsso.buttons.delete"}),onClick:c}],stopClickEventPropagation:!0})})},y=n("Br5W");const O=o.default.div.withConfig({displayName:"SamlSsoConfigForm__SSOHeader",componentId:"zes62l-0"})(["display:grid;grid-template-columns:1fr 32px;grid-gap:0 16px;"]),v=o.default.dl.withConfig({displayName:"SamlSsoConfigForm__DList",componentId:"zes62l-1"})(["display:grid;align-items:center;grid-template-columns:","px 1fr;grid-gap:6px 0;"," dt{align-self:self-start;display:flex;align-items:center;span{color:",";}}dd{display:flex;font-weight:",";color:",";}"],({$width:e})=>e,r.Body["body-short-01"],Object(r.cssVariables)("neutral-7"),({$bold:e})=>e?500:400,Object(r.cssVariables)("neutral-10")),_=o.default.span.withConfig({displayName:"SamlSsoConfigForm__StyledOrganizationKey",componentId:"zes62l-2"})(["margin-right:2px;"]),w=o.default.div.withConfig({displayName:"SamlSsoConfigForm__WrapperWithBorder",componentId:"zes62l-3"})(["margin-top:24px;border:solid 1px ",";border-radius:4px;"],Object(r.cssVariables)("neutral-3")),C=o.default.div.withConfig({displayName:"SamlSsoConfigForm__IDPInfoDescription",componentId:"zes62l-4"})(["margin-top:24px;p{"," color:",";display:inline;strong{color:",";font-weight:normal;}}"],r.Body["body-short-01"],Object(r.cssVariables)("neutral-7"),Object(r.cssVariables)("red-5")),S=o.default.div.withConfig({displayName:"SamlSsoConfigForm__UpperSection",componentId:"zes62l-5"})(["padding:24px;",""],({$extended:e})=>e&&Object(o.css)(["&:first-child{border-bottom:1px solid ",";}"],Object(r.cssVariables)("neutral-3"))),M=o.default.div.withConfig({displayName:"SamlSsoConfigForm__LowerSection",componentId:"zes62l-6"})(["overflow:hidden;height:",";"],({$extended:e})=>e?"542px":0),k=o.default.div.withConfig({displayName:"SamlSsoConfigForm__ToggleComponent",componentId:"zes62l-7"})(["padding:24px;padding-bottom:30px;"]),I=o.default.div.withConfig({displayName:"SamlSsoConfigForm__StyledCopyableInputWithTitle",componentId:"zes62l-8"})(["& + &{margin-top:20px;}h6{display:block;margin-bottom:6px;font-size:12px;font-weight:500;line-height:1;letter-spacing:normal;color:",";}svg{width:18px;height:18px;fill:",";}"],Object(r.cssVariables)("neutral-10"),Object(r.cssVariables)("neutral-6")),P=o.default.div.withConfig({displayName:"SamlSsoConfigForm__StyledGridBoxWithTitle",componentId:"zes62l-9"})(["margin-top:18px;"]),A=o.default.div.withConfig({displayName:"SamlSsoConfigForm__TitleWithContextualHelp",componentId:"zes62l-10"})(["display:flex;align-items:center;margin-bottom:8px;height:20px;h6{"," margin-right:2px;}"],r.Subtitles["subtitle-01"]),T=Object(o.css)(["padding-bottom:22px;font-size:14px;font-weight:600;line-height:1.43;color:",";text-align:center;&:hover{cursor:pointer;color:",";svg{fill:",";}}svg{display:inline;vertical-align:text-bottom;margin-left:4px;fill:",";}&[aria-hidden='true']{margin-top:0;height:0;overflow:hidden;&:before{display:none;}}"],Object(r.cssVariables)("purple-7"),Object(r.cssVariables)("purple-8"),Object(r.cssVariables)("purple-8"),Object(r.cssVariables)("purple-7")),N=o.default.div.withConfig({displayName:"SamlSsoConfigForm__SectionTitle",componentId:"zes62l-11"})(["margin-bottom:16px;",""],r.Subtitles["subtitle-01"]),D=o.default.div.withConfig({displayName:"SamlSsoConfigForm__ShowMoreButton",componentId:"zes62l-12"})([""," padding-top:6px;"],T),E=o.default.div.withConfig({displayName:"SamlSsoConfigForm__HideInformationButton",componentId:"zes62l-13"})(["",""],T),L=o.default.div.withConfig({displayName:"SamlSsoConfigForm__EmptyLine",componentId:"zes62l-14"})(["width:9px;height:1px;background:",";"],Object(r.cssVariables)("neutral-10")),F=o.default.div.withConfig({displayName:"SamlSsoConfigForm__RoleItem",componentId:"zes62l-15"})(["display:flex;","{margin-left:4px;height:20px;}"],r.Lozenge),z=({title:e,copyableString:t})=>{const n=Object(l.k)();return Object(h.jsxs)(I,{children:[Object(h.jsx)("h6",{children:e}),Object(h.jsx)(r.InputText,{type:"text",value:t,readOnly:!0,icons:[{icon:"copy",onClick:()=>{n(t)}}]})]})},R=({title:e,copyableString:t})=>Object(h.jsxs)(I,{children:[Object(h.jsx)("h6",{children:e}),Object(h.jsx)(r.InputTextarea,{readOnly:!0,styles:Object(o.css)(["height:120px;"]),value:t})]}),B=({title:e,contextTitle:t,dataArr:n})=>Object(h.jsxs)(P,{children:[Object(h.jsxs)(A,{children:[Object(h.jsx)("h6",{children:e}),Object(h.jsx)(c.qb,{content:t,placement:"top"})]}),Object(h.jsx)(v,{$width:152,children:n.map(({title:e,content:t})=>Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)("dt",{children:Object(h.jsx)("span",{children:e})}),Object(h.jsx)("dd",{children:t})]},e))})]});t.b=({uid:e,currentConfiguration:t})=>{const{slug_name:n,sso_entity_id:o,sso_idp_cert:l,sso_idp_url:p,sso_enforcing:m,sso_jit_provisioning:g,sso_default_role:b}=t,f=Object(i.a)(),[j,I]=Object(a.useState)(!1),{state:{memberRoles:P},actions:{fetchMemberRolesRequest:A}}=Object(u.d)();Object(a.useEffect)(()=>{A({uid:e,limit:100,offset:0})},[A,e]);const T=Object(a.useMemo)(()=>{const e=Object(d.getUriHost)(o);return null!=e?e:Object(h.jsx)(L,{})},[o]),V=Object(a.useCallback)(()=>Object(h.jsxs)(E,{role:"button",onClick:()=>I(!1),"aria-hidden":!j,children:[f.formatMessage({id:"common.settings.security.samlsso.form.buttons.showLess"}),Object(h.jsx)(r.Icon,{icon:"chevron-up",size:16})]}),[j,f]),U=Object(a.useCallback)(()=>Object(h.jsxs)(D,{role:"button",onClick:()=>I(!0),"aria-hidden":j,children:[f.formatMessage({id:"common.settings.security.samlsso.form.buttons.showMore"}),Object(h.jsx)(r.Icon,{icon:"chevron-down",size:16})]}),[j,f]),q=Object(a.useCallback)(e=>{const t=P.find(({name:t})=>t===e);return t&&Object(h.jsxs)(F,{children:[Object(h.jsx)("div",{children:Object(s.h)(t)}),t.is_predefined&&Object(h.jsx)(r.Lozenge,{color:"neutral",children:"System role"})]})},[P]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(O,{"data-test-id":"ssoConfigFormHeader",children:[Object(h.jsxs)(v,{$width:176,$bold:!0,children:[Object(h.jsx)("dt",{children:Object(h.jsx)("span",{children:f.formatMessage({id:"common.settings.security.samlsso.form.currentIdp"})})}),Object(h.jsx)("dd",{children:T}),Object(h.jsxs)("dt",{children:[Object(h.jsx)(_,{children:f.formatMessage({id:"common.settings.security.samlsso.configurePopover.organizationKey.title"})}),Object(h.jsx)(c.qb,{content:f.formatMessage({id:"common.settings.security.samlsso.configurePopover.organizationKey.tooltip"}),placement:"bottom"})]}),Object(h.jsx)("dd",{children:n})]}),Object(h.jsx)(x,{uid:e,currentConfiguration:t})]}),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(w,{children:[Object(h.jsxs)(S,{$extended:j,children:[Object(h.jsx)(N,{children:f.formatMessage({id:"common.settings.security.samlsso.form.serviceProvider.title"})}),Object(h.jsx)(z,{title:f.formatMessage({id:"common.settings.security.samlsso.sp.entityId"}),copyableString:y.b}),Object(h.jsx)(z,{title:f.formatMessage({id:"common.settings.security.samlsso.sp.assertionURL"}),copyableString:Object(y.a)(n)}),Object(h.jsx)(C,{children:Object(h.jsx)("p",{children:f.formatMessage({id:"common.settings.security.samlsso.form.samlIdentityProviderInformation.description"},{strong:e=>Object(h.jsx)("strong",{children:e})})})})]}),Object(h.jsx)(M,{$extended:j,"data-test-id":"lowerSection",children:Object(h.jsxs)(k,{children:[Object(h.jsx)(N,{children:f.formatMessage({id:"common.settings.security.samlsso.form.identityProvider.title"})}),Object(h.jsx)(z,{title:f.formatMessage({id:"common.settings.security.samlsso.entityId"}),copyableString:o}),Object(h.jsx)(z,{title:f.formatMessage({id:"common.settings.security.samlsso.endpointUrl"}),copyableString:p}),Object(h.jsx)(R,{title:f.formatMessage({id:"common.settings.security.samlsso.publicCertificate"}),copyableString:l}),Object(h.jsx)(B,{title:f.formatMessage({id:"common.settings.security.samlsso.alloJIT.title"}),contextTitle:Object(h.jsx)(h.Fragment,{children:f.formatMessage({id:"common.settings.security.samlsso.configurePopover.loginRestriction.allowAccess.description"},{a:e=>Object(h.jsx)(r.Link,{variant:r.LinkVariant.Inline,href:"/settings/roles",target:"_blank",children:e})})}),dataArr:[{title:f.formatMessage({id:"common.settings.security.samlsso.check.status"}),content:g?f.formatMessage({id:"common.settings.security.samlsso.alloJIT.on"}):f.formatMessage({id:"common.settings.security.samlsso.alloJIT.off"})},{title:f.formatMessage({id:"common.settings.security.samlsso.check.grantedRole"}),content:q(b)}]}),Object(h.jsx)(B,{title:f.formatMessage({id:"common.settings.security.samlsso.onlySigninSSO.title"}),contextTitle:f.formatMessage({id:"common.settings.security.samlsso.configurePopover.enforceSso.description"}),dataArr:[{title:f.formatMessage({id:"common.settings.security.samlsso.check.status"}),content:m?f.formatMessage({id:"common.settings.security.samlsso.alloJIT.on"}):f.formatMessage({id:"common.settings.security.samlsso.alloJIT.off"})}]})]})}),j?V():U()]})})]})}},xxsC:function(e,t){e.exports=function(e){var t=e.helpers;return e.Element.extend({initialize:function(){this.hidden=!1,this.hovering=!1,this._model=t.clone(this._model)||{},this.setDataLimits()},destroy:function(){},setDataLimits:function(){},configure:function(){},inRange:function(){},getCenterPoint:function(){},getWidth:function(){},getHeight:function(){},getArea:function(){},draw:function(){}})}}}]);
//# sourceMappingURL=24.js.map?v=734a0c7561293b0d7ba8