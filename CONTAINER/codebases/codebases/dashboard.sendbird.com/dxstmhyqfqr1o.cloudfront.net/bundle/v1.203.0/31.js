(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"57GT":function(e,t,s){"use strict";var i=s("vOnD"),o=s("6889"),a=s("nKUr");const n=i.default.div.withConfig({displayName:"Copyable__CopyableWrapper",componentId:"lzxvrx-0"})(["display:inline-block;align-items:center;position:relative;","{display:none;position:absolute;transform:translate(0,-2px);}&:hover ","{display:inline-flex;}"],o.D,o.D);t.a=({children:e})=>Object(a.jsxs)(n,{children:[e,Object(a.jsx)(o.D,{copyableText:e,size:"xsmall"})]})},cVtS:function(e,t,s){"use strict";var i=s("dDsW"),o=s("vOnD"),a=s("JsuU"),n=s("nKUr");const r=o.default.fieldset.withConfig({displayName:"RoomTypeField__Wrapper",componentId:"wgkbdp-0"})(["margin:0;border:0;padding:0;legend{",";margin-bottom:12px;}"],a.Typography["label-02"]),l=o.default.ul.withConfig({displayName:"RoomTypeField__OptionList",componentId:"wgkbdp-1"})(["list-style:none;li{> div{display:block;}> span{margin-top:8px;padding-left:28px;color:",";","}}li + li{margin-top:24px;}"],Object(a.cssVariables)("neutral-7"),a.Typography["caption-01"]),c=[{value:"small_room_for_video",label:"calls.groupCalls.components.roomTypeField.video.label",description:"calls.groupCalls.components.roomTypeField.video.description"},{value:"large_room_for_audio_only",label:"calls.groupCalls.components.roomTypeField.audio.label",description:"calls.groupCalls.components.roomTypeField.audio.description"}];t.a=({selected:e,onChange:t})=>{const s=Object(i.a)();return Object(n.jsxs)(r,{children:[Object(n.jsx)("legend",{children:s.formatMessage({id:"calls.groupCalls.components.roomTypeField.legend"})}),Object(n.jsx)(l,{children:c.map(({value:i,label:o,description:r})=>Object(n.jsxs)("li",{children:[Object(n.jsx)(a.Radio,{name:"roomType",label:s.formatMessage({id:o}),value:i,checked:i===e,onChange:()=>null==t?void 0:t(i)}),Object(n.jsx)("span",{children:s.formatMessage({id:r})})]},i))})]})}},oTmJ:function(e,t,s){"use strict";s.r(t);var i=s("dDsW"),o=s("vOnD"),a=s("JsuU"),n=(s("UxlC"),s("3bBZ"),s("q1tI")),r=s("Ty5D"),l=s("z9VK"),c=s("W7Pl"),d=s("tdQ0"),p=s("j90z"),b=s("ponP");const u="callsStudioOnboardingFinishedApps",g=()=>{const e=b.ClientStorage.get(u);try{if(!e)return{};const t=JSON.parse(e);return"object"==typeof t?t:{}}catch(e){return{}}},j=e=>!!g()[e],m=e=>{const t=g();b.ClientStorage.set(u,JSON.stringify({...t,[e]:!0}))},x=new Date("2020-12-02").getTime(),O=()=>{const{app_id:e,created_at:t}=(()=>{const e=Object(c.Y)(e=>e.applicationState.data);if(!e)throw new Error("Application should be stored to use OnboardingProvider");return e})(),{loadUser:s}=Object(d.a)(),i=Object(r.k)();Object(n.useEffect)(()=>{s()},[s]);const o=t<x,a=Object(n.useRef)(Object(p.b)(e).length>0).current,l=Object(n.useRef)(j(e)),[b,u]=Object(n.useState)(l.current);return{finishOnboarding:t=>{m(e),u(!0),t&&i.push(`/${e}/calls/studio/${t}`)},shouldShowOnboarding:!(b||o&&a),isUpdated:l.current!==b}},h=Object(n.createContext)(void 0),f=()=>{const e=Object(n.useContext)(h);if(!e)throw new Error("The component using OnboardingContext must be a descendant of OnboardingContext.Provider");return e};var y=s("55Ip"),C=s("ZtXK"),w=s("UWC4"),k=s("6889"),v=s("Xvkt"),_=s("YZXb"),I=s("nKUr");const M=Object(n.createContext)(void 0),S=({children:e})=>{const t=Object(_.b)();return Object(I.jsx)(M.Provider,{value:t,children:e})},N=()=>{const e=Object(n.useContext)(M);if(!e)throw new Error("The component using ContactsContext must be a descendant of ContactsContext.Provider");return e};var D=s("Mfcq");const T=o.default.a.withConfig({displayName:"AppDownload__Container",componentId:"sc-1qbfl9e-0"})(["&:hover{text-decoration:none;}> button{white-space:nowrap;svg{margin-right:8px;}}"]),U=()=>{const e=Object(i.a)();return Object(I.jsx)(T,{href:"https://apps.apple.com/gb/app/id1503477603",target:"_blank",children:Object(I.jsxs)(a.Button,{buttonType:"tertiary",children:[Object(I.jsx)(a.Icon,{icon:"apple",size:16,color:Object(a.cssVariables)("neutral-9")}),e.formatMessage({id:"calls.studio.components.appDownload.ios"})]})})},E=()=>{const e=Object(i.a)();return Object(I.jsx)(T,{href:"http://play.google.com/store/apps/details?id=com.sendbird.calls.quickstart",target:"_blank",children:Object(I.jsxs)(a.Button,{buttonType:"tertiary",children:[Object(I.jsx)(a.Icon,{icon:"google-play-colored",size:16}),e.formatMessage({id:"calls.studio.components.appDownload.android"})]})})},B=(e,t="png")=>`${w.n}/calls/${e}.${t}`,R=(e,t="png")=>[B(e,t),`${B(`${e}@2x`,t)} 2x`,`${B(`${e}@3x`,t)} 3x`].join(", "),z=({name:e,alt:t,...s})=>Object(I.jsx)("img",{src:B(e),srcSet:R(e),alt:t,...s}),V=o.default.div.withConfig({displayName:"Guides__AppDownloadContainer",componentId:"gcsbhj-0"})(["a + a{margin-left:8px;}"]),A=o.default.ul.withConfig({displayName:"Guides__GuideContent",componentId:"gcsbhj-1"})(["list-style:none;li{> p{"," strong{font-weight:600;}}> img{border-radius:4px;background:",";}> p + *{margin-top:16px;}}li + li{margin-top:16px;}"],a.Body["body-short-01"],Object(a.cssVariables)("neutral-1")),P=()=>{const e=Object(i.a)(),t=Object(c.W)();return({title:s,body:i})=>{t({dialogTypes:D.a.Custom,dialogProps:{size:"small",title:s,body:i,isNegativeButtonHidden:!0,positiveButtonProps:{text:e.formatMessage({id:"calls.studio.guides.dialogs.submit"})}}})}},L=[{icon:"apple",links:{direct:"https://github.com/sendbird/quickstart-calls-directcall-ios",group:"https://github.com/sendbird/quickstart-calls-groupcall-ios"},label:"calls.studio.guides.links.ios"},{icon:"android",links:{direct:"https://github.com/sendbird/quickstart-calls-directcall-android",group:"https://github.com/sendbird/quickstart-calls-groupcall-android"},label:"calls.studio.guides.links.android"},{icon:"javascript",links:{direct:"https://github.com/sendbird/quickstart-calls-javascript",group:"https://github.com/sendbird/quickstart-calls-reactjs"},label:"calls.studio.guides.links.javascript"}],q=o.default.section.withConfig({displayName:"Guides__Layout",componentId:"gcsbhj-2"})(["display:grid;grid-template-columns:1fr 1fr;grid-gap:32px;> div{padding:24px;border-radius:4px;background:",";display:flex;flex-direction:column;> h3{","}> ul{margin-top:16px;list-style:none;li{display:flex;align-items:center;> span{"," color:",";> a{margin-left:8px;}}> svg{fill:",";}> * + *{margin-left:8px;}}li + li{margin-top:8px;}}> p{","}a{font-size:14px;line-height:20px;}> ul + h3{margin-top:32px;}> h3 + p{margin-top:16px;}> p + a{margin-top:16px;}}"],Object(a.cssVariables)("neutral-1"),a.Headings["heading-01"],a.Body["body-short-01"],Object(a.cssVariables)("neutral-10"),Object(a.cssVariables)("neutral-7"),a.Body["body-short-01"]),$=()=>{const e=Object(i.a)(),t=[{icon:"web-application-filled",label:"calls.studio.guides.singin.desktop",onClick:(()=>{const e=Object(i.a)(),t=P();return()=>t({title:e.formatMessage({id:"calls.studio.guides.dialogs.desktop.title"}),body:Object(I.jsxs)(A,{children:[Object(I.jsxs)("li",{children:[Object(I.jsx)("p",{children:e.formatMessage({id:"calls.studio.guides.dialogs.desktop.step1"},{strong:e=>Object(I.jsx)("strong",{children:e})})}),Object(I.jsx)(z,{name:"img-call-studio-guide-web-01",alt:e.formatMessage({id:"calls.studio.guides.dialogs.desktop.step1.image"})})]}),Object(I.jsxs)("li",{children:[Object(I.jsx)("p",{children:e.formatMessage({id:"calls.studio.guides.dialogs.desktop.step2"})}),Object(I.jsx)(z,{name:"img-call-studio-guide-web-02",alt:e.formatMessage({id:"calls.studio.guides.dialogs.desktop.step2.image"})})]})]})})})()},{icon:"mobile-application-filled",label:"calls.studio.guides.singin.mobile",onClick:(()=>{const e=Object(i.a)(),t=P();return()=>{t({title:e.formatMessage({id:"calls.studio.guides.dialogs.mobile.title"}),body:Object(I.jsxs)(A,{children:[Object(I.jsxs)("li",{children:[Object(I.jsx)("p",{children:e.formatMessage({id:"calls.studio.guides.dialogs.mobile.step1"})}),Object(I.jsxs)(V,{children:[Object(I.jsx)(U,{}),Object(I.jsx)(E,{})]})]}),Object(I.jsxs)("li",{children:[Object(I.jsx)("p",{children:e.formatMessage({id:"calls.studio.guides.dialogs.mobile.step2"})}),Object(I.jsx)(z,{name:"img-call-studio-guide-mobile-01",alt:e.formatMessage({id:"calls.studio.guides.dialogs.mobile.step2.image"})})]}),Object(I.jsx)("li",{children:Object(I.jsx)("p",{children:e.formatMessage({id:"calls.studio.guides.dialogs.mobile.step3"})})})]})})}})()}];return Object(I.jsxs)(q,{children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:e.formatMessage({id:"calls.studio.guides.singin.title"})}),Object(I.jsx)("ul",{children:t.map(({icon:t,label:s,onClick:i})=>Object(I.jsxs)("li",{children:[Object(I.jsx)(a.Icon,{icon:t,size:16}),Object(I.jsx)("span",{children:e.formatMessage({id:s},{a:e=>Object(I.jsx)(k.s,{onClick:i,children:e})})})]},s))})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:e.formatMessage({id:"calls.studio.guides.links.title"})}),Object(I.jsx)("ul",{children:L.map(({icon:t,links:s,label:i})=>Object(I.jsxs)("li",{children:[Object(I.jsx)(a.Icon,{icon:t,size:16}),Object(I.jsx)(a.Link,{iconProps:{icon:"open-in-new",size:16},target:"_blank",href:s.direct,children:e.formatMessage({id:i})})]},i))})]})]})},K=()=>{const e=Object(i.a)();return Object(I.jsxs)(q,{children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:e.formatMessage({id:"calls.studio.guides.docs.title"})}),Object(I.jsx)("p",{children:e.formatMessage({id:"calls.studio.guides.docs.description"})}),Object(I.jsx)(k.s,{href:"https://sendbird.com/docs/calls",target:"_blank",useReactRouter:!1,children:e.formatMessage({id:"calls.studio.guides.docs.link"})})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:e.formatMessage({id:"calls.studio.guides.links.title"})}),Object(I.jsx)("ul",{children:L.map(({icon:t,links:s,label:i})=>Object(I.jsxs)("li",{children:[Object(I.jsx)(a.Icon,{icon:t,size:16}),Object(I.jsx)(a.Link,{iconProps:{icon:"open-in-new",size:16},target:"_blank",href:s.group,children:e.formatMessage({id:i})})]},i))})]})]})};var F,W,H;!function(e){e[e.AddExistingUser=0]="AddExistingUser",e[e.CreateNewUser=1]="CreateNewUser"}(F||(F={})),function(e){e[e.AddExistingRoom=0]="AddExistingRoom",e[e.CreateNewRoom=1]="CreateNewRoom"}(W||(W={})),function(e){e[e.Desktop=0]="Desktop",e[e.Mobile=1]="Mobile"}(H||(H={}));const G=Object(o.default)(a.Dropdown).attrs({placement:"bottom-start",positionFixed:!0,modifiers:{preventOverflow:{boundariesElement:"viewport"}},showArrow:!1,selectedItem:null}).withConfig({displayName:"dropdowns__StyledDropdown",componentId:"sc-19ufk7h-0"})(["height:initial;background-color:transparent !important;border:0 !important;overflow:visible;justify-content:center;"]),Z=({disabled:e,onClickDesktop:t,onClickMobile:s})=>{const o=Object(i.a)();return Object(I.jsx)(G,{disabled:e,items:[H.Mobile,H.Desktop],onItemSelected:e=>{e===H.Mobile&&(null==s||s()),e===H.Desktop&&(null==t||t())},itemToElement:e=>o.formatMessage({id:{[H.Mobile]:"calls.studio.contacts.user.actions.signin.mobile",[H.Desktop]:"calls.studio.contacts.user.actions.signin.desktop"}[e]}),toggleRenderer:({isOpen:t})=>Object(I.jsx)(a.Button,{variant:"ghost",buttonType:"secondary",size:"small",disabled:e,"aria-pressed":t,children:o.formatMessage({id:"calls.studio.contacts.user.actions.signin"})})})};var Y=Object(o.default)(a.Button).withConfig({displayName:"dropdowns___StyledButton",componentId:"sc-19ufk7h-1"})(["min-width:auto;"]);const J=({variant:e,buttonType:t="primary",disabled:s,onClickCreate:o,onClickAddExisting:a})=>{const n=Object(i.a)();return Object(I.jsx)(G,{disabled:s,items:[F.AddExistingUser,F.CreateNewUser],onItemSelected:e=>{e===F.CreateNewUser&&o(),e===F.AddExistingUser&&a()},itemToElement:e=>n.formatMessage({id:{[F.AddExistingUser]:"calls.studio.contacts.add.existing",[F.CreateNewUser]:"calls.studio.contacts.add.new"}[e]}),toggleRenderer:({isOpen:i})=>Object(I.jsx)(Y,{disabled:s,variant:e,buttonType:t,icon:"plus",size:"small","aria-pressed":i,children:n.formatMessage({id:"calls.studio.contacts.add"})})})};var X=Object(o.default)(a.Button).withConfig({displayName:"dropdowns___StyledButton2",componentId:"sc-19ufk7h-2"})(["min-width:auto;"]);const Q=({variant:e="ghost",buttonType:t="primary",disabled:s,onClickCreate:o,onClickAddExisting:a})=>{const n=Object(i.a)();return Object(I.jsx)(G,{disabled:s,items:[W.AddExistingRoom,W.CreateNewRoom],onItemSelected:e=>{e===W.CreateNewRoom&&o(),e===W.AddExistingRoom&&a()},itemToElement:e=>n.formatMessage({id:{[W.AddExistingRoom]:"calls.studio.new.body.group.add.existing",[W.CreateNewRoom]:"calls.studio.new.body.group.add.new"}[e]}),toggleRenderer:({isOpen:i})=>Object(I.jsx)(X,{disabled:s,variant:e,buttonType:t,icon:"plus",size:"small","aria-pressed":i,children:n.formatMessage({id:"calls.studio.new.body.group.add"})})})};var ee=s("D1Df"),te=s.n(ee),se=s("YMf3");const ie=o.default.div.withConfig({displayName:"ShareableLink__LabelWrapper",componentId:"z6t7r0-0"})(["display:flex;align-items:center;"]);var oe=Object(o.default)(a.InputText).withConfig({displayName:"ShareableLink___StyledInputText",componentId:"z6t7r0-1"})(["width:100%;"]);const ae=Object(o.default)(({userId:e,link:t,className:s})=>{const n=Object(i.a)(),r=Object(c.k)();return Object(I.jsx)(oe,{label:Object(I.jsxs)(ie,{children:[n.formatMessage({id:"calls.studio.mobileApp.signinDialog.shareableLink.label"}),Object(I.jsx)(a.ContextualHelp,{content:n.formatMessage({id:"calls.studio.mobileApp.signinDialog.shareableLink.label.tooltip"},{userId:e}),tooltipContentStyle:Object(o.css)([""," max-width:256px;"],a.Body["body-short-01"]),children:Object(I.jsx)(a.TooltipTargetIcon,{icon:"info"})})]}),value:t,icons:[{icon:"copy",title:"Copy",onClick:()=>{t&&r(t)},disabled:!t}],readOnly:!0,className:s})}).withConfig({displayName:"ShareableLink",componentId:"z6t7r0-2"})([""]),ne=e=>`${w.n}/calls/${e}`,re=o.default.div.withConfig({displayName:"SigninInstruction__ImageContainer",componentId:"igclw9-0"})(["position:relative;"]),le=o.default.li.withConfig({displayName:"SigninInstruction__StepContainer",componentId:"igclw9-1"})(["display:flex;flex-direction:column;align-items:center;min-width:160px;span{display:flex;align-items:center;justify-content:center;"," color:",";width:20px;height:20px;background:",";border-radius:50%;position:absolute;top:0;left:-20px;}p{"," color:",";text-align:center;max-width:112px;}"," + p{margin-top:8px;}"],a.Typography["label-01"],Object(a.cssVariables)("neutral-9"),Object(a.cssVariables)("neutral-3"),a.Typography["caption-01"],Object(a.cssVariables)("neutral-10"),re),ce=({step:e,image:t,text:s})=>{const{src:i,alt:o,srcSet:a}=t;return Object(I.jsxs)(le,{children:[Object(I.jsxs)(re,{children:[Object(I.jsx)("span",{children:e}),Object(I.jsx)("img",{src:i,alt:o,srcSet:a})]}),Object(I.jsx)("p",{children:s})]})},de=o.default.ol.withConfig({displayName:"SigninInstruction__Container",componentId:"igclw9-2"})(["display:flex;align-items:center;justify-content:center;background:",";padding:24px 40px;width:100%;border-radius:4px;"," + ","{margin-left:16px;}"],Object(a.cssVariables)("neutral-1"),le,le),pe=Object(o.default)(e=>{const t=Object(i.a)();return Object(I.jsx)(de,{...e,children:[{src:"img-call-studio-guide-01.png",srcSet:["img-call-studio-guide-01.png","img-call-studio-guide-01@2x.png 2x","img-call-studio-guide-01@3x.png 3x"],altKey:"calls.studio.mobileApp.signinDialog.step1_lbl.alt",textKey:"calls.studio.mobileApp.signinDialog.step1_lbl.text"},{src:"img-call-studio-guide-02.png",srcSet:["img-call-studio-guide-02.png","img-call-studio-guide-02@2x.png 2x","img-call-studio-guide-02@3x.png 3x"],altKey:"calls.studio.mobileApp.signinDialog.step2_lbl.alt",textKey:"calls.studio.mobileApp.signinDialog.step2_lbl.text"},{src:"img-call-studio-guide-03.png",srcSet:["img-call-studio-guide-03.png","img-call-studio-guide-03@2x.png 2x","img-call-studio-guide-03@3x.png 3x"],altKey:"calls.studio.mobileApp.signinDialog.step3_lbl.alt",textKey:"calls.studio.mobileApp.signinDialog.step3_lbl.text"}].map(({src:e,srcSet:s,altKey:i,textKey:o},a)=>Object(I.jsx)(ce,{step:a+1,text:t.formatMessage({id:o}),image:{srcSet:s.map(e=>ne(e)).join(", "),src:ne(e),alt:t.formatMessage({id:i})}},e))})}).withConfig({displayName:"SigninInstruction",componentId:"igclw9-3"})([""]),be=o.default.span.withConfig({displayName:"signinDialogs__Nickname",componentId:"v4gipi-0"})(["display:flex;flex-direction:row;align-items:center;",";color:",";","{margin-left:8px;}"],a.Headings["heading-02"],Object(a.cssVariables)("neutral-10"),a.Lozenge),ue=o.default.span.withConfig({displayName:"signinDialogs__UserID",componentId:"v4gipi-1"})(["",";color:",";"],a.Body["body-short-01"],Object(a.cssVariables)("neutral-7")),ge=o.default.div.withConfig({displayName:"signinDialogs__QRCodeContainer",componentId:"v4gipi-2"})(["width:160px;height:160px;"]),je=o.default.div.withConfig({displayName:"signinDialogs__CopyableLinkContainer",componentId:"v4gipi-3"})(["display:flex;width:100%;div{width:100%;}> div + button{margin-left:8px;}"]),me=o.default.div.withConfig({displayName:"signinDialogs__SigninDialogContainer",componentId:"v4gipi-4"})(["display:flex;flex-direction:column;align-items:center;","{margin-top:16px;}","{margin-top:16px;}",",","{margin-top:32px;}","{margin-top:20px;}"],be,ge,pe,je,ae);var xe=Object(o.default)(me).withConfig({displayName:"signinDialogs___StyledSigninDialogContainer",componentId:"v4gipi-5"})(["padding-top:16px"]);const Oe=({link:e})=>{const t=Object(c.k)();return Object(I.jsxs)(je,{children:[Object(I.jsx)(a.InputText,{value:e,readOnly:!0}),Object(I.jsx)(a.Button,{buttonType:"primary",disabled:!e,onClick:()=>{e&&t(e)},children:"Copy"})]})},he=e=>{const t=Object(se.a)(),[{data:s},i]=Object(c.g)(()=>t(e),[t,e]);return{data:s,link:s?(e=>`${location.origin}/calls/signin/${e}`)(s):void 0,fetch:i}},fe=({user:e})=>{const{user_id:t,profile_url:s,nickname:o}=e,{link:a,fetch:r}=he(e),l=Object(i.a)();return Object(n.useEffect)(()=>{r()},[r]),Object(I.jsxs)(xe,{children:[Object(I.jsx)(k.Zb,{userID:t,imageUrl:s,size:"large"},s),Object(I.jsx)(be,{children:o||w.Z}),Object(I.jsx)(ue,{children:l.formatMessage({id:"calls.studio.dialogs.signin.desktop.userId"},{userId:t})}),Object(I.jsx)(Oe,{link:a})]})},ye=({user:e})=>{const t=Object(i.a)(),{user_id:s,profile_url:o,nickname:a}=e,{data:r,link:l,fetch:c}=he(e);return Object(n.useEffect)(()=>{c()},[c]),Object(I.jsxs)(me,{"data-test-id":"SigninDialog",children:[Object(I.jsx)(k.Zb,{userID:s,imageUrl:o,size:"large"},o),Object(I.jsx)(be,{children:a||w.Z}),Object(I.jsx)(ue,{children:t.formatMessage({id:"calls.studio.mobileApp.signinDialog.user.id"},{userId:s})}),Object(I.jsx)(ge,{"data-test-id":"QRCode",children:r?Object(I.jsx)(te.a,{value:r,size:160}):null}),Object(I.jsx)(pe,{}),Object(I.jsx)(ae,{userId:s,link:l})]})},Ce=()=>{const e=Object(i.a)(),t=Object(c.W)();return s=>{t({dialogTypes:D.a.Custom,dialogProps:{size:"large",isNegativeButtonHidden:!0,title:e.formatMessage({id:"calls.studio.mobileApp.signinDialog_lbl.title"}),body:Object(I.jsx)(ye,{user:s})}})}};var we=s("ufqH");const ke=o.default.div.withConfig({displayName:"Coachmark__Highlight",componentId:"ktdkx2-0"})(["position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;border-radius:16px;background:",";width:32px;height:32px;"],Object(we.rgba)(Object(a.cssColors)("green-5"),.3)),ve=o.default.div.withConfig({displayName:"Coachmark__CoachMarkContentContainer",componentId:"ktdkx2-1"})(["display:flex;flex-direction:column;> strong{","}> p{","}> button{align-self:flex-end;}> strong + p{margin-top:4px;}> p + button{margin-top:16px;}"],a.Headings["heading-01"],a.Body["body-short-01"]),_e=o.default.div.withConfig({displayName:"Coachmark__CoachmarkTarget",componentId:"ktdkx2-2"})(["position:relative;pointer-events:none;width:100%;height:100%;display:flex;align-items:center;justify-content:center;"]);var Ie=Object.assign(({tooltip:e,className:t,children:s})=>{const i=Object(n.useRef)(null);return Object(n.useEffect)(()=>{var e;null==(e=i.current)||e.show()},[]),Object(I.jsx)(a.Tooltip,{variant:a.TooltipVariant.Light,trigger:a.TooltipTrigger.Manual,ref:i,popperProps:{modifiers:{offset:{offset:"0, 16"}}},content:e,tooltipContentStyle:"max-width: 316px;",className:t,children:Object(I.jsxs)(_e,{children:[s,Object(I.jsx)(ke,{})]})})},{Tooltip:({title:e,description:t,onDone:s})=>{const o=Object(i.a)();return Object(I.jsxs)(ve,{children:[Object(I.jsx)("strong",{children:e}),Object(I.jsx)("p",{children:t}),Object(I.jsx)(a.Button,{buttonType:"primary",size:"small",onClick:s,children:o.formatMessage({id:"calls.studio.contacts.coachmark.done"})})]})}});const Me=o.default.div.withConfig({displayName:"components__TableContainer",componentId:"uzxfz8-0"})(["padding:24px;border-radius:4px;border:1px solid ",";> h2{"," margin-bottom:16px;}> * + [role='combobox']{transform:translateX(-8px);margin-top:8px;min-width:auto;}"],Object(a.cssVariables)("neutral-3"),a.Headings["heading-02"]),Se=o.default.div.withConfig({displayName:"components__ContentLayout",componentId:"uzxfz8-1"})(["> p{"," color:",";max-width:640px;margin-bottom:32px;> a{","}}"," + section{margin-top:32px;}"],a.Body["body-short-01"],Object(a.cssVariables)("neutral-7"),a.Headings["heading-01"],Me),Ne=o.default.div.withConfig({displayName:"DirectCallsContent__Nickname",componentId:"sc-19vpipt-0"})(["display:grid;grid-template-columns:auto auto;grid-gap:8px;> span{font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"]),De=o.default.span.withConfig({displayName:"DirectCallsContent__ID",componentId:"sc-19vpipt-1"})(["word-break:break-all;> *{display:inline-flex;margin-left:8px;}"]),Te=Object(o.default)(a.IconButton).attrs({size:"small",buttonType:"secondary"}).withConfig({displayName:"DirectCallsContent__CallButton",componentId:"sc-19vpipt-2"})(["position:relative;",""],e=>e.disabled&&"\n    cursor: not-allowed;\n\n    &::before {\n      content: '';\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      z-index: 2;\n    }\n  "),Ue=o.default.div.withConfig({displayName:"DirectCallsContent__ActionsContainer",componentId:"sc-19vpipt-3"})(["display:flex;align-items:center;justify-content:flex-end;width:100%;svg{fill:",";}> [role='combobox']{button{min-width:auto;}}> * ~ *{margin-left:8px;}"],Object(a.cssVariables)("neutral-9")),Ee=({withBorderBottom:e})=>Object(o.css)(["tbody{"," tr{&:hover{background:transparent;&:not(:first-child){border-top:1px solid ",";}& + tr{border-top:1px solid ",";}}td{height:44px;padding:0;align-items:center;}}}"],!e&&"border-bottom: none;",Object(a.cssVariables)("neutral-3"),Object(a.cssVariables)("neutral-3"));var Be=Object(o.default)(Ie).withConfig({displayName:"DirectCallsContent___StyledCoachmark",componentId:"sc-19vpipt-4"})(["width:32px;height:32px;"]);const Re=({onDone:e})=>{const t=Object(i.a)();return Object(I.jsx)(Be,{tooltip:Object(I.jsx)(Ie.Tooltip,{title:t.formatMessage({id:"calls.studio.contacts.coachmark.title"}),description:t.formatMessage({id:"calls.studio.contacts.coachmark.content"}),onDone:e}),children:Object(I.jsx)(a.Icon,{icon:"call",size:20})})};var ze=Object(o.default)(a.EmptyState).withConfig({displayName:"DirectCallsContent___StyledEmptyState",componentId:"sc-19vpipt-5"})(["margin:32px auto"]),Ve=Object(o.default)(a.Table).withConfig({displayName:"DirectCallsContent___StyledTable",componentId:"sc-19vpipt-6"})(["",""],e=>e._css);var Ae=({showCoachmark:e,onCloseCoachmark:t})=>{const s=Object(i.a)(),o=(()=>{const e=Object(c.c)(),t=Object(c.Y)(e=>{var t,s;return null!=(t=null==(s=e.moderations.sdkUser)?void 0:s.is_active)&&t});return!(!e||!t)})(),n=Object(v.b)(),{items:r}=N(),l=(()=>{const e=Object(i.a)(),t=Object(c.W)();return s=>{t({dialogTypes:D.a.Custom,dialogProps:{size:"small",isNegativeButtonHidden:!0,title:e.formatMessage({id:"calls.studio.dialogs.signin.desktop.title"}),description:e.formatMessage({id:"calls.studio.dialogs.signin.desktop.description"}),body:Object(I.jsx)(fe,{user:s})}})}})(),d=Ce(),p=Object(c.c)(),b=e=>()=>{e&&(null==n||n.mainApp.dial(e.user_id,!0),null==n||n.openWidget())},u=e=>()=>{e&&d(e)},g=e=>()=>{e&&l(e)},j=[{dataIndex:"nickname",title:s.formatMessage({id:"calls.studio.new.body.direct.table.header.name"}),flex:1,render:e=>{var t,s;return Object(I.jsxs)(Ne,{children:[Object(I.jsx)(k.Zb,{size:"small",userID:e.userId,imageUrl:null==(t=e.data)?void 0:t.profile_url}),Object(I.jsx)("span",{children:(null==(s=e.data)?void 0:s.nickname)||w.Z})]})}},{dataIndex:"userId",title:s.formatMessage({id:"calls.studio.new.body.direct.table.header.id"}),flex:2,render:e=>{var t;return Object(I.jsxs)(k.ab,{component:De,text:e.userId,maxLines:1,children:[!1===(null==(t=e.data)?void 0:t.is_active)&&Object(I.jsx)(C.a,{}),e.fetchFailureReason===_.a.Deleted&&Object(I.jsx)(C.b,{})]})}},{dataIndex:"actions",flex:1,render:(i,a)=>{return Object(I.jsxs)(Ue,{children:[e&&0===a?Object(I.jsx)(Re,{onDone:t}):Object(I.jsx)(Te,{icon:"call",disabled:!o||!i.data,onClick:(r=i.data,()=>{r&&(null==n||n.mainApp.dial(r.user_id),null==n||n.openWidget())}),title:s.formatMessage({id:o?"calls.studio.contacts.user.actions.call.audio":"calls.studio.contacts.user.actions.call.guide"})}),Object(I.jsx)(Te,{icon:"call-video",disabled:!o||!i.data,onClick:b(i.data),title:s.formatMessage({id:o?"calls.studio.contacts.user.actions.call.video":"calls.studio.contacts.user.actions.call.guide"})}),Object(I.jsx)(Z,{disabled:!o||!i.data,onClickDesktop:g(i.data),onClickMobile:u(i.data)})]});var r}}],m=r.some(e=>e.isFetching);return Object(I.jsxs)(Se,{children:[Object(I.jsx)("p",{children:s.formatMessage({id:"calls.studio.new.body.direct.description"},{a:e=>Object(I.jsx)(y.Link,{to:`/${p}/calls/direct-calls`,children:e})})}),Object(I.jsxs)(Me,{children:[Object(I.jsx)("h2",{children:s.formatMessage({id:"calls.studio.new.body.direct.table.title"})}),Object(I.jsx)(Ve,{rowKey:"userId",loading:m,columns:j,dataSource:r,emptyView:Object(I.jsx)(ze,{size:a.EmptyStateSize.Small,icon:"user",title:s.formatMessage({id:"calls.studio.new.body.direct.table.empty"}),description:null}),_css:Ee({withBorderBottom:0===r.length})})]}),Object(I.jsx)($,{})]})},Pe=s("WlVw"),Le=s("PAP3"),qe=s("B4ka"),$e=s("0vbN");const Ke=async e=>{const t=(e=>{var t,s;return null!=(t=null==(s=b.ClientStorage.getObject("callsStudioRooms"))?void 0:s[e])?t:[]})(e);return 0===t.length?[]:(await Promise.all(t.map(t=>Object($e.i)(e,t)))).map(e=>e.data.room)};var Fe=()=>{const e=Object(c.c)(),[t,s]=Object(n.useState)(),[i,o]=Object(c.g)(()=>Ke(e),[e]),[a,r]=Object(c.g)(t=>Object($e.b)(e,{type:t}),[e]),{status:l,data:d,error:p}=i,{status:u,data:g,error:j}=a,m=e=>{s((t=[])=>[...t,e])};Object(n.useEffect)(()=>{d&&s(d)},[d]),Object(n.useEffect)(()=>{if(g){const e=g.data.room;m(e)}},[e,g]),Object(n.useEffect)(()=>{if(t){const s=t.map(e=>e.room_id);((e,t)=>{b.ClientStorage.upsertObject("callsStudioRooms",{[e]:t})})(e,s)}},[e,t]);const x="loading"===l,O="loading"===u,h=!t||t.length<10;return{rooms:t,isLoading:x,isCreating:O,canAdd:h,create:r,add:m,remove:e=>{s((t=[])=>t.filter(t=>t.room_id!==e))},load:o,loadError:p,createError:j}};const We=Object(o.css)(["tbody{min-height:74px;tr{&:hover{background:transparent;&:not(:first-child){border-top:1px solid ",";}& + tr{border-top:1px solid ",";}}td{padding:16px 0;}}}"],Object(a.cssVariables)("neutral-3"),Object(a.cssVariables)("neutral-3")),He=o.default.span.withConfig({displayName:"GroupCallsContent__ID",componentId:"sc-1resu92-0"})(["font-weight:500;"]),Ge=o.default.div.withConfig({displayName:"GroupCallsContent__RoomProfileWrapper",componentId:"sc-1resu92-1"})(["display:grid;grid-template-columns:min-content auto;grid-gap:4px 12px;","{grid-row:1 / 3;}"],Pe.a),Ze=o.default.div.withConfig({displayName:"GroupCallsContent__RoomRowWrapper",componentId:"sc-1resu92-2"})(["display:grid;grid-template-columns:1fr auto;width:100%;"]),Ye=o.default.a.withConfig({displayName:"GroupCallsContent__RoomLinkWrapper",componentId:"sc-1resu92-3"})(["&&{color:",";font-weight:600;text-decoration:none;font-size:14px;line-height:20px;padding:6px 12px;transition:background 0.2s ",";border-radius:4px;border:1px solid transparent;}"," &:hover{background:",";}&:active{background:",";}"],Object(a.cssVariables)("neutral-10"),a.transitionDefault,e=>e.$disabled&&Object(o.css)(["&&{color:",";background-color:transparent;pointer-events:none;cursor:not-allowed;}"],Object(a.cssVariables)("neutral-5")),Object(a.cssVariables)("neutral-1"),Object(a.cssVariables)("neutral-3")),Je=o.default.div.withConfig({displayName:"GroupCallsContent__ActionContainer",componentId:"sc-1resu92-4"})(["display:grid;grid-template-columns:repeat(3,auto);align-items:center;grid-gap:8px;> button{min-width:auto;}"]),Xe=({user:e,roomId:t,tooltip:s})=>{const o=Object(i.a)(),n=Object(qe.a)({user:e,roomId:t}),r=Object(I.jsx)(Ye,{target:"_blank",href:n,$disabled:!n||!!s,children:o.formatMessage({id:"calls.studio.new.body.group.table.body.row.actions.enter"})});return s?Object(I.jsx)(a.Tooltip,{variant:a.TooltipVariant.Light,tooltipContentStyle:"max-width: 256px;",content:s,children:r}):r},Qe=({id:e,type:t})=>Object(I.jsxs)(Ge,{children:[Object(I.jsx)(Pe.a,{size:"xmedium",id:e}),Object(I.jsx)(He,{children:e}),Object(I.jsx)(Le.a,{value:t})]}),et=({disabled:e,onClick:t})=>{const s=Object(i.a)();return Object(I.jsx)(a.Button,{variant:"ghost",buttonType:"secondary",size:"small",disabled:e,onClick:t,children:s.formatMessage({id:"calls.studio.new.body.group.table.body.row.actions.invite"})})};var tt=Object(o.default)(a.Button).withConfig({displayName:"GroupCallsContent___StyledButton",componentId:"sc-1resu92-5"})(["min-width:auto;"]);const st=({onDone:e})=>{const t=Object(i.a)();return Object(I.jsx)(Ie,{tooltip:Object(I.jsx)(Ie.Tooltip,{title:t.formatMessage({id:"calls.studio.new.body.group.table.body.row.actions.enter.tooltip.title"}),description:t.formatMessage({id:"calls.studio.new.body.group.table.body.row.actions.enter.tooltip.description"}),onDone:e}),children:Object(I.jsx)(tt,{variant:"ghost",buttonType:"secondary",size:"small",children:t.formatMessage({id:"calls.studio.new.body.group.table.body.row.actions.enter"})})})};var it=Object(o.default)(a.EmptyState).withConfig({displayName:"GroupCallsContent___StyledEmptyState",componentId:"sc-1resu92-6"})(["margin:32px auto"]),ot=Object(o.default)(a.Table).withConfig({displayName:"GroupCallsContent___StyledTable",componentId:"sc-1resu92-7"})(["",""],We);var at=({showCoachmark:e,onCloseCoachmark:t})=>{const s=Object(i.a)(),{rooms:o,isLoading:r,loadError:l,canAdd:p,load:u,remove:g,add:j}=Fe(),m=(()=>{const{user:e}=Object(d.a)();return Object(n.useMemo)(()=>e?Object(b.snakeCaseKeys)(e):null,[e])})(),{items:x}=N(),O=Object(c.W)(),h=(()=>{const e=Object(c.W)(),t=Object(i.a)();return Object(n.useCallback)(({onConfirm:s})=>{e({dialogTypes:D.a.Custom,dialogProps:{size:"small",title:t.formatMessage({id:"calls.studio.new.body.group.table.body.row.actions.remove.confirm.title"}),description:t.formatMessage({id:"calls.studio.new.body.group.table.body.row.actions.remove.confirm.description"}),positiveButtonProps:{buttonType:"danger",text:t.formatMessage({id:"calls.studio.new.body.group.table.body.row.actions.remove.confirm.submit"}),onClick:s}}})},[e,t])})(),f=Object(c.c)(),C=0===(null==o?void 0:o.length),w=e=>()=>{O({dialogTypes:D.a.CallsStudioRoomInvite,dialogProps:{items:x,room:e}})};return Object(n.useEffect)(()=>{u()},[u]),Object(c.s)(l),Object(I.jsxs)(Se,{children:[Object(I.jsx)("p",{children:s.formatMessage({id:"calls.studio.new.body.group.description"},{a:e=>Object(I.jsx)(y.Link,{to:`/${f}/calls/group-calls`,children:e})})}),Object(I.jsxs)(Me,{children:[Object(I.jsx)("h2",{children:s.formatMessage({id:"calls.studio.new.body.group.table.title"})}),Object(I.jsx)(ot,{rowKey:"room_id",dataSource:o,loading:r,columns:[{dataIndex:"room_id",title:s.formatMessage({id:"calls.studio.new.body.group.table.header.rooms"}),render:(i,o)=>{const{room_id:n,room_type:r}=i;return Object(I.jsxs)(Ze,{children:[Object(I.jsx)(Qe,{id:n,type:r}),Object(I.jsxs)(Je,{children:[Object(I.jsx)(et,{onClick:w(i)}),e&&0===o?Object(I.jsx)(st,{onDone:t}):Object(I.jsx)(Xe,{user:null!=m?m:void 0,roomId:n,tooltip:!0===(null==m?void 0:m.is_active)?void 0:s.formatMessage({id:"calls.studio.new.body.group.table.body.row.actions.enter.tooltip.noOperator"})}),Object(I.jsx)(a.OverflowMenu,{popperProps:{modifiers:{hide:{enabled:!1},preventOverflow:{enabled:!1}}},items:[{label:s.formatMessage({id:"calls.studio.new.body.group.table.body.row.actions.remove"}),onClick:(l=n,()=>h({onConfirm:()=>g(l)}))}]})]})]});var l}}],emptyView:C&&Object(I.jsx)(it,{size:a.EmptyStateSize.Small,icon:"group-call",title:s.formatMessage({id:"calls.studio.new.body.group.table.empty"}),description:null})}),p&&Object(I.jsx)(Q,{onClickCreate:()=>{O({dialogTypes:D.a.CreateRoom,dialogProps:{onSuccess:j}})},onClickAddExisting:()=>{O({dialogTypes:D.a.CallsStudioAddExistingRoom,dialogProps:{addedRoomIds:null==o?void 0:o.map(e=>e.room_id),onSuccess:j}})}})]}),Object(I.jsx)(K,{})]})};const nt=o.default.section.withConfig({displayName:"Body__Layout",componentId:"sc-1r75a9i-0"})(["max-width:848px;padding:24px 32px;","{margin-top:16px;}"],Se),rt=()=>Object(r.m)().tab,lt=()=>{const{isUpdated:e}=f(),t=Object(c.Y)(e=>!!e.dialogs.dialogTypes),[s,i]=Object(n.useState)(e);return[s&&!t,()=>i(!1)]};var ct=()=>{const e=Object(i.a)(),t=rt(),s=(()=>{var e;const t=Object(r.k)(),s=null==(e=Object(r.n)())?void 0:e.url,i=rt();return Object(n.useCallback)(e=>t.replace(i?`./${e}`:`${s}/${e}`),[t,s,i])})(),[o,c]=Object(n.useState)(null!=t?t:"direct"),d=[{title:e.formatMessage({id:"calls.studio.new.body.tabs.direct"}),id:"direct"},{title:e.formatMessage({id:"calls.studio.new.body.tabs.group"}),id:"group"}],p=d.findIndex(e=>e.id===o),[b,u]=lt();return Object(n.useEffect)(()=>{o!==t&&s(o)},[o,s,t]),Object(I.jsxs)(nt,{children:[Object(I.jsx)(a.TabbedInterface,{tabs:d,activeTabIndex:p,onActiveTabChange:({tab:e})=>{c(e.id)},children:e=>"direct"===e.id?Object(I.jsx)(Ae,{showCoachmark:b,onCloseCoachmark:u}):"group"===e.id?Object(I.jsx)(at,{showCoachmark:b,onCloseCoachmark:u}):void 0}),"group"===o&&Object(I.jsx)(l.a,{})]})};const dt=o.default.ul.withConfig({displayName:"Contacts__UserList",componentId:"mi5kyw-0"})(["> li{grid-template-columns:32px calc(100% - 88px) 32px;border:none;padding:0;height:60px;}"]),pt=o.default.section.withConfig({displayName:"Contacts__Layout",componentId:"mi5kyw-1"})(["> h2{"," color:",";}> [role='combobox']{transform:translateX(-12px);button{min-width:auto;}}> [role='alert']{width:calc(100% + 16px);transform:translateX(-8px);}> h2 + ","{margin-top:16px;}> h2 + ","{margin-top:130px;[role='combobox']{margin-top:12px;}}> "," + [role='combobox'],> "," + [role='alert']{margin-top:8px;}"],a.Headings["heading-01"],Object(a.cssVariables)("neutral-10"),dt,a.EmptyState,dt,dt),bt=()=>{const e=Object(i.a)();return Object(I.jsx)(a.InlineNotification,{type:"info",message:e.formatMessage({id:"calls.studio.contacts.notification.userLimitReached"},{max:10})})};var ut=()=>{const e=Object(i.a)(),{items:t,reloadUser:s,showCreateUserDialog:o,showEditUserDialog:n,showAddExistingUserDialog:r,showRemoveUserDialog:l}=N(),c=e=>()=>{l(e)},d=e=>()=>{s(e)};return Object(I.jsxs)(pt,{children:[Object(I.jsx)("h2",{children:e.formatMessage({id:"calls.studio.contacts.header.title"})}),t.length>0&&Object(I.jsx)(dt,{children:t.map(({isFetching:t,userId:s,data:i,fetchFailureReason:o})=>{return t?Object(I.jsx)(C.f,{},s):Object(I.jsx)(C.c,{userId:s,nickname:null==i?void 0:i.nickname,profileUrl:null==i?void 0:i.profile_url,errorMessage:o===_.a.Else?e.formatMessage({id:"calls.studio.contacts.user.fetchError"}):void 0,deleted:o===_.a.Deleted,deactivated:!1===(null==i?void 0:i.is_active),action:Object(I.jsx)(a.OverflowMenu,{items:[i&&{label:e.formatMessage({id:"calls.studio.contacts.user.actions.edit"}),onClick:(r=i,()=>{n(r)}),disabled:null!=o},o===_.a.Else&&{label:e.formatMessage({id:"calls.studio.contacts.user.actions.reload"}),onClick:d(s),disabled:t},{label:e.formatMessage({id:"calls.studio.contacts.user.actions.remove"}),onClick:c(s)}].filter(Boolean)})},s);var r})}),0===t.length&&Object(I.jsx)(a.EmptyState,{size:a.EmptyStateSize.Small,icon:"user",title:e.formatMessage({id:"calls.studio.contacts.empty"}),description:Object(I.jsx)(J,{variant:"default",buttonType:"tertiary",onClickCreate:o,onClickAddExisting:r})}),t.length>0&&t.length<10&&Object(I.jsx)(J,{variant:"ghost",buttonType:"primary",onClickCreate:o,onClickAddExisting:r}),10===t.length&&Object(I.jsx)(bt,{})]})};var gt=({when:e})=>{const t=Object(i.a)();return Object(I.jsx)(r.b,{when:e,message:e=>e.pathname.includes("/calls/studio")||t.formatMessage({id:"calls.studio.onboarding.leavePrompt.description"})})};const jt=o.default.li.withConfig({displayName:"Progress__ProgressStepContainer",componentId:"sc-1jybahd-0"})(["display:flex;align-items:center;"," color:",";> div{margin:1px 9px 1px 1px;width:22px;height:22px;border-radius:11px;background:",";"," display:flex;align-items:center;justify-content:center;color:white;}> svg{margin-right:8px;fill:",";}"],a.Subtitles["subtitle-01"],({$status:e})=>({TODO:Object(a.cssVariables)("neutral-6"),IN_PROGRESS:Object(a.cssVariables)("purple-7"),DONE:Object(a.cssVariables)("neutral-7")}[e]),({$status:e})=>({TODO:Object(a.cssVariables)("neutral-5"),IN_PROGRESS:Object(a.cssVariables)("purple-7"),DONE:null}[e]),a.Typography["label-01"],e=>"DONE"===e.$status&&Object(a.cssVariables)("neutral-9")),mt=o.default.ul.withConfig({displayName:"Progress__ProgressContainer",componentId:"sc-1jybahd-1"})(["list-style:none;display:flex;li + li{&:before{content:'';height:1px;width:56px;background:",";margin:0 8px;}}"],Object(a.cssVariables)("neutral-3")),xt=({status:e,value:t,title:s})=>Object(I.jsxs)(jt,{$status:e,children:["DONE"===e?Object(I.jsx)(a.Icon,{icon:"success-filled",size:24}):Object(I.jsx)("div",{children:t}),s]});var Ot=Object(o.default)(({titles:e,activeIndex:t,className:s})=>{const o=Object(i.a)(),a=e=>e<t?"DONE":e===t?"IN_PROGRESS":"TODO";return Object(I.jsx)(mt,{className:s,children:e.map((e,t)=>Object(I.jsx)(xt,{status:a(t),value:t+1,title:o.formatMessage({id:e})},e))})}).withConfig({displayName:"Progress",componentId:"sc-1jybahd-2"})([""]);const ht=o.default.header.withConfig({displayName:"components__Header",componentId:"sc-1v518fe-0"})(["border-bottom:1px solid ",";height:80px;display:flex;align-items:center;padding:24px 32px;> ","{width:100%;padding-right:","px;display:flex;justify-content:center;}"],Object(a.cssVariables)("neutral-3"),Ot,52),ft=o.default.article.withConfig({displayName:"components__Layout",componentId:"sc-1v518fe-1"})(["display:flex;flex-direction:column;min-width:1024px;height:100%;"]);var yt=s("Zsd2"),Ct=s.n(yt),wt=s("cVtS"),kt=s("KqxG"),vt=s("KQeT");const _t=({buttonType:e="tertiary",size:t="medium",children:s,...o})=>{const n=Object(i.a)();return Object(I.jsx)(a.Button,{buttonType:e,size:t,...o,children:s||n.formatMessage({id:"calls.studio.onboarding.pages.components.back"})})},It=Object(n.forwardRef)(({buttonType:e="primary",size:t="medium",children:s,...o},n)=>{const r=Object(i.a)();return Object(I.jsx)(a.Button,{ref:n,buttonType:e,size:t,...o,children:s||r.formatMessage({id:"calls.studio.onboarding.pages.components.next"})})}),Mt=o.default.section.withConfig({displayName:"contents__ContentSection",componentId:"u596kr-0"})(["display:flex;align-items:center;justify-content:flex-end;padding-right:72px;"]),St=o.default.section.withConfig({displayName:"contents__ImageSection",componentId:"u596kr-1"})(["display:flex;align-items:center;background:",";padding-left:32px;> img{width:520px;height:480px;margin-bottom:80px;}"],e=>{var t;return null!=(t=e.background)?t:Object(a.cssVariables)("neutral-1")}),Nt=o.default.main.withConfig({displayName:"contents__Layout",componentId:"u596kr-2"})(["display:grid;grid-template-columns:calc(50% - 56px) calc(50% + 56px);height:100%;"]),Dt=o.default.div.withConfig({displayName:"contents__ButtonsContainer",componentId:"u596kr-3"})(["display:flex;> button + button{margin-left:8px;}"]),Tt=o.default.div.withConfig({displayName:"contents__InstructionTemplateContainer",componentId:"u596kr-4"})(["width:400px;height:480px;display:flex;flex-direction:column;justify-content:center;margin-bottom:80px;> button{align-self:flex-start;}> small{"," color:",";}> h2{"," color:",";}> p{"," white-space:pre-wrap;color:",";> a{font-weight:600;}}> * + h2{margin-top:16px;}> small + h2{margin-top:8px;}> h2 + p{margin-top:16px;}* + ","{margin-top:48px;}> p + [role='alert'],p + div,p + form{margin-top:32px;}"],a.Typography["label-02"],Object(a.cssVariables)("neutral-7"),a.Headings["heading-05"],Object(a.cssVariables)("neutral-10"),a.Body["body-short-01"],Object(a.cssVariables)("neutral-7"),Dt),Ut=({step:e,title:t,description:s,content:i,className:o})=>Object(I.jsxs)(Tt,{className:o,children:[e&&Object(I.jsx)("small",{children:e}),Object(I.jsx)("h2",{children:t}),Object(I.jsx)("p",{children:s}),i]}),Et=o.default.div.withConfig({displayName:"contents__AppDownloadContainer",componentId:"u596kr-5"})(["> a + a{margin-left:8px;}"]),Bt=o.default.div.withConfig({displayName:"contents__InstallContentContainer",componentId:"u596kr-6"})(["display:flex;flex-direction:column;> p{","}> p + ","{margin-top:8px;}"],a.Headings["heading-01"],Et),Rt=o.default.div.withConfig({displayName:"contents__UserContentContainer",componentId:"u596kr-7"})(["display:flex;flex-direction:column;> button{width:fit-content;&:last-child{margin-top:32px;}}> p{"," color:",";white-space:pre-wrap;a{color:",";text-decoration:underline;}}> [role='progressbar']{margin:auto;}button + p{margin-top:8px;}> [role='alert'] + form{margin-top:24px;}> [role='alert'] + ","{margin-top:8px;}"],a.Subtitles["subtitle-01"],Object(a.cssVariables)("neutral-10"),Object(a.cssVariables)("neutral-10"),C.e),zt=o.default.form.withConfig({displayName:"contents__CreateUserFormContainer",componentId:"u596kr-8"})(["> div + p{margin-top:24px;}> p{"," color:",";}"],a.Body["body-short-01"],Object(a.cssVariables)("neutral-7")),Vt=({readOnly:e,isLoading:t,initialValue:s,onSubmit:o,onBackClick:r,description:l})=>{var c,d;const p=Object(i.a)(),[b,u]=Object(n.useState)(null!=(c=null==s?void 0:s.userId)?c:""),[g,j]=Object(n.useState)(null!=(d=null==s?void 0:s.nickname)?d:""),m=!Ct()(b)||!Ct()(g);return Object(I.jsxs)(zt,{onSubmit:e=>{e.preventDefault(),o({userId:b,nickname:g})},"data-test-id":"CreateUserForm",children:[Object(I.jsx)(a.InputText,{label:p.formatMessage({id:"calls.studio.onboarding.pages.createUserForm.userId"}),readOnly:e,value:b,onChange:e=>u(e.target.value)}),Object(I.jsx)(a.InputText,{label:p.formatMessage({id:"calls.studio.onboarding.pages.createUserForm.nickname"}),readOnly:e,value:g,onChange:e=>j(e.target.value)}),l,Object(I.jsxs)(Dt,{children:[r&&Object(I.jsx)(_t,{onClick:r}),Object(I.jsx)(It,{type:"submit",disabled:m||t,isLoading:t})]})]})},At=()=>{const e=Object(i.a)();return Object(I.jsx)(a.InlineNotification,{type:"success",message:e.formatMessage({id:"calls.studio.onboarding.pages.phonebooth.alreadyExist"})})},Pt=()=>{const e=Object(i.a)();return Object(I.jsx)(a.InlineNotification,{type:"success",message:e.formatMessage({id:"calls.studio.onboarding.pages.components.contactExistNotification"})})};var Lt=Object(o.default)(a.Spinner).withConfig({displayName:"contents___StyledSpinner",componentId:"u596kr-9"})(["height:272px;"]);const qt=({onSubmit:e})=>{var t;const{items:s,addUser:i,showAddExistingUserDialog:o}=Object(_.b)(),a=Object(vt.a)(),[{data:r,status:l,error:d},p]=Object(c.g)(e=>(async(e,t)=>Object(kt.createUser)({appId:e,...t,issueAccessToken:!0,profileUrl:""}))(a,e),[a]),b=Object(c.B)(null==(t=s[0])?void 0:t.data),u=!(null==b||!b.user_id),g="success"===l&&!(null!=b&&b.user_id)&&(null==r?void 0:r.data.user_id),j="loading"===l;Object(n.useEffect)(()=>{g&&null!=r&&r.data&&(i(r.data),null==e||e())},[g,e,r,i]),Object(c.s)(d);return{alreadyExist:u,showAddExistingUserDialog:o,items:s,initialUser:b,isSubmitting:j,handleSubmit:t=>{u?null==e||e():p(t)}}};var $t=Object(o.default)(a.Spinner).withConfig({displayName:"contents___StyledSpinner2",componentId:"u596kr-10"})(["height:152px;"]);const Kt=({id:e,title:t,description:s,step:i,image:o,form:a})=>Object(I.jsxs)(Nt,{id:e,children:[Object(I.jsx)(Mt,{children:Object(I.jsx)(Ut,{step:i,title:t,description:s,content:Object(I.jsx)(Rt,{children:null!=a?a:Object(I.jsx)($t,{size:48})})})}),Object(I.jsx)(St,{children:o})]}),Ft={Install:({step:e,onBackClick:t,onNextClick:s})=>{const o=Object(i.a)();return Object(I.jsxs)(Nt,{id:"OnboardingStep1",children:[Object(I.jsx)(Mt,{children:Object(I.jsx)(Ut,{step:o.formatMessage({id:"calls.studio.onboarding.pages.step"},e),title:o.formatMessage({id:"calls.studio.onboarding.pages.install.title"}),description:o.formatMessage({id:"calls.studio.onboarding.pages.install.description"}),content:Object(I.jsxs)(Bt,{children:[Object(I.jsx)("p",{children:o.formatMessage({id:"calls.studio.onboarding.pages.install.content.app.title"})}),Object(I.jsxs)(Et,{children:[Object(I.jsx)(U,{}),Object(I.jsx)(E,{})]}),Object(I.jsxs)(Dt,{children:[Object(I.jsx)(_t,{onClick:t}),Object(I.jsx)(It,{onClick:s})]})]})})}),Object(I.jsx)(St,{children:Object(I.jsx)(z,{name:"img-calls-studio-onboarding-01",alt:o.formatMessage({id:"calls.studio.onboarding.pages.install.image"})})})]})},Phonebooth:({step:e,onNextClick:t,onBackClick:s})=>{const o=Object(i.a)(),{loadUser:a,user:r,status:l,errorMessage:p}=Object(d.a)(),{createUser:b,loading:u,error:g}=Object(d.b)(),j=Object(c.B)(r),m=Object(n.useRef)(!1),x="success"===l&&!j&&r;Object(n.useEffect)(()=>{m.current&&x&&(null==t||t())},[x,t]),Object(c.s)(g);return Object(I.jsxs)(Nt,{id:"OnboardingStep2",children:[Object(I.jsx)(Mt,{children:Object(I.jsx)(Ut,{step:o.formatMessage({id:"calls.studio.onboarding.pages.step"},e),title:o.formatMessage({id:"calls.studio.onboarding.pages.phonebooth.title"}),description:o.formatMessage({id:"calls.studio.onboarding.pages.phonebooth.description"}),content:Object(I.jsxs)(Rt,{children:["loading"===l&&Object(I.jsx)(Lt,{size:48}),p&&Object(I.jsx)(C.d,{message:p,onRetry:a}),j&&Object(I.jsx)(At,{}),"success"===l&&(j?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(C.e,{children:Object(I.jsx)(C.c,{userId:j.userId,nickname:j.nickname,profileUrl:j.profileUrl,deactivated:!j.isActive})}),Object(I.jsxs)(Dt,{children:[s&&Object(I.jsx)(_t,{onClick:s}),Object(I.jsx)(It,{onClick:t})]})]}):Object(I.jsx)(Vt,{description:Object(I.jsx)("p",{children:o.formatMessage({id:"calls.studio.onboarding.pages.phonebooth.form.accessTokenInfo"})}),isLoading:u,onSubmit:e=>{m.current=!0,b(e)},onBackClick:s}))]})})}),Object(I.jsx)(St,{children:Object(I.jsx)(z,{name:"img-calls-studio-onboarding-02",alt:o.formatMessage({id:"calls.studio.onboarding.pages.phonebooth.image"})})})]})},Contacts:({step:e,onNextClick:t,onBackClick:s})=>{const o=Object(i.a)(),{alreadyExist:n,showAddExistingUserDialog:r,items:l,initialUser:c,isSubmitting:d,handleSubmit:p}=qt({onSubmit:t});return Object(I.jsx)(Kt,{id:"OnboardingStep3",step:o.formatMessage({id:"calls.studio.onboarding.pages.step"},e),title:o.formatMessage({id:"calls.studio.onboarding.pages.contacts.title"}),description:o.formatMessage({id:"calls.studio.onboarding.pages.contacts.description"},{a:e=>Object(I.jsx)(a.Link,{disabled:n,onClick:r,children:e})}),image:Object(I.jsx)(z,{name:"img-calls-studio-onboarding-03",alt:o.formatMessage({id:"calls.studio.onboarding.pages.contacts.image"})}),form:0===l.length?Object(I.jsx)(Vt,{isLoading:d,onSubmit:p,onBackClick:s}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Pt,{}),Object(I.jsx)(C.e,{children:n&&c?Object(I.jsx)(C.c,{userId:c.user_id,nickname:c.nickname,profileUrl:c.profile_url,deactivated:!c.is_active}):Object(I.jsx)(C.f,{})}),Object(I.jsxs)(Dt,{children:[s&&Object(I.jsx)(_t,{onClick:s}),Object(I.jsx)(It,{onClick:t})]})]})})},Signin:({step:e,onNextClick:t,onBackClick:s})=>{const o=Object(i.a)(),r=Ce(),{items:l}=Object(_.b)(),[d,p]=Object(n.useState)(!1),b=Object(n.useRef)(null),u=Object(c.Y)(e=>!!e.dialogs.dialogTypes),g=d&&!u;return Object(n.useEffect)(()=>{var e;g&&(null==(e=b.current)||e.focus())},[g]),Object(I.jsxs)(Nt,{id:"OnboardingStep4",children:[Object(I.jsx)(Mt,{children:Object(I.jsx)(Ut,{step:o.formatMessage({id:"calls.studio.onboarding.pages.step"},e),title:o.formatMessage({id:"calls.studio.onboarding.pages.signin.title"}),description:o.formatMessage({id:"calls.studio.onboarding.pages.signin.description"}),content:Object(I.jsxs)(Rt,{children:[l.length>0&&Object(I.jsx)(C.e,{children:l.map(e=>{return e.isFetching||null==e||!e.data?Object(I.jsx)(C.f,{},e.userId):Object(I.jsx)(C.c,{userId:e.userId,nickname:e.data.nickname,profileUrl:e.data.profile_url,deactivated:!e.data.is_active,action:Object(I.jsx)(a.Button,{buttonType:"primary",size:"small",onClick:(s=e.data,()=>{r(s),p(!0),!g&&(null==t||t())}),children:o.formatMessage({id:"calls.studio.onboarding.pages.signin.content.user.connect"})})},e.userId);var s})}),Object(I.jsxs)(Dt,{children:[Object(I.jsx)(_t,{onClick:s}),Object(I.jsx)(It,{disabled:!g,onClick:t,ref:b,children:o.formatMessage({id:"calls.studio.onboarding.pages.signin.done"})})]})]})})}),Object(I.jsx)(St,{children:g?Object(I.jsx)(z,{name:"img-calls-studio-onboarding-05",alt:o.formatMessage({id:"calls.studio.onboarding.pages.signin.image.after"})}):Object(I.jsx)(z,{name:"img-calls-studio-onboarding-04",alt:o.formatMessage({id:"calls.studio.onboarding.pages.signin.image.before"})})})]})}},Wt=e=>`GroupCallsOnboardingStep${e}`;var Ht=Object(o.default)(a.Spinner).withConfig({displayName:"contents___StyledSpinner3",componentId:"u596kr-11"})(["height:272px;"]);const Gt={Operator:({step:e,onNextClick:t,onBackClick:s})=>{const o=Object(i.a)(),{loadUser:a,user:r,status:l,errorMessage:p}=Object(d.a)(),{createUser:b,loading:u,error:g}=Object(d.b)(),j=Object(c.B)(r),m=Object(n.useRef)(!1),x="success"===l&&!j&&r;Object(n.useEffect)(()=>{m.current&&x&&(null==t||t())},[x,t]),Object(c.s)(g);return Object(I.jsxs)(Nt,{id:Wt(e.current),children:[Object(I.jsx)(Mt,{children:Object(I.jsx)(Ut,{step:o.formatMessage({id:"calls.studio.onboarding.pages.step"},e),title:o.formatMessage({id:"calls.studio.onboarding.pages.group.operator.title"}),description:o.formatMessage({id:"calls.studio.onboarding.pages.group.operator.description"}),content:Object(I.jsxs)(Rt,{children:["loading"===l&&Object(I.jsx)(Ht,{size:48}),p&&Object(I.jsx)(C.d,{message:p,onRetry:a}),j&&Object(I.jsx)(At,{}),"success"===l&&(j?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(C.e,{children:Object(I.jsx)(C.c,{userId:j.userId,nickname:j.nickname,profileUrl:j.profileUrl,deactivated:!j.isActive})}),Object(I.jsxs)(Dt,{children:[Object(I.jsx)(_t,{onClick:s}),Object(I.jsx)(It,{onClick:t})]})]}):Object(I.jsx)(Vt,{description:Object(I.jsx)("p",{children:o.formatMessage({id:"calls.studio.onboarding.pages.group.operator.form.accessTokenInfo"})}),isLoading:u,onSubmit:e=>{m.current=!0,b(e)},onBackClick:s}))]})})}),Object(I.jsx)(St,{children:Object(I.jsx)(z,{name:"img-calls-studio-onboarding-group-calls-01",alt:o.formatMessage({id:"calls.studio.onboarding.pages.group.operator.image"})})})]})},Contacts:({step:e,onNextClick:t,onBackClick:s})=>{const o=Object(i.a)(),{alreadyExist:n,showAddExistingUserDialog:r,items:l,initialUser:c,isSubmitting:d,handleSubmit:p}=qt({onSubmit:t});return Object(I.jsx)(Kt,{id:Wt(e.current),step:o.formatMessage({id:"calls.studio.onboarding.pages.step"},e),title:o.formatMessage({id:"calls.studio.onboarding.pages.contacts.title"}),description:o.formatMessage({id:"calls.studio.onboarding.pages.contacts.description"},{a:e=>Object(I.jsx)(a.Link,{disabled:n,onClick:r,children:e})}),image:Object(I.jsx)(z,{name:"img-calls-studio-onboarding-group-calls-02",alt:o.formatMessage({id:"calls.studio.onboarding.pages.contacts.image"})}),form:0===l.length?Object(I.jsx)(Vt,{isLoading:d,onSubmit:p,onBackClick:s}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Pt,{}),Object(I.jsx)(C.e,{children:n&&c?Object(I.jsx)(C.c,{userId:c.user_id,nickname:c.nickname,profileUrl:c.profile_url,deactivated:!c.is_active}):Object(I.jsx)(C.f,{})}),Object(I.jsxs)(Dt,{children:[s&&Object(I.jsx)(_t,{onClick:s}),Object(I.jsx)(It,{onClick:t})]})]})})},Room:({step:e,onNextClick:t,onBackClick:s})=>{const o=Object(i.a)(),[a,r]=Object(n.useState)("small_room_for_video"),{load:l,isLoading:d,isCreating:p,create:b,rooms:u,loadError:g,createError:j}=Fe();Object(n.useEffect)(()=>{l()},[l]),Object(n.useEffect)(()=>{!p&&u&&u.length>0&&(null==t||t())},[p,t,u]),Object(c.s)(g),Object(c.s)(j);return Object(I.jsxs)(Nt,{id:Wt(e.current),children:[Object(I.jsx)(Mt,{children:Object(I.jsx)(Ut,{step:o.formatMessage({id:"calls.studio.onboarding.pages.step"},e),title:o.formatMessage({id:"calls.studio.onboarding.pages.group.room.title"}),description:o.formatMessage({id:"calls.studio.onboarding.pages.group.room.description"}),content:Object(I.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b(a)},children:[Object(I.jsx)(wt.a,{selected:a,onChange:r}),Object(I.jsxs)(Dt,{children:[s&&Object(I.jsx)(_t,{onClick:s}),Object(I.jsx)(It,{type:"submit",isLoading:d||p,children:o.formatMessage({id:"calls.studio.onboarding.pages.group.room.done"})})]})]})})}),Object(I.jsx)(St,{children:Object(I.jsx)(z,{name:"img-calls-studio-onboarding-group-calls-03",alt:o.formatMessage({id:"calls.studio.onboarding.pages.group.room.image"})})})]})}},Zt=[{component:Ft.Install,title:"calls.studio.onboarding.header.progress.install"},{component:Ft.Phonebooth,title:"calls.studio.onboarding.header.progress.phonebooth"},{component:Ft.Contacts,title:"calls.studio.onboarding.header.progress.contacts"},{component:Ft.Signin,title:"calls.studio.onboarding.header.progress.signin"}];var Yt=({onCancel:e})=>{const[t,s]=Object(n.useState)(0),[o,a]=Object(n.useState)(!1),{finishOnboarding:r}=f(),l=(()=>{const e=Object(i.a)(),t=Object(c.W)();return()=>{t({dialogTypes:D.a.Custom,dialogProps:{size:"small",title:e.formatMessage({id:"calls.studio.onboarding.successConfirm.title"}),description:e.formatMessage({id:"calls.studio.onboarding.successConfirm.description"}),isNegativeButtonHidden:!0,positiveButtonProps:{text:e.formatMessage({id:"calls.studio.onboarding.successConfirm.submit"})}}})}})(),d=Zt.map(e=>e.title),p={current:t+1,total:Zt.length},b=Zt[t].component;return Object(I.jsxs)(ft,{children:[Object(I.jsx)(ht,{children:Object(I.jsx)(Ot,{titles:d,activeIndex:o?t+1:t})}),Object(I.jsx)(b,{step:p,onNextClick:()=>{if(o)return r("direct"),void l();t!==Zt.length-1?t<Zt.length-1&&s(e=>e+1):a(!0)},onBackClick:()=>{if(0===t)return null==e?void 0:e();a(!1),s(e=>e-1)}},t),Object(I.jsx)(gt,{})]})};const Jt=[{component:Gt.Operator,title:"calls.studio.onboarding.header.progress.group.operator"},{component:Gt.Contacts,title:"calls.studio.onboarding.header.progress.group.contacts"},{component:Gt.Room,title:"calls.studio.onboarding.header.progress.group.room"}];var Xt=({onCancel:e})=>{const[t,s]=Object(n.useState)(0),{finishOnboarding:i}=f(),o=Jt.map(e=>e.title),a={current:t+1,total:Jt.length},r=Jt[t].component;return Object(I.jsxs)(ft,{children:[Object(I.jsx)(ht,{children:Object(I.jsx)(Ot,{titles:o,activeIndex:t})}),Object(I.jsx)(r,{step:a,onNextClick:()=>{t<Jt.length-1?s(e=>e+1):i("group")},onBackClick:()=>0===t?null==e?void 0:e():s(e=>e-1)},t),Object(I.jsx)(gt,{})]})};const Qt=o.default.article.withConfig({displayName:"Start__Layout",componentId:"ytbe73-0"})(["display:grid;grid-template-rows:auto 1fr;height:100%;> section{height:100%;display:flex;justify-content:center;align-items:center;> ul{display:grid;grid-template-columns:1fr 1fr;grid-gap:32px;list-style:none;}}"]),es=o.default.header.withConfig({displayName:"Start__HeaderWrapper",componentId:"ytbe73-1"})(["padding:24px 32px;border-bottom:1px solid ",";> h1{margin:0;","}> p{margin-top:12px;color:",";","}"],Object(a.cssVariables)("neutral-3"),a.Headings["heading-04"],Object(a.cssVariables)("neutral-7"),a.Body["body-short-01"]),ts=o.default.div.withConfig({displayName:"Start__CardWrapper",componentId:"ytbe73-2"})(["width:520px;> h2{margin-top:32px;","}> p{margin-top:16px;margin-bottom:48px;max-width:400px;","}"],a.Headings["heading-05"],a.Body["body-short-01"]),ss=o.default.div.withConfig({displayName:"Start__ImageWrapper",componentId:"ytbe73-3"})(["border-radius:4px;background:",";width:520px;height:320px;"],Object(a.cssVariables)("neutral-1")),is=()=>{const e=Object(i.a)();return Object(I.jsxs)(es,{children:[Object(I.jsx)("h1",{children:e.formatMessage({id:"calls.studio.new.onboarding.pages.start.header.title"})}),Object(I.jsx)("p",{children:e.formatMessage({id:"calls.studio.new.onboarding.pages.start.header.description"})})]})},os=({image:e,title:t,description:s,action:i})=>Object(I.jsxs)(ts,{children:[e,Object(I.jsx)("h2",{children:t}),Object(I.jsx)("p",{children:s}),i]}),as={filename:"img-calls-studio-main-direct-calls",alt:"calls.studio.new.onboarding.pages.start.content.direct.image"},ns={filename:"img-calls-studio-main-group-calls",alt:"calls.studio.new.onboarding.pages.start.content.group.image",transform:"translate(10px, 8px)"};var rs=Object(o.default)("img").withConfig({displayName:"Start___StyledImg",componentId:"ytbe73-4"})(["",""],e=>e._css);const ls=({filename:e,alt:t,transform:s})=>{const o=Object(i.a)();return Object(I.jsx)(ss,{children:Object(I.jsx)(rs,{srcSet:[`${w.n}/calls/${e}.png`,`${w.n}/calls/${e}@2x.png 2x`,`${w.n}/calls/${e}@3x.png 3x`].join(", "),src:`${w.n}/calls/${e}.png`,alt:o.formatMessage({id:t}),_css:s&&`transform: ${s};`})})},cs=({onNextClick:e})=>{const t=Object(i.a)();return Object(I.jsx)(os,{image:Object(I.jsx)(ls,{...as}),title:t.formatMessage({id:"calls.studio.new.onboarding.pages.start.content.direct.title"}),description:t.formatMessage({id:"calls.studio.new.onboarding.pages.start.content.direct.description"}),action:Object(I.jsx)(a.Button,{buttonType:"primary",onClick:e,children:t.formatMessage({id:"calls.studio.new.onboarding.pages.start.content.direct.button"})})})},ds=({onNextClick:e})=>{const t=Object(i.a)();return Object(I.jsx)(os,{image:Object(I.jsx)(ls,{...ns}),title:t.formatMessage({id:"calls.studio.new.onboarding.pages.start.content.group.title"}),description:t.formatMessage({id:"calls.studio.new.onboarding.pages.start.content.group.description"}),action:Object(I.jsx)(a.Button,{buttonType:"primary",onClick:e,children:t.formatMessage({id:"calls.studio.new.onboarding.pages.start.content.group.button"})})})};var ps=({setOnboardingType:e})=>{const t=t=>()=>e(t);return Object(I.jsxs)(Qt,{children:[Object(I.jsx)(is,{}),Object(I.jsx)("section",{children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsx)(cs,{onNextClick:t("direct")})}),Object(I.jsx)("li",{children:Object(I.jsx)(ds,{onNextClick:t("group")})})]})})]})};var bs=()=>{const[e,t]=Object(n.useState)(),s=()=>t(void 0);return Object(I.jsxs)(I.Fragment,{children:["direct"===e?Object(I.jsx)(Yt,{onCancel:s}):"group"===e?Object(I.jsx)(Xt,{onCancel:s}):Object(I.jsx)(ps,{setOnboardingType:t}),Object(I.jsx)(l.a,{})]})},us=s("57GT"),gs=s("/MKj"),js=s("b2r9");const ms=o.default.datalist.withConfig({displayName:"Operator__Datalist",componentId:"sc-1rqb207-0"})(["display:grid;grid-template-columns:64px auto;grid-gap:16px;"," dt{color:",";}"],a.Body["body-short-01"],Object(a.cssVariables)("neutral-7")),xs=o.default.span.withConfig({displayName:"Operator__Nickname",componentId:"sc-1rqb207-1"})([""," white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],a.Subtitles["subtitle-03"]),Os=o.default.div.withConfig({displayName:"Operator__TagsContainer",componentId:"sc-1rqb207-2"})(["display:flex;align-items:flex-start;> * + *{margin-left:4px;}"]),hs=o.default.div.withConfig({displayName:"Operator__IconWrapper",componentId:"sc-1rqb207-3"})(["display:flex;align-items:center;justify-content:center;border-radius:50%;background:",";width:64px;height:64px;"],Object(a.cssVariables)("neutral-5")),fs=o.default.div.withConfig({displayName:"Operator__NoUserWrapper",componentId:"sc-1rqb207-4"})(["display:flex;align-items:center;","{margin-right:16px;}"],hs),ys=o.default.div.withConfig({displayName:"Operator__ProfileWrapper",componentId:"sc-1rqb207-5"})(["display:grid;grid-template-areas:'avatar nickname dropdown' 'avatar tags tags';grid-template-rows:auto 1fr;grid-template-columns:min-content 1fr min-content;grid-gap:4px 16px;> ",",> ","{grid-area:avatar;}> ","{grid-area:nickname;align-self:center;}> [role='combobox']{grid-area:dropdown;> button > svg{fill:",";}}> ","{grid-area:tags;}"],k.Zb,hs,xs,Object(a.cssVariables)("neutral-9"),Os),Cs=o.default.section.withConfig({displayName:"Operator__Layout",componentId:"sc-1rqb207-6"})([""," + ","{margin-top:12px;}> [role='progressbar']{margin:auto;min-height:96px;}"],ys,ms),ws=({message:e,onRetry:t})=>{const s=Object(i.a)();return Object(I.jsx)(a.InlineNotification,{type:"error",message:e,action:{label:s.formatMessage({id:"calls.studio.new.operator.error.retry"}),onClick:t}})},ks=()=>Object(I.jsx)(hs,{children:Object(I.jsx)(a.Icon,{icon:"user",size:36,color:"white"})}),vs=({onAddButtonClick:e})=>{const t=Object(i.a)();return Object(I.jsxs)(fs,{children:[Object(I.jsx)(ks,{}),Object(I.jsx)(a.Button,{variant:"ghost",buttonType:"primary",size:"small",icon:"plus",onClick:e,children:t.formatMessage({id:"calls.studio.new.operator.addOperator"})})]})},_s=({userId:e,nickname:t,profileUrl:s,action:o,isActive:n})=>{const r=Object(i.a)();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(ys,{children:[Object(I.jsx)(k.Zb,{size:64,userID:e,imageUrl:s}),Object(I.jsx)(xs,{children:r.formatMessage({id:"calls.studio.new.operator.profile.nickname"},{value:t||w.Z})}),o,Object(I.jsxs)(Os,{children:[Object(I.jsx)(a.Tag,{children:r.formatMessage({id:"calls.studio.new.operator.profile.tags.operator"})}),!n&&Object(I.jsx)(a.Lozenge,{variant:a.LozengeVariant.Light,color:"neutral",children:r.formatMessage({id:"calls.studio.new.operator.profile.tags.deactivated"})})]})]}),Object(I.jsxs)(ms,{children:[Object(I.jsx)("dt",{children:r.formatMessage({id:"calls.studio.new.operator.profile.userId"})}),Object(I.jsx)("dd",{children:Object(I.jsx)(us.a,{children:e})})]})]})};var Is=()=>{const e=Object(i.a)(),{isPermitted:t}=Object(c.h)(),s=t(["application.users.all"]),{status:o,user:r,loadUser:l,errorMessage:p}=Object(d.a)(),u=(()=>{const e=Object(gs.f)(),t=Object(i.a)();return s=>{const i=Object(b.snakeCaseKeys)(s);e(js.b.showDialogsRequest({dialogTypes:D.a.UpdateSDKUser,dialogProps:{dialogTitle:t.formatMessage({id:"calls.studio.editUserDialog_title"}),dialogDescription:"",sdkUser:i}}))}})(),g=(()=>{const e=Object(gs.f)();return({user:t,onSuccess:s})=>{e(js.b.showDialogsRequest({dialogTypes:D.a.ReactivateUser,dialogProps:{selectedUsers:[t],onSuccess:s}}))}})(),j=(()=>{const e=Object(gs.f)(),t=Object(i.a)();return()=>{e(js.b.showDialogsRequest({dialogTypes:D.a.CreateSDKUser,dialogProps:{title:t.formatMessage({id:"calls.studio.createUserDialog_title"}),withUserIdField:!0}}))}})(),m=(()=>{const e=Object(gs.f)();return t=>{e(js.b.showDialogsRequest({dialogTypes:D.a.PhoneboothUserUnregister,dialogProps:{userId:t}}))}})();Object(n.useEffect)(()=>{l()},[l]);return Object(I.jsxs)(Cs,{"data-test-id":"Operator",children:["loading"===o&&Object(I.jsx)(a.Spinner,{size:24}),"error"===o&&p&&Object(I.jsx)(ws,{message:p,onRetry:l}),"success"===o&&(r?Object(I.jsx)(_s,{userId:r.userId,nickname:r.nickname,profileUrl:r.profileUrl,isActive:r.isActive,action:Object(I.jsx)(a.OverflowMenu,{items:[{label:e.formatMessage({id:"calls.studio.new.operator.profile.edit"}),onClick:()=>u(r)},{label:e.formatMessage({id:"calls.studio.new.operator.profile.remove"}),onClick:()=>m(r.userId)},!r.isActive&&{label:e.formatMessage({id:"calls.studio.new.operator.profile.reactivate"}),onClick:()=>g({user:r,onSuccess:l}),...!s&&{disabled:!0,tooltip:{variant:a.TooltipVariant.Light,tooltipContentStyle:"width: max-content; max-width: 256px;",content:e.formatMessage({id:"calls.studio.new.operator.profile.reactivate.tooltip"})}}}].filter(Boolean)})}):Object(I.jsx)(vs,{onAddButtonClick:j}))]})};const Ms=o.default.header.withConfig({displayName:"Studio__HeaderWrapper",componentId:"sc-1pqc1m8-0"})(["padding:24px 32px;border-bottom:1px solid ",";> h1{margin:0;","}"],Object(a.cssVariables)("neutral-3"),a.Headings["heading-04"]),Ss=o.default.aside.withConfig({displayName:"Studio__Aside",componentId:"sc-1pqc1m8-1"})(["border-right:1px solid ",";width:336px;height:100%;max-height:100%;overflow-y:auto;> section{padding:24px 32px;& + section{border-top:1px solid ",";}}"],Object(a.cssVariables)("neutral-3"),Object(a.cssVariables)("neutral-3")),Ns=o.default.article.withConfig({displayName:"Studio__Layout",componentId:"sc-1pqc1m8-2"})(["display:grid;grid-template-areas:'header header' 'aside section';grid-template-rows:80px auto;grid-template-columns:auto 1fr;min-width:864px;height:100%;> aside{grid-area:aside;}> header{grid-area:header;}"]);t.default=()=>{const e=O(),t=Object(i.a)();return Object(I.jsx)(h.Provider,{value:e,children:e.shouldShowOnboarding?Object(I.jsx)(bs,{}):Object(I.jsx)(S,{children:Object(I.jsxs)(Ns,{children:[Object(I.jsx)(Ms,{children:Object(I.jsx)("h1",{children:t.formatMessage({id:"calls.studio.header.title"})})}),Object(I.jsxs)(Ss,{children:[Object(I.jsx)(Is,{}),Object(I.jsx)(ut,{})]}),Object(I.jsx)(ct,{})]})})})}},tdQ0:function(e,t,s){"use strict";s.d(t,"a",(function(){return d})),s.d(t,"b",(function(){return p})),s.d(t,"c",(function(){return b}));s("3bBZ");var i=s("q1tI"),o=s("/MKj"),a=s("b2r9"),n=s("KqxG"),r=s("26RP"),l=s("W7Pl"),c=s("ponP");const d=()=>{const{status:e,error:t,deletedUserId:s,user:n}=Object(l.V)(e=>{var t;const{isFetched:s,fetchRequestError:i,sdkUser:o}=e.moderations,a=o&&Object(c.camelCaseKeys)(o);return s?i&&400===i.status&&null!=(t=i.data)&&t.sdk_user_id?{status:"success",error:i,user:a,deletedUserId:String(i.data.sdk_user_id)}:i?{status:"error",error:i,user:a,deletedUserId:null}:{status:"success",error:i,user:a,deletedUserId:null}:{status:"loading",error:i,user:a,deletedUserId:null}}),d=Object(o.f)(),p=Object(i.useMemo)(()=>"error"===e?Object(r.b)(t,"Couldn’t connect to Sendbird server."):void 0,[t,e]),b=Object(i.useCallback)(()=>d(a.c.fetchSDKUserRequest()),[d]);return{status:e,user:n,loadUser:b,errorMessage:p,deletedUserId:s}},p=()=>{const e=Object(o.f)();return{loading:Object(l.Y)(e=>e.moderations.createRequest.isPending),error:Object(l.Y)(e=>e.moderations.createRequest.error),createUser:Object(i.useCallback)(t=>{var s;return e(a.c.createSDKUserRequest({data:{sdk_user_id:t.userId,nickname:t.nickname,profile_url:t.profileUrl,profile_file:t.profileFile,issue_access_token:null==(s=t.issueAccessToken)||s}}))},[e])}},b=()=>{const e=Object(l.c)(),t=Object(o.f)(),[{status:s,error:c},d]=Object(l.g)(t=>Object(n.unregisterSDKUser)({appId:e,userId:t}),[e]),p="loading"===s,b="success"===s;return Object(i.useEffect)(()=>{c&&t(a.c.removeSDKUserFail(Object(r.b)(c)))},[c,t]),Object(i.useEffect)(()=>{b&&t(a.c.removeSDKUserSuccess())},[b,t]),{loading:p,done:b,error:c,unregister:e=>{t(a.c.removeSDKUserRequest()),d(e)}}}}}]);
//# sourceMappingURL=31.js.map?v=c365af1fcfccaf78486a