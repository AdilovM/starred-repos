(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{wXxf:function(e,s,t){"use strict";t.r(s);t("3bBZ");var r=t("q1tI"),c=t("dDsW"),a=t("/MKj"),l=t("JsuU"),i=t("KqxG"),o=t("26RP"),u=t("6889"),d=t("ponP"),n=t("nKUr");s.default=({dialogProps:{onSuccess:e},onClose:s})=>{const t=Object(c.a)(),b=Object(a.g)(e=>{var s,t;return null!=(s=null==(t=e.applicationState.data)?void 0:t.app_id)?s:""}),[j,f]=Object(r.useState)(!1),[O,_]=Object(r.useState)(null),x=Object(l.useForm)({onSubmit:t=>{f(!0),Object(i.createUser)({appId:b,...t}).then(({data:t})=>{l.toast.success({message:`${t.user_id} created!`}),f(!1),_({hasError:!1,message:""}),e({...Object(d.camelCaseKeys)(t),isActive:!0}),s()}).catch(e=>{var s;f(!1),400202===(null==(s=e.data)?void 0:s.code)?_({hasError:!0,message:Object(o.b)(e)}):l.toast.error({message:Object(o.b)(e)})})}}),h=Object(l.useField)("userId",x,{defaultValue:""}),g=Object(l.useField)("nickname",x,{defaultValue:""}),m=Object(l.useField)("profileUrl",x,{defaultValue:""}),p=Object(l.useField)("issueAccessToken",x,{defaultValue:!1,isControlled:!0});return Object(r.useEffect)(()=>{var e;null!=O&&O.hasError&&(null==(e=h.ref.current)||e.focus())},[null==O?void 0:O.hasError,h.ref]),Object(n.jsx)(u.K,{size:"small",onClose:s,title:t.formatMessage({id:"core.users.create_user_dialog_title"}),body:Object(n.jsxs)("form",{onSubmit:x.onSubmit,children:[Object(n.jsxs)(u.R,{children:[Object(n.jsxs)(u.U,{children:[Object(n.jsx)(u.T,{children:t.formatMessage({id:"core.users.create_user_dialog_lbl.user_id"})}),Object(n.jsx)(l.InputText,{ref:h.ref,required:!0,error:O||void 0,"data-test-id":"UserIdInput"})]}),Object(n.jsxs)(u.U,{children:[Object(n.jsx)(u.T,{children:t.formatMessage({id:"core.users.create_user_dialog_lbl.nickname"})}),Object(n.jsx)(l.InputText,{ref:g.ref,required:!0,"data-test-id":"NicknameInput"})]}),Object(n.jsxs)(u.U,{children:[Object(n.jsx)(u.T,{children:t.formatMessage({id:"core.users.create_user_dialog_lbl.profile_url"})}),Object(n.jsx)(l.InputText,{ref:m.ref,"data-test-id":"ProfileUrlInput"})]}),Object(n.jsx)(u.U,{children:Object(n.jsx)(l.Checkbox,{ref:p.ref,onChange:p.onChange,label:t.formatMessage({id:"core.users.create_user_dialog_lbl.issue_access_token"}),"data-test-id":"IssueAccessTokenCheckbox"})})]}),Object(n.jsxs)(u.Q,{children:[Object(n.jsx)(u.n,{type:"button",onClick:s,children:t.formatMessage({id:"core.users.create_user_dialog_cancel"})}),Object(n.jsx)(u.x,{disabled:j,isFetching:j,type:"submit",children:t.formatMessage({id:"core.users.create_user_dialog_submit"})})]})]})})}}}]);
//# sourceMappingURL=98.js.map?v=8b796637be47bc792664