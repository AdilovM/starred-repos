module.exports = "<div class=\"item read\n\t<%- field.field_type %>Field<%- settings.editable ? ' editable': '' %>\n\t<%- field.showYellowDot ? ' yellowDot': '' %>\n\t\"<%= settings.width ? 'style=\"width:' + settings.width + 'px;\"' : '' %>>\n\t<% if (settings.popoverEditable) { %>\n\t\t<span class=\"editField\">\n\t\t\t<%= _.form.button({ wrapClassName: '', href: '#', icon: 'pencil', size: 'small', data: {}}) %>\n\t\t</span>\n\t<% } %>\n\t<% if (!settings.valueOnly) { %>\n\t\t<div class=\"labelWrap clearfix\">\n\t\t\t<span class=\"label\" data-test=\"field-label\"><%- settings.customTitle || field.name %></span>\n\t\t</div>\n\t<% } %>\n\t<%\n\n\tvar hasValues;\n\n\tif (field.field_type === 'phone' && !field.phoneCustomField) {\n\t\thasValues = value_visual && value_visual[0] && value_visual[0].value;\n\t\tif (hasValues) { %>\n\t\t\t<div class=\"<%- settings.inlineValue ? 'valueWrap' : '' %> <%- isCaller11() || isCaller12() ? 'salesPhoneButtonWrap' : '' %> <%- isCaller12() ? '--caller12' : '' %>\">\n\t\t\t\t<% _.forEach(value_visual, function(item, i) {\n\t\t\t\t\tif (item.value) { %>\n\t\t\t\t\t\t<% if (shouldShowSalesPhone() && isCaller12()) { %>\n\t\t\t\t\t\t\t<div class=\"salesPhoneButton--caller12\">\n\t\t\t\t\t\t\t\t<div class=\"salesPhoneValue\">\n\t\t\t\t\t\t\t\t\t<a class=\"salesPhoneNumber\" href=\"<%- item.link %>\" data-test=\"phone-label\" data-tooltip=\"<%- getQuickCallButtonTooltip() %>\">\n\t\t\t\t\t\t\t\t\t\t<%- item.value %>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<span class=\"salesPhoneLabel\">(<%- item.displayLabel %>)</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"cui4-button-group salesPhoneActions\" data-test=\"sales-phone-actions\">\n\t\t\t\t\t\t\t\t\t<%= _.form.button({ noWrap: true, icon: 'ac-call', action: null, size: 'small', class: 'salesPhoneCallButton', data: { test: 'sales-phone-call-btn' } }) %>\n\t\t\t\t\t\t\t\t\t<%= _.form.button({ noWrap: true, icon: 'arrow-down', action: null, size: 'small', class: 'salesPhoneOptions', data: { tooltip: _.gettext('Choose a calling method') }, }) %>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<% } else if (shouldShowSalesPhone() && isCaller11()) { %>\n\t\t\t\t\t\t\t<div class=\"cui4-button cui4-button--s salesPhoneButton\">\n\t\t\t\t\t\t\t\t<span class=\"salesPhoneIcon\">\n\t\t\t\t\t\t\t\t\t<%= _.icon('ac-call', 'small') %>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<a class=\"salesPhoneNumber\" href=\"<%- item.link %>\" data-test=\"phone-label\">\n\t\t\t\t\t\t\t\t\t<%- item.value %>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<span class=\"salesPhoneLabel\">(<%- item.displayLabel %>)</span>\n\t\t\t\t\t\t\t\t<span class=\"salesPhoneIcon\">\n\t\t\t\t\t\t\t\t\t<%= _.icon('triangle-down', 'small') %>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<div class=\"valueWrap singleRow clearfix phoneGroup <%- shouldShowSalesPhone() ? 'salesPhone' : '' %>\">\n\t\t\t\t\t\t\t\t<span class=\"phoneNumber\">\n\t\t\t\t\t\t\t\t\t<% if (settings.inlineValue && i > 0) { %>,&nbsp;<% } %>\n\t\t\t\t\t\t\t\t\t<% if (item.link) { %>\n\t\t\t\t\t\t\t\t\t\t<span class=\"value\">\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"<%- item.link %>\" data-test=\"phone-label\"<%- item.target ? ' target=' + item.target : '' %>>\n\t\t\t\t\t\t\t\t\t\t\t\t<%- item.value %>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t\t<span class=\"value\" data-test=\"phone-label\">\n\t\t\t\t\t\t\t\t\t\t\t<%- item.value %>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<span class=\"valueRemark\"><span class=\"label\"><%- item.label ? ' (' + item.displayLabel + ')' : '' %></span></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<% if (shouldShowSalesPhone()) { %>\n\t\t\t\t\t\t\t\t\t<button class=\"salesPhoneOptions\">\n\t\t\t\t\t\t\t\t\t\t<%= _.icon('sm-arrow-down', 'small', 'blue') %>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<% }\n\t\t\t\t}); %>\n\t\t\t</div>\n\t\t<% } %>\n\t<%\n\t/**\n\t * The \"real\" email and im fields. \"Real\" means, that the field's field_type IS \"email\" or \"im\".\n\t * \"Custom\" phone field found below..\n\t */\n\t} else if (field.field_type === 'email' || field.field_type === 'im') {\n\t\thasValues = value_visual && value_visual[0] && value_visual[0].value;\n\t\tif (hasValues) { %>\n\t\t\t<div <%= settings.inlineValue ? 'class=\"valueWrap\"' : '' %>>\n\t\t\t<% _.forEach(value_visual, function(item, i) {\n\t\t\t\tif (item.value) { %>\n\t\t\t\t\t<div class=\"<%- settings.inlineValue ? 'inlineValue' : 'valueWrap singleRow clearfix' %>\">\n\t\t\t\t\t<% if (settings.inlineValue && i > 0) { %>,&nbsp;<% } %>\n\t\t\t\t\t<% if (item.link) { %>\n\t\t\t\t\t\t<span class=\"value\">\n\t\t\t\t\t\t\t<a href=\"<%- item.link %>\" data-test=\"<%- prefix %>-label\"<%- item.target ? ' target=' + item.target : '' %>>\n\t\t\t\t\t\t\t\t<%- item.value %>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<span class=\"value\" data-test=\"<%- prefix %>-label\">\n\t\t\t\t\t\t\t<%- item.value %>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<span class=\"valueRemark\"><span class=\"label\"><%- item.label ? ' (' + item.displayLabel + ')' : '' %></span></span>\n\t\t\t\t\t</div>\n\t\t\t\t<% }\n\t\t\t}); %>\n\t\t\t</div>\n\t\t<% }\n\t} else if (field.field_type === 'participants'){ %>\n\t\t<div class=\"valueWrap singleRow clearfix\">\n\t\t\t<% _.forEach(value_visual.values, function (item, i) { %>\n\t\t\t\t<% if (i > 0) { %>,&nbsp;<% } %>\n\t\t\t\t<span class=\"value link\"><a href=\"<%- item.link %>\"><%- item.value %></a></span>\n\t\t\t<% }) %>\n\t\t</div>\n\t<% //Standard field\n\t} else {\n\t\thasValues = value_visual && value_visual.hasValue;\n\t\tif (hasValues) { %>\n\t\t\t<%\n\t\t\t/**\n\t\t\t* The pseudo/custom phone field.\n\t\t\t*/\n\t\t\tif (hasValues && field.phoneCustomField) { %>\n\t\t\t\t<% if (shouldShowSalesPhone() && isCaller12()) { %>\n\t\t\t\t\t<div class=\"valueWrap singleRow\">\n\t\t\t\t\t\t<div class=\"salesPhoneButton--caller12\">\n\t\t\t\t\t\t\t<div class=\"salesPhoneValue\">\n\t\t\t\t\t\t\t\t<a class=\"salesPhoneNumber\" href=\"<%- value_visual.link %>\" data-test=\"phone-label\" data-tooltip=\"<%- getQuickCallButtonTooltip() %>\">\n\t\t\t\t\t\t\t\t\t<%- value_visual.label %>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<span class=\"salesPhoneLabel\"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"cui4-button-group salesPhoneActions\">\n\t\t\t\t\t\t\t\t<%= _.form.button({ noWrap: true, icon: 'ac-call', action: null, size: 'small', class: 'salesPhoneCallButton', }) %>\n\t\t\t\t\t\t\t\t<%= _.form.button({ noWrap: true, icon: 'arrow-down', action: null, size: 'small', class: 'salesPhoneOptions', data: { tooltip: _.gettext('Choose a calling method') }, }) %>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t<% } else if (shouldShowSalesPhone() && isCaller11()) { %>\n\t\t\t\t\t<div class=\"cui4-button cui4-button--s salesPhoneButton\">\n\t\t\t\t\t\t<span class=\"salesPhoneIcon\">\n\t\t\t\t\t\t\t<%= _.icon('ac-call', 'small') %>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<a class=\"salesPhoneNumber\" href=\"<%- value_visual.link %>\" data-test=\"phone-label\">\n\t\t\t\t\t\t\t<%- value_visual.label %>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<span class=\"salesPhoneLabel\"></span>\n\t\t\t\t\t\t<span class=\"salesPhoneIcon\">\n\t\t\t\t\t\t\t<%= _.icon('triangle-down', 'small') %>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<div class=\"valueWrap singleRow clearfix phoneGroup <%- shouldShowSalesPhone() ? 'salesPhone' : '' %>\">\n\t\t\t\t\t\t<span class=\"phoneNumber\">\n\t\t\t\t\t\t\t<span class=\"value link\">\n\t\t\t\t\t\t\t\t<% if (value_visual.icon_key) { %>\n\t\t\t\t\t\t\t\t\t<span class=\"icon-<%- value_visual.icon_key %> icon-size-small\"></span>\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t<% if (value_visual.label || value_visual.hasValue) { %>\n\t\t\t\t\t\t\t\t\t<a href=\"<%- value_visual.link %>\" data-test=\"phone-label\">\n\t\t\t\t\t\t\t\t\t<% if ((field.key === 'title' || field.key === 'name' || field.key === 'subject') && _.isEmpty(value_visual.label.trim())) { %>\n\t\t\t\t\t\t\t\t\t\t<span class=\"emptyField\">(<%- field.key === 'name' ? _.gettext('no name') : _.gettext('no title') %>)</span>\n\t\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t\t<%- value_visual.label %>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<% if (shouldShowSalesPhone()) { %>\n\t\t\t\t\t\t\t<button class=\"salesPhoneOptions\">\n\t\t\t\t\t\t\t\t<%= _.icon('sm-arrow-down', 'small', 'blue') %>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t</div>\n\t\t\t<% } %>\n\t\t\t<% } else { %>\n\t\t\t\t<div class=\"valueWrap<% if (field.field_type != 'text' && field.field_type != 'address') { %> singleRow<% } %> clearfix\">\n\t\t\t\t\t<%\n\t\t\t\t\t/**\n\t\t\t\t\t* The pseudo/custom field and some other type of fields.\n\t\t\t\t\t* The custom email field is not here - it's under varchar.\n\t\t\t\t\t*/\n\t\t\t\t\tif (value_visual.link) { %>\n\t\t\t\t\t\t<span class=\"value link\">\n\t\t\t\t\t\t\t<% if (value_visual.icon_key) { %>\n\t\t\t\t\t\t\t\t<span class=\"icon-<%- value_visual.icon_key %> icon-size-small\"></span>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% if (value_visual.label || value_visual.hasValue) { %>\n\t\t\t\t\t\t\t\t<a href=\"<%- value_visual.link %>\" data-test=\"<%-prefix%>-label\">\n\t\t\t\t\t\t\t\t<% if ((field.key === 'title' || field.key === 'name' || field.key === 'subject') && _.isEmpty(value_visual.label.trim())) { %>\n\t\t\t\t\t\t\t\t\t<span class=\"emptyField\">(<%- field.key === 'name' ? _.gettext('no name') : _.gettext('no title') %>)</span>\n\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t<%- value_visual.label %>\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t<% } else if (field.field_type === 'address') { %>\n\t\t\t\t\t\t<span class=\"value\">\n\t\t\t\t\t\t\t<% if (value_visual.label) { %>\n\t\t\t\t\t\t\t\t<a href data-action=\"showOnMap\">\n\t\t\t\t\t\t\t\t\t<%- value_visual.label %>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t<% } else if (field.key === 'note') { %>\n\t\t\t\t\t\t<div class =\"activityNote\">\n\t\t\t\t\t\t\t<span class=\"contentHtml isInline\"><%= sanitizeHtml(value_visual.label) %></span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t<%\n\t\t\t\t\t/**\n\t\t\t\t\t* The pseudo/custom email field and some other type of fields.\n\t\t\t\t\t*/\n\t\t\t\t\t} else if (field.field_type === 'varchar' || field.field_type === 'text' || field.field_type === 'varchar_auto') { %>\n\t\t\t\t\t\t<span class=\"value <%- field.field_type %>\" data-test=\"<%- prefix %>-label\">\n\t\t\t\t\t\t\t<%= createLinks(value_visual.label, { bcc: bcc, openLinksInNewTab: true, openEmailsInNewTab: openEmailsInNewTab }) %>\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t<% } else if (field.field_type === 'set') { %>\n\t\t\t\t\t\t<% if (settings.inlineValue) { %>\n\t\t\t\t\t\t\t<%- _.join(value_visual.labels, ', ') %>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<% _.forEach(value_visual.labels, function(label) { %>\n\t\t\t\t\t\t\t\t<% if (label) { %>\n\t\t\t\t\t\t\t\t\t<div class=\"value <%- field.field_type %>\" data-test=\"<%- prefix %>-label\">\n\t\t\t\t\t\t\t\t\t\t<%- label %>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% }); %>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<% } else if (field.field_type === 'enum' && field.key === 'label') { %>\n\t\t\t\t\t\t<%\n\t\t\t\t\t\t\tlet badgeClasses = ['cui4-badge'];\n\t\t\t\t\t\t\tlet labelDef = _.find(field.options, function(o) {\n\t\t\t\t\t\t\t\treturn o.label === value_visual.label;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet labelColor = _.get(labelDef, 'color');\n\n\t\t\t\t\t\t\tif (labelColor) {\n\t\t\t\t\t\t\t\tbadgeClasses.push('cui4-badge--' + labelColor);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t<div class=\"<%- badgeClasses.join(' ') %>\">\n\t\t\t\t\t\t\t<div class=\"cui4-badge__label\"><%- value_visual.label %></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<span class=\"value <%- field.field_type %>\" data-test=\"<%- prefix %>-label\">\n\t\t\t\t\t\t<% if ((field.key === 'title' || field.key === 'name') && _.isString(value_visual.label) && _.isEmpty(value_visual.label.trim())) { %>\n\t\t\t\t\t\t\t<span class=\"emptyField\">(<%- field.key === 'title' ? _.gettext('no title') : _.gettext('no name') %>)</span>\n\t\t\t\t\t\t<% } else if (value_visual.hiddenField) { %>\n\t\t\t\t\t\t\t<span class=\"hiddenField\"><%- value_visual.label %></span>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<%- value_visual.label %>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t<% } %>\n\t\t\t\t</div>\n\t\t\t<% }\n\t\t} %>\n\t<% }\n\tif (settings.editable && !settings.valueOnly) {\n\t\tif (!hasValues) { %>\n\t\t\t<span class=\"addValue\">\n\t\t\t\t<a class=\"cui4-text buttonEdit buttonEdit_addValue action edit <%- prefix === 'marketing_status' ? 'prepare-edit' : ''  %>\" data-test=\"<%- prefix %>-add\">+ <%- _.gettext('Add value') %></a>\n\t\t\t</span>\n\t\t<% } else { %>\n\t\t\t<%\n\t\t\t\tlet wrapClasses = 'buttonEdit action edit';\n\t\t\t\tif (prefix === 'marketing_status') {\n\t\t\t\t\twrapClasses += ' prepare-edit';\n\t\t\t\t}\n\t\t\t%>\n\t\t\t<%= _.form.button({\n\t\t\t\ttitle:  _.gettext('Edit'),\n\t\t\t\ticon: 'pencil',\n\t\t\t\tsize: 's',\n\t\t\t\twrapClassName: wrapClasses,\n\t\t\t\tdata: {\n\t\t\t\t\ttest: prefix + '-edit'\n\t\t\t\t}\n\t\t\t}) %>\n\t\t<% }\n\t} %>\n</div>\n"