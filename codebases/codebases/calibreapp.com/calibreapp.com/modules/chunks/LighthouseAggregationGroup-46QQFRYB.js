import{b as C}from"./chunk-ST3CZVDH.js";import{b as u}from"./chunk-CUHF6XO6.js";import{a as m}from"./chunk-DXWXSBNM.js";import{a as y}from"./chunk-JGVSOO63.js";import"./chunk-JELGMUFY.js";import{a as W}from"./chunk-AQM24QTG.js";import{a as x}from"./chunk-OFY5O3WH.js";import{a as T}from"./chunk-2OWL4LTV.js";import"./chunk-62V4AEVH.js";import"./chunk-WDJIMBUZ.js";import"./chunk-ZK4YBVUK.js";import"./chunk-URMVBSCF.js";import"./chunk-M3VXQ3H4.js";import{G as F,s as k,u as c,v as I,w as _}from"./chunk-SOUDSSPT.js";import"./chunk-YN3ICWDL.js";import"./chunk-FJD4SS3V.js";import"./chunk-TKNWVBCA.js";import"./chunk-V454E5QD.js";import{e as N}from"./chunk-CL7MNENB.js";import"./chunk-5ZVMZG6E.js";import"./chunk-33HWVBTX.js";import{a as p,b as g,f as d,i as b}from"./chunk-ORNWO27Z.js";var h=d(b());var s=d(b()),L=d(T()),M=d(W());var f=["notApplicable","manual","informative"],S=class extends s.default.Component{get scoreIcon(){return this.props.score>.75?s.default.createElement("span",{className:"type-c-green"},s.default.createElement(k,{verticalAlign:"middle"})):this.props.score>.45&&this.props.score<.75?s.default.createElement("span",{className:"type-c-amber"},s.default.createElement(c,{verticalAlign:"middle"})):!f.includes(this.props.scoreDisplayMode)&&this.props.score<.45?s.default.createElement("span",{className:"type-c-red"},s.default.createElement(c,{verticalAlign:"middle"})):this.props.scoreDisplayMode==="notApplicable"?s.default.createElement("span",{className:"type-c-neutral"},s.default.createElement(I,{verticalAlign:"middle"})):this.props.scoreDisplayMode==="informative"?s.default.createElement("span",{className:"type-c-neutral"},s.default.createElement(F,{verticalAlign:"middle"})):s.default.createElement("span",{className:"type-c-neutral"},s.default.createElement(_,{verticalAlign:"middle"}))}formatTable(e){try{let r;e.details.headings?r=e.details.headings:r=e.details.itemHeaders;let{items:t}=e.details;return s.default.createElement("details",null,s.default.createElement("summary",null,"Details"),s.default.createElement("table",{className:"table table--tiny m--b1"},s.default.createElement("thead",null,s.default.createElement("tr",null,r.map((i,n)=>s.default.createElement("th",{key:n},i.text||i.label)))),s.default.createElement("tbody",null,t.map((i,n)=>"map"in i?s.default.createElement("tr",{key:n},i.map((o,l)=>s.default.createElement("td",{className:"markdown",key:l},s.default.createElement(m,null,o.text)))):this.renderItem({headings:r,row:i,index:n})))))}catch(r){console.error(r),x.notify(r)}}renderItem({headings:e,row:r,index:t}){return s.default.createElement(s.default.Fragment,{key:t},s.default.createElement("tr",null,e.map((i,n)=>{let{key:o,itemType:l,valueType:a}=i,q=r[o];return s.default.createElement("td",{key:n},this.renderItemValue({value:q,itemType:l,valueType:a,index:n}))})),r.subItems?r.subItems.items.map((i,n)=>{let o=e.filter(({subItemsHeading:l})=>l);return s.default.createElement("tr",{key:n},o.map(({subItemsHeading:l},a)=>s.default.createElement("td",{key:a,style:{paddingLeft:a===0?"20px":"10px"},colSpan:a===0?e.length-o.length+1:1},this.renderItemValue(g(p({},l),{itemType:l.key,value:i[l.key]})))))}):null)}renderItemValue({value:e,itemType:r,valueType:t}){return e==null?null:r==="node"?this.renderNodeValue({value:e}):(typeof e=="object"&&(e.type==="node"?e=e.snippet:e.type==="link"?e=s.default.createElement("a",{href:e.url},e.text):e=e.value||e.url),e&&(r==="numeric"||t=="numeric")?s.default.createElement(N,{value:parseFloat(String(e).replace(/,/g,""))}):e&&(r==="ms"||t=="timespanMs")?s.default.createElement(u,{value:e}):e&&(["bytes","sourceBytes","sourceWastedBytes"].includes(r)||["bytes","sourceBytes","sourceWastedBytes"].includes(t))?s.default.createElement(C,{value:e}):e&&(r==="thumbnail"||t=="thumbnail")?s.default.createElement("img",{src:e,width:"100"}):s.default.createElement("span",null,s.default.createElement(m,null,e)))}renderNodeValue({value:e}){let{explanation:r,snippet:t}=e;return s.default.createElement("div",{className:"m--b4"},r?s.default.createElement("p",{className:"type-semibold"},s.default.createElement(m,null,r)):null,t?s.default.createElement("div",{className:"island"},s.default.createElement("code",null,s.default.createElement(m,null,t))):null)}formatList(e){let r=e.details.items;return s.default.createElement("details",null,s.default.createElement("summary",null,e.details.header.text),s.default.createElement("ul",{className:"bullets m--t2"},r.map((t,i)=>s.default.createElement("li",{key:i,className:"bullets__item type-dim"},s.default.createElement(m,{text:t.text})))))}renderCriticalRequestTree(e,r){let t=new URL(e.request.url);return s.default.createElement("dl",{key:r},s.default.createElement("dt",{className:"type-small"},s.default.createElement("span",{className:"type-menlo"},t.pathname)," ",s.default.createElement("span",{className:"type-dim"},"(",t.host,")"),"\xA0",e.request&&s.default.createElement("span",{className:"badge type-small"},s.default.createElement(u,{value:(e.request.endTime-e.request.startTime)*1e3}))),e.children&&Object.keys(e.children).map((i,n)=>s.default.createElement("dd",{key:n},this.renderCriticalRequestTree(e.children[i],n))))}formatCriticalRequestChain(e){let{chains:r,longestChain:t}=e.details;return s.default.createElement("details",{className:"m--t2"},s.default.createElement("summary",null,"Longest chain\xA0",s.default.createElement("strong",null,s.default.createElement(u,{value:t.duration})),"\xA0totalling\xA0",s.default.createElement("strong",null,(0,M.filesize)(t.transferSize))),Object.keys(r).map((i,n)=>this.renderCriticalRequestTree(r[i],n)))}formatErrors(e){return s.default.createElement(s.default.Fragment,null,s.default.createElement("ul",{className:"type-bold m--t2 m--b2"},e.map((r,t)=>s.default.createElement("li",{key:t},r))))}format(e){if(e.details&&e.details.type==="table"&&e.details.items.length)return this.formatTable(e);if(e.details&&e.details.type==="opportunity"&&e.details.items.length)return this.formatTable(e);if(e.details&&e.details.type==="list"&&e.details.items.length)return this.formatList(e);if(e.details&&e.details.type==="criticalrequestchain"&&e.details.chains)return this.formatCriticalRequestChain(e);if(e.details&&e.details.items&&e.details.items[0]&&e.details.items[0].failures)return this.formatErrors(e.details.items[0].failures)}formatDisplayValue(e){if(typeof e=="string")return e;if(!e)return"";let r=/%([0-9]*(\.[0-9]+)?d|s)/,t=e[0];if(typeof t!="string")return"UNKNOWN";let i=t;for(let n of e.slice(1)){if(!r.test(i)){console.warn("Too many replacements given");break}i=i.replace(r,o=>{let l=Number(o.match(/[0-9.]+/))||1;return o==="%s"?n.toLocaleString():(Math.round(Number(n)/l)*l).toLocaleString()})}return r.test(i)&&console.warn("Not enough replacements given"),i}get summary(){let{displayValue:e,debugString:r,errorMessage:t}=this.props,i=e&&this.formatDisplayValue(this.props.displayValue)||r||t;return s.default.createElement("p",{className:"type-semibold"},i)}render(){let e=(0,L.default)("list-group__item",{"list-group__item--highlight-ok":this.props.score>.75,"list-group__item--highlight-amber":this.props.score>.45&&this.props.score<.75,"list-group__item--highlight-warning":!f.includes(this.props.scoreDisplayMode)&&this.props.score<.45,"list-group__item--highlight-neutral":f.includes(this.props.scoreDisplayMode)}),r,t;return this.props.description?(r=this.props.title,t=this.props.description):this.props.result&&(r=this.props.result.description,t=this.props.result.helpText),s.default.createElement("li",{className:e},s.default.createElement("div",{className:"media"},s.default.createElement("div",{className:"media__object"},this.scoreIcon),s.default.createElement("div",{className:"media__body"},s.default.createElement("h3",{className:"m--0 type-large type-semibold markdown",dangerouslySetInnerHTML:y(r)}),s.default.createElement("div",{className:"m--0  type-c-rich-primary markdown",dangerouslySetInnerHTML:y(t)}),this.summary,this.format(this.props))))}},A=S;var D=class extends h.default.Component{render(){return h.default.createElement("ul",{className:"list-group m--b4"},Object.keys(this.props.audits).map(e=>this.props.audits[e]).sort((e,r)=>e.score-r.score).map((e,r)=>h.default.createElement(A,p({key:r},e))))}},K=D;export{K as default};
//# sourceMappingURL=LighthouseAggregationGroup-46QQFRYB.js.map
