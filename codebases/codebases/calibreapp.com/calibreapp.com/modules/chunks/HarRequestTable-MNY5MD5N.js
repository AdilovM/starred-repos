import{a as J}from"./chunk-5V2JH3JX.js";import{a as U}from"./chunk-DXWXSBNM.js";import{a as O,b as c}from"./chunk-JLSB3ZPE.js";import{a as u}from"./chunk-7MXQG6UX.js";import"./chunk-JELGMUFY.js";import{a as Z}from"./chunk-AQM24QTG.js";import{a as B}from"./chunk-INK6RNBJ.js";import"./chunk-ECKCXZDJ.js";import{b as M}from"./chunk-5AD3ZUGZ.js";import{a as Y}from"./chunk-2OWL4LTV.js";import"./chunk-62V4AEVH.js";import"./chunk-WDJIMBUZ.js";import"./chunk-ZK4YBVUK.js";import"./chunk-URMVBSCF.js";import"./chunk-M3VXQ3H4.js";import"./chunk-EWS3NXQH.js";import"./chunk-AQDAG4C2.js";import{b as q,c as i,d as n,e as V,f as P}from"./chunk-TT3E6PQD.js";import{a as I}from"./chunk-SCXJ6RQB.js";import{a as _}from"./chunk-WNVFIGRJ.js";import"./chunk-BYK2LYTJ.js";import"./chunk-SOUDSSPT.js";import"./chunk-YN3ICWDL.js";import{b as k,e as L}from"./chunk-JXNVBN57.js";import"./chunk-4JRWSVEX.js";import{b as A,c as z}from"./chunk-FJD4SS3V.js";import"./chunk-TKNWVBCA.js";import{a as X}from"./chunk-V454E5QD.js";import"./chunk-4DDSFSZM.js";import{d as C}from"./chunk-CL7MNENB.js";import"./chunk-5ZVMZG6E.js";import"./chunk-33HWVBTX.js";import{a as W,f as S,i as H}from"./chunk-ORNWO27Z.js";var r=S(H());var e=S(H()),w=S(Z()),G=S(Y());var v=S(X());var E=(0,v.default)(A)`
  white-space: initial;
`;E.defaultProps={as:"dl",fontSize:2,m:0,flexWrap:"nowrap",width:1};var d=(0,v.default)(z)``;d.defaultProps={as:"dt",flex:1,flexBasis:"25%",maxWidth:"25%",py:2,fontWeight:600,borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"grey100"};var m=(0,v.default)(z)`
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
`;m.defaultProps={as:"dd",flex:1,flexBasis:"75%",maxWidth:"75%",ml:0,py:2,borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"grey100"};var h=E;var $=e.default.lazy(()=>import("./SegmentedControl-KBCG4N5F.js")),j=class extends e.default.Component{constructor(t){super(t);this.state={expanded:!1}}toggleDetails(){this.setState({expanded:!this.state.expanded})}renderHeaders(t){return t.map((o,s)=>e.default.createElement(h,{key:s},e.default.createElement(d,null,o.name),e.default.createElement(m,null,o.value)))}renderTimings(){return e.default.createElement(e.default.Fragment,null,e.default.createElement(h,null,e.default.createElement(d,null,"Blocked"),e.default.createElement(m,null,e.default.createElement(u,{value:this.props.timings.blocked,formatter:"humanDuration"}))),e.default.createElement(h,null,e.default.createElement(d,null,"DNS"),e.default.createElement(m,null,e.default.createElement(u,{value:this.props.timings.dns,formatter:"humanDuration"}))),e.default.createElement(h,null,e.default.createElement(d,null,"Connect"),e.default.createElement(m,null,e.default.createElement(u,{value:this.props.timings.connect,formatter:"humanDuration"}))),e.default.createElement(h,null,e.default.createElement(d,null,"Send"),e.default.createElement(m,null,e.default.createElement(u,{value:this.props.timings.send,formatter:"humanDuration"}))),e.default.createElement(h,null,e.default.createElement(d,null,"Wait"),e.default.createElement(m,null,e.default.createElement(u,{value:this.props.timings.wait,formatter:"humanDuration"}))),e.default.createElement(h,null,e.default.createElement(d,null,"SSL"),e.default.createElement(m,null,e.default.createElement(u,{value:this.props.timings.ssl,formatter:"humanDuration"}))),e.default.createElement(h,null,e.default.createElement(d,null,"Receive"),e.default.createElement(m,null,e.default.createElement(u,{value:this.props.timings.receive,formatter:"humanDuration"}))))}panel(){return this.state.expanded?e.default.createElement(q,{selectable:!0},e.default.createElement(i,{colSpan:"11",p:0},e.default.createElement(L,{href:this.props.request.url,target:"_blank",rel:"noopener noreferrer"},e.default.createElement(U,null,this.props.request.url)),e.default.createElement(e.Suspense,{fallback:e.default.createElement(I,null)},e.default.createElement($,{items:[{label:"Timings",value:"timings",content:this.renderTimings()},{label:"Response headers",value:"response-headers",content:this.renderHeaders(this.props.response.headers)},{label:"Request headers",value:"request-headers",content:this.renderHeaders(this.props.request.headers)}]})))):null}assetType(){let t=(0,G.default)({key:!0,"key--blue":this.props.assetClassification=="HTML","key--orange":this.props.assetClassification=="JavaScript","key--green":this.props.assetClassification=="CSS","key--purple":this.props.assetClassification=="Image","key--red":this.props.assetClassification=="Font","key--yellow":this.props.assetClassification=="JSON","key--black":this.props.assetClassification=="Video","key--grey":this.props.assetClassification=="Other"});return e.default.createElement("span",{className:t},e.default.createElement("span",{className:"key__label"},this.props.assetClassification))}render(){let{sequence:t,pathname:o,host:s,priority:f,totalRequestTime:g}=this.props,T="",y="";return this.props.response._transferSize&&(T=w.default.filesize(this.props.response._transferSize)),this.props.response.content.size&&(y=w.default.filesize(this.props.response.content.size)),e.default.createElement(V,{stripedColor:"grey50",borderWidth:"1px",borderStyle:"solid",borderColor:"grey100"},e.default.createElement(q,{onClick:this.toggleDetails.bind(this),style:{cursor:"pointer"}},e.default.createElement(i,{level:"xs",fontSize:2,borderColor:"grey100"},t),e.default.createElement(i,{level:"xs",fontSize:2,borderColor:"grey100"},e.default.createElement("span",{className:"badge badge--plain"},this.props.method)),e.default.createElement(i,{level:"xs",fontSize:2,borderColor:"grey100"},e.default.createElement("span",{className:this.props.response.status>=400?"type-c-red":null},this.props.response.status)),e.default.createElement(i,{level:"xxs",className:"type-menlo",fontSize:2,borderColor:"grey100"},o),e.default.createElement(i,{level:"xxs",fontSize:2,borderColor:"grey100"},s),e.default.createElement(i,{level:"xxs",fontSize:2,borderColor:"grey100"},this.props.response.httpVersion),e.default.createElement(i,{level:"xs",fontSize:2,borderColor:"grey100"},f),e.default.createElement(i,{level:"xs",fontSize:2,borderColor:"grey100"},this.assetType()),e.default.createElement(i,{level:"xs",textAlign:"right",fontSize:2,borderColor:"grey100"},T),e.default.createElement(i,{level:"xs",textAlign:"right",fontSize:2,borderColor:"grey100"},y),e.default.createElement(i,{level:"xs",textAlign:"right",fontSize:2,borderColor:"grey100"},e.default.createElement(u,{value:g,formatter:"humanDuration"}))),this.panel())}},K=j;var N=(a,t)=>{typeof t=="object"&&(t=t.key);let o;return typeof t=="function"?o=t(a):t.indexOf(".")!==-1?o=t.split(".").reduce((s,f)=>s?s[f]:null,a):o=a[t],o!=null?[].concat(o):null};var Q=["Very High","High","Medium","Low","Very Low"],R=({entries:a,searchTerm:t})=>{let{categories:o}=(0,r.useContext)(J),[s,f]=(0,r.useState)("sequence"),[g,T]=(0,r.useState)("asc"),y=a.filter(({assetClassification:p})=>{let b=o.find(x=>x.name===p);return b?!b.hidden:!0});t!==""&&(y=B(y,t,{keys:[{threshold:B.rankings.STARTS_WITH,key:"assetClassification"},"request.url","request.httpVersion"]}));let F=y.sort((p,b)=>{let[x]=N(p,s)||[],[D]=N(b,s)||[];return["sequence","response.status","response._transferSize","response.content.size","totalRequestTime"].includes(s)?c(parseInt(x),parseInt(D),g):s==="priority"?c(Q.indexOf(x),Q.indexOf(D),g):O(x,D,g)});if(!F.length)return r.default.createElement("div",{className:"type-centered type-large"},r.default.createElement("p",null,"No requests match `",t,"`"));let l=({attribute:p,children:b})=>r.default.createElement(_,{attribute:p,onUpdateSortBy:f,onUpdateSortDirection:T,sortBy:s,sortDirection:g},b);return r.default.createElement(P,null,r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement(n,{level:"xs"},r.default.createElement(l,{attribute:"sequence"},"#")),r.default.createElement(n,{level:"xs"},r.default.createElement(l,{attribute:"method"},"Method")),r.default.createElement(n,{level:"xs"},r.default.createElement(l,{attribute:"response.status"},"Status")),r.default.createElement(n,{level:"lg"},r.default.createElement(l,{attribute:"pathname"},"Name")),r.default.createElement(n,{level:"xs"},r.default.createElement(l,{attribute:"host"},"Domain")),r.default.createElement(n,{level:"xs"},r.default.createElement(l,{attribute:"response.httpVersion"},"Protocol")),r.default.createElement(n,{level:"xs"},r.default.createElement(l,{attribute:"priority"},"Priority")),r.default.createElement(n,null,r.default.createElement(l,{attribute:"assetClassification"},"Type")),r.default.createElement(n,{textAlgin:"right"},r.default.createElement(l,{attribute:"response._transferSize"},"Transferred")),r.default.createElement(n,{textAlgin:"right"},r.default.createElement(l,{attribute:"response.content.size"},"Size")),r.default.createElement(n,{level:"xs",textAlgin:"right"},r.default.createElement(l,{attribute:"totalRequestTime"},"Timing")))),F.filter(({hidden:p})=>!p).map(p=>r.default.createElement(K,W({key:p.sequence},p))))},ee=({har:a,harUrl:t,entries:o})=>{let[s,f]=(0,r.useState)();return r.default.createElement("div",{className:"page-section"},r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-xs-12 col-md-3"},r.default.createElement("h2",{className:"m--b3 type-medium"},"Requests",!(s&&s.length)||r.default.createElement(r.default.Fragment,null," matching \u201C",s,"\u201D"))),r.default.createElement("div",{className:"col-xs-12 col-md-9 end-md"},r.default.createElement("a",{className:"btn btn--secondary m--r1",href:t,target:"_blank",rel:"noreferrer"},"Download HAR"),r.default.createElement(M,{onChange:f,placeholder:"Filter requests"}))),a&&a.error&&r.default.createElement(k,{as:"p",color:"grey300"},r.default.createElement(C,{id:"testArtifact.error",values:{error:a.error}}))||o&&o.length&&r.default.createElement(R,{entries:o,searchTerm:s})||r.default.createElement(k,{as:"p",color:"grey300"},r.default.createElement(C,{id:"testArtifact.unavailable"})))},ve=ee;export{ve as default};
//# sourceMappingURL=HarRequestTable-MNY5MD5N.js.map
