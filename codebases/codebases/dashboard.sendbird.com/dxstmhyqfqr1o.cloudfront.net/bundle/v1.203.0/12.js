(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{B4ka:function(e,a,t){"use strict";t("3bBZ");var s=t("q1tI"),o=t("UWC4"),c=t("W7Pl"),r=t("YMf3");const l=o.rc?"https://sample.calls.sendbird.com":"https://sample.calls-stg.sendbirdtest.com";a.a=({user:e,roomId:a})=>{const t=Object(r.a)(),[{data:o},i]=Object(c.g)(async e=>e?t(e,a):void 0,[t,a]);return Object(s.useEffect)(()=>{i(e)},[i,e]),o?`${l}/group-call/full-screen?q=${o}`:void 0}},PAP3:function(e,a,t){"use strict";var s=t("dDsW"),o=t("vOnD"),c=t("JsuU"),r=t("nKUr");const l=o.default.span.withConfig({displayName:"RoomType__Wrapper",componentId:"sc-6e0rs2-0"})(["> ","{margin-right:4px;}color:",";",";display:flex;align-items:center;"],c.Icon,Object(c.cssVariables)("neutral-7"),c.Typography["caption-01"]),i={small_room_for_video:{icon:"call-video",label:"calls.studio.new.body.group.table.body.row.room.type.smallVideo"},large_room_for_audio_only:{icon:"call",label:"calls.studio.new.body.group.table.body.row.room.type.largeAudio"}};a.a=({value:e})=>{const a=Object(s.a)(),{icon:t,label:o}=i[e];return Object(r.jsxs)(l,{children:[Object(r.jsx)(c.Icon,{size:12,icon:t,color:Object(c.cssVariables)("neutral-6")}),a.formatMessage({id:o})]})}},WlVw:function(e,a,t){"use strict";var s=t("vOnD"),o=t("JsuU"),c=t("nKUr");const r=[Object(o.cssVariables)("blue-5"),Object(o.cssVariables)("green-5"),Object(o.cssVariables)("violet-5"),Object(o.cssVariables)("purple-7"),Object(o.cssVariables)("neutral-6")],l=s.default.div.withConfig({displayName:"RoomAvatar__Wrapper",componentId:"sc-49npcj-0"})(["display:flex;align-items:center;justify-content:center;width:","px;height:","px;background:",";border-radius:8px;"],e=>e.$size,e=>e.$size,e=>e.background),i=Object(s.default)(({size:e,id:a,...t})=>{const s=(e=>"number"==typeof e?e:{xmedium:40,large:64}[e])(e),i=.6*s,n=r[Math.abs((e=>{if(0===e.length)return 0;let a=0;for(let t=0;t<e.length;t+=1)a=(a<<5)-a+e.charCodeAt(t),a|=0;return a})(a))%r.length];return Object(c.jsx)(l,{$size:s,background:n,...t,children:Object(c.jsx)(o.Icon,{size:i,icon:"group-call",color:"white"})})}).withConfig({displayName:"RoomAvatar",componentId:"sc-49npcj-1"})([""]);a.a=i},YMf3:function(e,a,t){"use strict";var s=t("q1tI"),o=t("/MKj"),c=t("KqxG"),r=t("KQeT");a.a=()=>{const e=Object(r.a)(),a=2===Object(o.g)(e=>{var a;return null==(a=e.applicationState.data)?void 0:a.guest_user_policy}),t=Object(s.useCallback)(({user_id:a,access_token:t},s)=>btoa(JSON.stringify({user_id:a,app_id:e,access_token:t||void 0,room_id:s})),[e]);return Object(s.useCallback)(async(s,o)=>{if(!a||s.access_token)return t(s,o);const{data:r}=await c.editUser({appId:e,userId:s.user_id,issueAccessToken:!0});return t(r,o)},[e,t,a])}},YZXb:function(e,a,t){"use strict";t.d(a,"a",(function(){return i})),t.d(a,"b",(function(){return d}));t("3bBZ");var s=t("q1tI"),o=t("Mfcq"),c=t("KqxG"),r=t("W7Pl"),l=t("j90z");let i;!function(e){e[e.Deleted=0]="Deleted",e[e.Else=1]="Else"}(i||(i={}));const n=(e,a)=>{const t=(e=>(a,t)=>e.map(e=>e.userId===a?t(e):e))(e);switch(a.type){case"SET_USER_IDS":return a.payload.map(e=>({userId:e,isFetching:!1}));case"UPDATE_SDK_USER":return t(a.payload.user_id,e=>({...e,data:a.payload,isFetching:!1,fetchFailureReason:void 0}));case"ADD_MISSING_USER_ID":return t(a.payload,e=>({...e,data:void 0,isFetching:!1,fetchFailureReason:i.Deleted}));case"MARK_USER_ID_FAILED_TO_FETCH":return t(a.payload,e=>({...e,data:void 0,isFetching:!1,fetchFailureReason:i.Else}));case"MARK_USER_ID_FETCHING":return t(a.payload,e=>({...e,isFetching:!0}));case"ADD_USER":return[...e,{userId:a.payload.user_id,data:a.payload,isFetching:!1}];case"ADD_USERS":return[...e,...a.payload.map(e=>({userId:e.user_id,data:e,isFetching:!1}))];case"REMOVE_USER":return e.filter(e=>e.userId!==a.payload);default:return e}},d=()=>{const e=Object(r.c)(),[a,t]=Object(s.useReducer)(n,[]);Object(s.useLayoutEffect)(()=>{t({type:"SET_USER_IDS",payload:e?Object(l.b)(e):[]})},[e]);const i=Object(s.useCallback)(async a=>{try{t({type:"MARK_USER_ID_FETCHING",payload:a});const{data:s}=await Object(c.fetchUser)({appId:e,userId:a});t({type:"UPDATE_SDK_USER",payload:s})}catch(e){var s;400201===(null==(s=e.data)?void 0:s.code)?t({type:"ADD_MISSING_USER_ID",payload:a}):t({type:"MARK_USER_ID_FAILED_TO_FETCH",payload:a})}},[e]),d=Object(s.useCallback)(a=>{Object(l.c)(l.a.Add,e,a.user_id),t({type:"ADD_USER",payload:a})},[e]);Object(s.useEffect)(()=>{a.filter(({isFetching:e,fetchFailureReason:a,data:t})=>null==t&&!e&&null==a).map(e=>e.userId).forEach(i)},[e,a,i]);const u=Object(r.W)(),p=Object(r.W)({dialogTypes:o.a.CallsStudioMobileCreateUser,dialogProps:{onSuccess:d}}),b=Object(r.W)({dialogTypes:o.a.CallsStudioMobileAddUser,dialogProps:{onSuccess:a=>{a.forEach(a=>Object(l.c)(l.a.Add,e,a.user_id)),t({type:"ADD_USERS",payload:a})}}});return{items:a,showCreateUserDialog:p,showEditUserDialog:e=>{u({dialogTypes:o.a.CallsStudioMobileEditUser,dialogProps:{user:e,onSuccess:e=>{t({type:"UPDATE_SDK_USER",payload:e})}}})},showAddExistingUserDialog:b,showRemoveUserDialog:a=>{u({dialogTypes:o.a.CallsStudioMobileRemoveUser,dialogProps:{onConfirm:()=>{Object(l.c)(l.a.Delete,e,a),t({type:"REMOVE_USER",payload:a})}}})},reloadUser:i,addUser:d}}}}]);
//# sourceMappingURL=12.js.map?v=14f4a1a94fcdf6331a5e