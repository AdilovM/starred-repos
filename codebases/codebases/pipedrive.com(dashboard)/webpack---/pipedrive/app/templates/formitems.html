module.exports = "<%\n//label before element\nif (input.withLabel) { %>\n<div class=\"field\">\n\t<% if (!input.inlineLabel) { %>\n\t<label for=\"<%- input.uuid ? input.uuid : input.key %>\"><%- input.name ? input.name : (input.label ? input.label : 'N/A')  %></label>\n\t<% } %>\n<% }\n\n//wrapping to span.input\nif (!input.noWrap) {\n\t%><span class=\"input<% if (input.wrapClassName) { %> <%- input.wrapClassName %><% } %><% if (_.isBoolean(input.clear) && input.clear) { %> hasClear<% } %>\"<% if (_.isString(input.title)) { %> title=\"<%- input.title %>\"<% } %>><%\n}\n\nif (input.fieldType) {\n\t%><%= _.icon(input.fieldType, 'small', 'black-32') %><%\n}\n\n// input elements\n\nif (input.field_type == 'button') {\n\tif (!input.iconColor && ['green', 'red', 'blue'].includes(input.color)) {\n\t\tinput.iconColor = 'white';\n\t}\n\tif (input.icon) {\n\t\tvar icon = _.icon((!input.iconSize || input.iconSize === 's' ? 'sm-' : '') + input.icon, input.iconSize || 's', input.iconColor);\n\t}\n\tif (input.rightIcon) {\n\t\tvar rightIcon = _.icon('sm-' + input.rightIcon, 's', input.iconColor);\n\t}\n\tif (input.badge) {\n\t\tvar badge = _.badge({ outline: input.badge.outline, color: input.badge.color, icon: 'star' });\n\t}\n\n\tvar disabled = input.disabled || '';\n\tvar spanClass = input.className || '';\n\tvar className = input.class || '';\n\tvar buttonClass = input.class || '';\n\tvar type = input.type || '';\n\tvar text = input.text || '';\n\tvar html = input.html;\n\tvar id = input.uuid;\n\tvar href = input.href;\n\tvar element = href ? 'a' : 'button';\n\tvar target = input.target;\n\tvar ariaLabel = input.ariaLabel;\n\t%>\n\t\t<<%= element %>\n\t\t\tclass=\"<%- className %>\"\n\t\t\tid=\"<%- id %>\"\n\t\t\t<%- disabled ? 'disabled' : '' %>\n\t\t\t<%= input.reduceData(input.data) %>\n\t\t\t<%= href && !disabled ? 'href=\"' + href + '\"' : '' %>\n\t\t\t<%= type ? 'type=\"' + type + '\"' : '' %>\n\t\t\t<%= target ? 'target=\"' + target + '\"' : '' %>\n\t\t\t<%= input.formId ? ' form=\"' + input.formId + '\"' : '' %>\n\t\t\t<%= ariaLabel ? 'aria-label=\"' + ariaLabel + '\"' : '' %>\n\t\t>\n\t\t\t<%= icon %>\n\t\t\t<% if (text) { %>\n\t\t\t\t<span class=\"<%- spanClass %>\"><%- text %><%= badge %></span>\n\t\t\t<% } %>\n\t\t\t<% if (html) { %>\n\t\t\t\t<%= html %>\n\t\t\t<% } %>\n\t\t\t<%= rightIcon %>\n\t\t</<%= element %>>\n\t<%\n}\nelse if (input.field_type == 'radio') {\n\t%><label class=\"widget-radio<%- input.className ? ' ' + input.className : '' %><%- input.checked ? ' active' : '' %>\"\n\t<%= _.get(input.data, 'test') ? 'data-test=\"' + input.data.test + '\"' : '' %>\n\t<%= input.customTooltipTitle ? ' data-title=\"' + _.escape(input.customTooltipTitle) + '\"' : '' %>\n\t<%= input.title ? ' title=\"' + _.escape(input.title) + '\"' : '' %>><input type=\"radio\" name=\"<%- input.key %>\" value=\"<%- input.value %>\"<%- input.checked ? ' checked=\"checked\"' : '' %><%= input.tabindex ? ' tabindex=\"' + _.escape(input.tabindex) + '\"' : '' %><% if (input.data) { _.forEach(input.data, function(value, key) { if (key == 'el') { return; } %> data-<%- key %>=\"<%- value %>\"<% }); } %>/><%\n\t\tif (input.iconClass) { %><span class=\"widget-radio_icon <%- !input.text && !input.html ? 'widget-radio_icon--standalone' : '' %>\">\n\t\t\t<%= _.icon(input.iconClass, (input.iconClass.includes('sm-') ? 'small' : '')) %></span><span class=\"widget-radio_label\">\n\t\t<% }\n\t\t\t%><%- input.text || '' %><%= input.html || '' %><%\n\t\tif (input.iconClass) { %></span><% } %></label><%\n}\nelse if (input.field_type == 'checkbox') {\n\t%><label class=\"cui4-checkbox<%=\n\t\t\tinput.doneCheckbox ? ' cui4-checkbox--round' : ''\n\t\t\t%><%- input.className ? ' ' + input.className : ''\n\t\t%>\">\n\t\t<input\n\t\t\ttype=\"checkbox\"\n\t\t\tname=\"<%- input.key %>\"\n\t\t\tvalue=\"<%- input.value %>\"\n\t\t\t<%= input.checked ? ' checked=\"checked\"' : '' %>\n\t\t\t<% if (input.data) { _.forEach(input.data, function(value, key) { if (key == 'el') { return; } %> data-<%- key %>=\"<%- value %>\"<% }); } %>\n\t\t/>\n\t\t<%= _.icon('sm-check-done', 's', null, 'cui4-checkbox__checkmark') %>\n\t\t<% if (input.text) { %>\n\t\t\t<span class=\"cui4-checkbox__label\"><%- input.text %></span>\n\t\t<% } %>\n\t</label><%\n}\nelse if (input.field_type == 'enum') {\n\tif (input.style) { %><span class=\"form-<%- input.style %>\"<% if (input.data) { _.forEach(input.data, function(value, key) { if (key == 'el') { return; } %> data-<%- key %>=\"<%- value %>\"<% }); } %>><%\n\t} else if (typeof input.data != 'undefined') {\n\t\t_.forEach(input.data, function(value, key) { if (key == 'el') { return; } %> data-<%- key %>=\"<%- value %>\"<% });\n\t} %>\n\t<% _.forEach(input.options, function(option, key) { %>\n\t<%= radio({key: input.key, value: option.id, text: option.label, checked: option.checked, tabindex: option.tabindex, iconClass: option.iconClass, customTooltipTitle: option.customTooltipTitle }) %>\n\t<% }); %>\n\t<% if (input.style || input.data) { %></span><% } %><%\n}\nelse if (input.field_type == 'text') {\n\t%><textarea name=\"<%- input.key %>\" id=\"<%- input.uuid ? input.uuid : input.key %>\"<%= input.tabindex ? ' tabindex=\"' + _.escape(input.tabindex) + '\"' : '' %>><%- input.value ? input.value : '' %></textarea><%\n}\nelse if (input.field_type == 'numeric') {\n\t%><input type=\"text\" name=\"<%- input.key %>\" value=\"<%- input.value %>\" id=\"<%- input.uuid ? input.uuid : input.key %>\" placeholder=\"<%- input.placeholder || '' %>\"<%= input.tabindex ? ' tabindex=\"' + _.escape(input.tabindex) + '\"' : '' %>/><%\n}\nelse if (input.field_type == 'date') {\n\t%><input type=\"text\" name=\"<%- input.key %>\" data-test=\"<%- input.key %>\" value=\"<%- input.value ? input.value : '' %>\" id=\"<%- input.uuid ? input.uuid : input.key %>\" class=\"<%- (input.sub) ? 'date' : '' %>\"<%= input.tabindex ? ' tabindex=\"' + _.escape(input.tabindex) + '\"' : '' %> placeholder=\"<%- input.placeholder || '' %>\" <%= input.autocompleteOff ? ' autocomplete=\"off\"' : '' %> /><% if (_.isBoolean(input.clear) && input.clear) { %><span class=\"clear\" id=\"clear-<%- input.uuid ? input.uuid : input.key %>\"><%= _.icon('sm-cross', 'small', 'black-32') %></span><% } %><%\n\n\tif (input.sub) { %><span class=\"until\">–</span><input type=\"text\" name=\"<%- input.sub.key %>\" data-test=\"<%- input.sub.key %>\" value=\"<%- input.sub.value ? input.sub.value : '' %>\" id=\"<%- input.sub.uuid ? input.sub.uuid : input.sub.key %>\" class=\"date\" <%- input.sub.tabindex ? ' tabindex=\"' + input.sub.tabindex + '\"' : '' %> placeholder=\"<%- input.placeholder || '' %>\" /><% if (_.isBoolean(input.sub.clear) && input.sub.clear) { %><span class=\"clear\" id=\"clear-<%- input.sub.uuid ? input.uuid : input.sub.key %>\"><%= _.icon('sm-cross', 'small', 'black-32') %></span><% } %><%\n\t}\n}\nelse if (input.field_type == 'inline-date') {\n\t%><span class=\"inline-date-container\" id=\"<%- (input.uuid ? input.uuid : input.key) + '-container' %>\"></span><input type=\"hidden\" name=\"<%- input.key %>\" value=\"<%- input.value ? input.value : '' %>\" id=\"<%- input.uuid ? input.uuid : input.key %>\" class=\"<%- (input.sub) ? 'date' : '' %>\"<%= input.tabindex ? ' tabindex=\"' + _.escape(input.tabindex) + '\"' : '' %> placeholder=\"<%- input.placeholder || '' %>\" /><% if (_.isBoolean(input.clear) && input.clear) { %><span class=\"clear\" id=\"clear-<%- input.uuid ? input.uuid : input.key %>\"><%= _.icon('sm-cross', 'small', 'black-32') %></span><% } %><%\n}\nelse if (input.field_type == 'time') {\n\t%><input type=\"text\" name=\"<%- input.key %>\" data-test=\"<%- input.key %>\" value=\"<%- input.value ? input.value : '' %>\" id=\"<%- input.uuid ? input.uuid : input.key %>\" class=\"<%- (input.sub) ? 'time' : 'time single' %>\"<%= input.tabindex ? ' tabindex=\"' + _.escape(input.tabindex) + '\"' : '' %> placeholder=\"<%- input.placeholder || '' %>\" /><% if (_.isBoolean(input.clear) && input.clear) { %><span class=\"clear\" id=\"clear-<%- input.uuid ? input.uuid : input.key %>\"><%= _.icon('sm-cross', 'small', 'black-32') %></span><% } %><%\n\n\tif (input.sub) { %><span class=\"until\">–</span><input type=\"text\" name=\"<%- input.sub.key %>\" value=\"<%- input.sub.value ? input.sub.value : '' %>\" id=\"<%- input.sub.uuid ? input.sub.uuid : input.sub.key %>\" class=\"time\"<%- input.sub.tabindex ? ' tabindex=\"' + input.sub.tabindex + '\"' : '' %> placeholder=\"<%- input.placeholder || '' %>\" /><% if (_.isBoolean(input.sub.clear) && input.sub.clear) { %><span class=\"clear\" id=\"clear-<%- input.sub.uuid ? input.uuid : input.sub.key %>\"><%= _.icon('sm-cross', 'small', 'black-32') %></span><% } %><%\n\t}\n}\nelse if (input.field_type == 'monetary') {\n\t%><span class=\"monetary\">\n\t\t<input name=\"<%- input.key %>\" class=\"value\" value=\"<%- input.value ? input.value : '' %>\" id=\"<%- input.uuid ? input.uuid : input.key %>\" type=\"text\"<%= input.tabindex ? ' tabindex=\"' + _.escape(input.tabindex) + '\"' : '' %><% if (typeof input.data != 'undefined') { _.forEach(input.data, function(value, key) { if (key == 'el') { return; } %> data-<%- key %>=\"<%- value %>\"<% }); } %>/><select name=\"<%- input.sub.key %>\" class=\"currency\"<%- input.sub.tabindex ? ' tabindex=\"' + input.sub.tabindex + '\"' : '' %><% if (typeof input.sub.data != 'undefined') { _.forEach(input.sub.data, function(value, key) { %> data-<%- key %>=\"<%- value %>\"<% }); } %> id=\"<%- input.sub.uuid ? input.sub.uuid : input.sub.key %>\">\n\t\t\t<% _.forEach(currencies, function(curr, i) {\n\t\t\t\tvar isSelected = curr.get('code') == (input.currency || user.get('default_currency'));\n\t\t\t\tif (!isSelected && !curr.get('active_flag')) { return; }\n\t\t\t%>\n\t\t\t<option value=\"<%- curr.get('code') %>\" data-symbol=\"<%- curr.get('symbol') %>\"<% if (isSelected) { %> selected=\"selected\"<%} %>>\n\t\t\t\t<%- curr.get('name') + (!curr.get('is_custom_flag') ? ' (' + curr.get('code') + ')' : (!_.isEmpty(curr.get('symbol'))) ? ' (' + curr.get('symbol') + ')' : '') %>\n\t\t\t</option>\n\t\t\t<% }); %>\n\t\t</select>\n\t</span><%\n}\nelse if (input.field_type == 'set') {\n\t%><select name=\"<%- input.key %>\" class=\"multiselect\" id=\"<%- input.uuid ? input.uuid : input.key %>\" multiple=\"multiple\"<%= input.tabindex ? ' tabindex=\"' + _.escape(input.tabindex) + '\"' : '' %><% if (typeof input.data != 'undefined') { _.forEach(input.data, function(value, key) { if (key == 'el') { return; } %> data-<%- key %>=\"<%- value %>\"<% }); } %><%= input.style ? ' style=\"' + input.style + '\"' : '' %>>\n\t\t<% _.forEach(input.options, function(opt, i) { %>\n\t\t<option value=\"<%- opt.id %>\"<%\n\t\t\tif (opt.selected == true) {\n\t\t\t\t%> selected=\"selected\"<%\n\t\t\t} %><%\n\t\t\tif (opt.class) {\n\t\t\t\t%> class=\"<%- opt.class %>\"<%\n\t\t\t} %><%\n\t\t\tif (typeof opt.data !== 'undefined') {\n\t\t\t\t_.forEach(opt.data, function(value, key) {%>\n\t\t\t\t\t data-<%- key %>=\"<%- value %>\"<%\n\t\t\t\t});\n\t\t\t} %>>\n\t\t\t<%- opt.label %>\n\t\t</option>\n\t\t<% }); %>\n\t</select><%\n}\nelse if (input.field_type === 'varcharMultipleOptions') { %>\n\t<% _.forEach(input.values, function(value, key) { %>\n\t\t<span class=\"multipleOptions__element<%- value.showWarning ? ' multipleOptions__element--noemail' : '' %>\" data-id=\"<%- value.id%>\">\n\t\t\t<input type=\"hidden\" name=\"<%- input.key %>_<%- value.id %>\" value=\"<%- value.name %>\" />\n\t\t\t<%= _.icon('sm-cross', 's', input.iconColor, 'multipleOptionsElement__cross') %>\n\t\t\t<%- value.name %>\n\t\t\t<% if (value.showWarning) { %>\n\t\t\t<span class=\"multipleOptionsElement__warning\">\n\t\t\t\t<%= _.icon('warning-outline', '', 'yellow') %>\n\t\t\t</span>\n\t\t\t<% }; %>\n\t\t\t</span>\n\t<% }); %>\n\t<input type=\"text\" id=\"<%- input.uuid %>\" autocomplete=\"off\" class=\"widget-autocompleter\" data-name=\"<%- input.key %>\"\n\t\tplaceholder=\"<%- input.values.length === 0 ? input.placeholder : '' %>\" data-test=\"<%- input.key %>\" data-placeholder=\"<%- input.placeholder%>\" value=\"\" size=\"<%- input.defaultSize %>\"/>\n\t<span class=\"spinner\"></span>\n\t<% if (input.iconClass) { %>\n\t\t<%= _.icon(input.iconClass, (input.iconClass.includes('sm-') ? 'small' : '')) %>\n\t<% } %>\n\t<span class=\"clear\"><%= _.icon('sm-cross', 'small', 'black-32') %></span>\n<%\n}\nelse if (input.field_type == 'plainStages') {\n\t%><div class=\"plainStages\" id=\"<%- input.uuid %>\">\n\t\t<% if (input.stages) { %>\n\t\t\t<span class=\"options\">\n\t\t\t\t<% _.forEach(input.stages, function(stage) { %>\n\t\t\t\t\t<%= _.form.radio({ key: 'stage_id', tabindex: '0', value: stage.get('id'), data: { title: stage.get('name') }, checked: input.selectedStageId == stage.id}) %>\n\t\t\t\t<% }); %>\n\t\t\t</span>\n\t\t<% } %>\n\t</div><%\n}\nelse if (input.field_type == 'stage') {\n\t%><div class=\"stagesWrapper\" id=\"<%- input.uuid %>\">\n\t\t<div class=\"pipelines\"></div>\n\t\t<div class=\"stages\"></div>\n\t\t<div class=\"probability\"></div>\n\t</div><%\n}\nelse if (input.field_type == 'select') {\n\tif (input.inlineLabel) {\n\t\t%><span class=\"label\"><%- input.label %></span><%\n\t} %><select name=\"<%- input.key %>\" id=\"<%- input.uuid ? input.uuid : input.key %>\" placeholder=\"<%- input.placeholder ? input.placeholder : '' %>\" <%= input.tabindex ? ' tabindex=\"' + _.escape(input.tabindex) + '\"' : '' %>\n\t\t<% if (typeof input.data != 'undefined') {\n\t\t\t_.forEach(input.data, function(value, key) {\n\t\t\t\tif (key == 'el') { return; } %>\n\t\t\t\tdata-<%- key %>=\"<%- value %>\"<%\n\t\t\t});\n\t\t} %> class=\"singleselect<%- input.className ? ' ' + input.className : '' %>\" <%- input.disabled ? 'disabled' : '' %>>\n\t\t<% _.forEach(input.options, function(opt) { %>\n\t\t\t<% if (opt.groupOptions) { %>\n\t\t\t\t<optgroup label=\"<%- opt.label %>\">\n\t\t\t\t\t<% _.forEach(opt.groupOptions, function(groupOptions) { %>\n\t\t\t\t\t\t<option value=\"<%- groupOptions.id %>\"<%\n\t\t\t\t\t\t\tif (groupOptions.selected === true) {\n\t\t\t\t\t\t\t\t%> selected=\"selected\"<%\n\t\t\t\t\t\t\t} %><%\n\t\t\t\t\t\t\tif (groupOptions.disabled === true) {\n\t\t\t\t\t\t\t\t%> disabled=\"disabled\"<%\n\t\t\t\t\t\t\t} %><%\n\t\t\t\t\t\t\tif (groupOptions.class) {\n\t\t\t\t\t\t\t\t%> class=\"<%- groupOptions.class %>\"<%\n\t\t\t\t\t\t\t} %><%\n\t\t\t\t\t\t\tif (typeof groupOptions.data !== 'undefined') {\n\t\t\t\t\t\t\t\t_.forEach(groupOptions.data, function(value, key) {%>\n\t\t\t\t\t\t\t\t\t data-<%- key %>=\"<%- value %>\"<%\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} %>>\n\t\t\t\t\t\t\t<%- groupOptions.label %>\n\t\t\t\t\t\t</option>\n\t\t\t\t\t<% }) %>\n\t\t\t\t</optgroup>\n\t\t\t<% } else { %>\n\t\t\t\t<option value=\"<%- opt.id %>\"<%\n\t\t\t\t\tif (opt.selected === true) {\n\t\t\t\t\t\t%> selected=\"selected\"<%\n\t\t\t\t\t} %><%\n\t\t\t\t\tif (opt.disabled === true) {\n\t\t\t\t\t\t%> disabled=\"disabled\"<%\n\t\t\t\t\t} %><%\n\t\t\t\t\tif (opt.class) {\n\t\t\t\t\t\t%> class=\"<%- opt.class %>\"<%\n\t\t\t\t\t} %><%\n\t\t\t\t\tif (typeof opt.data !== 'undefined') {\n\t\t\t\t\t\t_.forEach(opt.data, function(value, key) {%>\n\t\t\t\t\t\t\t data-<%- key %>=\"<%- value %>\"<%\n\t\t\t\t\t\t});\n\t\t\t\t\t} %>>\n\t\t\t\t\t<%- opt.label %>\n\t\t\t\t</option>\n\t\t\t<% } %>\n\t\t<% }); %>\n\t</select>\n\t<% if (input.iconClass) { %>\n\t\t<%= _.icon(input.iconClass, (input.iconClass.includes('sm-') ? 'small' : '')) %>\n\t<% } %>\n<% } else if (input.field_type == 'autocomplete' || input.field_type == 'address') { %>\n\t<% if (input.type == 'deal' || input.type == 'person' || input.type == 'organization') { %>\n\t\t<span><%= _.icon(input.type, 's') %></span>\n\t<% } %>\n\t<input type=\"text\" data-test=\"<%- input.key %>\" id=\"<%- input.uuid %>\" autocomplete=\"<%- input.field_type == 'address' ? 'new-street-address' : 'off' %>\" class=\"widget-autocompleter<%- (typeof input.className != 'undefined') ? ' ' + input.className : '' %>\" name=\"<%- input.key %>\" value=\"<%- input.value ? input.value : '' %>\" placeholder=\"<%- input.placeholder ? input.placeholder : '' %>\"<%= input.tabindex ? ' tabindex=\"' + _.escape(input.tabindex) + '\"' : '' %><% if (typeof input.data != 'undefined') { _.forEach(input.data, function(value, key) { if (key == 'el') { return; } %> data-<%- key %>=\"<%- value %>\"<% }); } %>/>\n\t<span class=\"spinner\"></span>\n\t<% if (input.iconClass) { %>\n\t\t<%= _.icon(input.iconClass, (input.iconClass.includes('sm-') ? 'small' : '')) %>\n\t<% } %>\n\t<% if (_.isBoolean(input.clear) && input.clear) { %>\n\t\t<span class=\"clear\"><%= _.icon('sm-cross', 'small', 'black-32') %></span>\n\t<% } %>\n<% } else if (input.field_type == 'emailPicker') {\n\tif (input.inlineLabel) {\n\t\t%><span class=\"label\"><%- input.label %></span><%\n\t} %>\n\t<input type=\"text\" id=\"<%- input.uuid %>\" name=\"<%- input.key %>\" value=\"<%- input.value ? input.value : '' %>\" multiple=\"multiple\" class=\"inlinelabel<%- (typeof input.className != 'undefined' ? ' ' + input.className : '') %>\" style=\"width: 100%\"<% if (typeof input.data != 'undefined') { _.forEach(input.data, function(value, key) { if (key == 'el') { return; } %> data-<%- key %>=\"<%- value %>\"<% }); } %> /><%\n}\nelse if (input.field_type == 'contact') {\n\t%><span class=\"inputContactRow\"></span><span class=\"addContact\">+ <a href=\"\" class=\"addContactField\"><%- addLinkText %></a></span><%\n}\nelse {\n\tif (input.inlineLabel) {\n\t\t%><span class=\"label\"><%- input.label %></span><%\n\t}\n\t%><input type=\"text\" data-test=\"<%- input.key %>\" name=\"<%- input.key %>\" value=\"<%- input.value ? input.value : '' %>\" id=\"<%- input.uuid ? input.uuid : input.key %>\"\n\t<% if (input.maxlength) { %>\n\t\tmaxlength=\"<%- input.maxlength %>\"\n\t<% }\n\tif (input.placeholder) { %>\n\t\tplaceholder=\"<%- input.placeholder %>\"\n\t<% }\n\tif (input.tabindex) { %>\n\t\ttabindex=\"<%- input.tabindex %>\"\n\t<% }\n\tif (typeof input.data != 'undefined') {\n\t\t_.forEach(input.data, function(value, key) {\n\t\t\tif (key == 'el') { return; }\n\t\t\t%> data-<%- key %>=\"<%- value %>\" <%\n\t\t});\n\t}\n\tif (input.noAutocomplete) { %>\n\t\tautocomplete=\"off\"\n\t<% } %> /><%\n}\n\n// wrapping end tags\nif (!input.noWrap) { %></span><% }\nif (input.withLabel) { %></div><% }\n\n// input loaded callback\nif (input.loadCallback) {\n\t%><script id=\"script_<%- input.loadCallback %>\"> window['<%- input.loadCallback %>'](); </script><%\n} %>"